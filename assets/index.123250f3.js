var Vl=Object.defineProperty,Yl=Object.defineProperties;var Xl=Object.getOwnPropertyDescriptors;var $o=Object.getOwnPropertySymbols;var Kl=Object.prototype.hasOwnProperty,Jl=Object.prototype.propertyIsEnumerable;var Vn=(r,e,n)=>e in r?Vl(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,Ho=(r,e)=>{for(var n in e||(e={}))Kl.call(e,n)&&Vn(r,n,e[n]);if($o)for(var n of $o(e))Jl.call(e,n)&&Vn(r,n,e[n]);return r},Fo=(r,e)=>Yl(r,Xl(e));var Xt=(r,e,n)=>(Vn(r,typeof e!="symbol"?e+"":e,n),n);const Ql=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerpolicy&&(u.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?u.credentials="include":a.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}};Ql();function j(){}function Ds(r,e){for(const n in e)r[n]=e[n];return r}function tu(r){return r&&typeof r=="object"&&typeof r.then=="function"}function Is(r){return r()}function Uo(){return Object.create(null)}function Ft(r){r.forEach(Is)}function Qi(r){return typeof r=="function"}function bt(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function eu(r){return Object.keys(r).length===0}function Bs(r,...e){if(r==null)return j;const n=r.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Rs(r,e,n){r.$$.on_destroy.push(Bs(e,n))}function b(r,e){r.appendChild(e)}function H(r,e,n){r.insertBefore(e,n||null)}function $(r){r.parentNode.removeChild(r)}function tn(r,e){for(let n=0;n<r.length;n+=1)r[n]&&r[n].d(e)}function k(r){return document.createElement(r)}function gt(r){return document.createTextNode(r)}function I(){return gt(" ")}function Le(){return gt("")}function Tt(r,e,n,o){return r.addEventListener(e,n,o),()=>r.removeEventListener(e,n,o)}function mi(r){return function(e){return e.preventDefault(),r.call(this,e)}}function x(r,e,n){n==null?r.removeAttribute(e):r.getAttribute(e)!==n&&r.setAttribute(e,n)}function Zs(r){return r===""?null:+r}function iu(r){return Array.from(r.childNodes)}function zt(r,e){e=""+e,r.wholeText!==e&&(r.data=e)}function Et(r,e){r.value=e==null?"":e}function an(r,e,n,o){n===null?r.style.removeProperty(e):r.style.setProperty(e,n,o?"important":"")}function jo(r,e){for(let n=0;n<r.options.length;n+=1){const o=r.options[n];if(o.__value===e){o.selected=!0;return}}r.selectedIndex=-1}function nu(r){const e=r.querySelector(":checked")||r.options[0];return e&&e.__value}function ru(r,e,{bubbles:n=!1,cancelable:o=!1}={}){const a=document.createEvent("CustomEvent");return a.initCustomEvent(r,n,o,e),a}let _i;function oe(r){_i=r}function Te(){if(!_i)throw new Error("Function called outside component initialization");return _i}function pe(r){Te().$$.on_mount.push(r)}function ou(r){Te().$$.after_update.push(r)}function $s(r){Te().$$.on_destroy.push(r)}function mr(){const r=Te();return(e,n,{cancelable:o=!1}={})=>{const a=r.$$.callbacks[e];if(a){const u=ru(e,n,{cancelable:o});return a.slice().forEach(h=>{h.call(r,u)}),!u.defaultPrevented}return!0}}function su(r,e){return Te().$$.context.set(r,e),e}function Kt(r){return Te().$$.context.get(r)}function sr(r,e){const n=r.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const hi=[],ce=[],Vi=[],ar=[],Hs=Promise.resolve();let lr=!1;function Fs(){lr||(lr=!0,Hs.then(_r))}function Us(){return Fs(),Hs}function en(r){Vi.push(r)}function Wo(r){ar.push(r)}const Yn=new Set;let ji=0;function _r(){const r=_i;do{for(;ji<hi.length;){const e=hi[ji];ji++,oe(e),au(e.$$)}for(oe(null),hi.length=0,ji=0;ce.length;)ce.pop()();for(let e=0;e<Vi.length;e+=1){const n=Vi[e];Yn.has(n)||(Yn.add(n),n())}Vi.length=0}while(hi.length);for(;ar.length;)ar.pop()();lr=!1,Yn.clear(),oe(r)}function au(r){if(r.fragment!==null){r.update(),Ft(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(en)}}const Yi=new Set;let Pe;function yi(){Pe={r:0,c:[],p:Pe}}function bi(){Pe.r||Ft(Pe.c),Pe=Pe.p}function tt(r,e){r&&r.i&&(Yi.delete(r),r.i(e))}function it(r,e,n,o){if(r&&r.o){if(Yi.has(r))return;Yi.add(r),Pe.c.push(()=>{Yi.delete(r),o&&(n&&r.d(1),o())}),r.o(e)}}function Go(r,e){const n=e.token={};function o(a,u,h,d){if(e.token!==n)return;e.resolved=d;let c=e.ctx;h!==void 0&&(c=c.slice(),c[h]=d);const p=a&&(e.current=a)(c);let _=!1;e.block&&(e.blocks?e.blocks.forEach((g,y)=>{y!==u&&g&&(yi(),it(g,1,1,()=>{e.blocks[y]===g&&(e.blocks[y]=null)}),bi())}):e.block.d(1),p.c(),tt(p,1),p.m(e.mount(),e.anchor),_=!0),e.block=p,e.blocks&&(e.blocks[u]=p),_&&_r()}if(tu(r)){const a=Te();if(r.then(u=>{oe(a),o(e.then,1,e.value,u),oe(null)},u=>{if(oe(a),o(e.catch,2,e.error,u),oe(null),!e.hasCatch)throw u}),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,r),!0;e.resolved=r}}function lu(r,e,n){const o=e.slice(),{resolved:a}=r;r.current===r.then&&(o[r.value]=a),r.current===r.catch&&(o[r.error]=a),r.block.p(o,n)}function js(r,e){const n={},o={},a={$$scope:1};let u=r.length;for(;u--;){const h=r[u],d=e[u];if(d){for(const c in h)c in d||(o[c]=1);for(const c in d)a[c]||(n[c]=d[c],a[c]=1);r[u]=d}else for(const c in h)a[c]=1}for(const h in o)h in n||(n[h]=void 0);return n}function Ws(r){return typeof r=="object"&&r!==null?r:{}}function qo(r,e,n){const o=r.$$.props[e];o!==void 0&&(r.$$.bound[o]=n,n(r.$$.ctx[o]))}function ct(r){r&&r.c()}function ut(r,e,n,o){const{fragment:a,on_mount:u,on_destroy:h,after_update:d}=r.$$;a&&a.m(e,n),o||en(()=>{const c=u.map(Is).filter(Qi);h?h.push(...c):Ft(c),r.$$.on_mount=[]}),d.forEach(en)}function ht(r,e){const n=r.$$;n.fragment!==null&&(Ft(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function uu(r,e){r.$$.dirty[0]===-1&&(hi.push(r),Fs(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function xt(r,e,n,o,a,u,h,d=[-1]){const c=_i;oe(r);const p=r.$$={fragment:null,ctx:null,props:u,update:j,not_equal:a,bound:Uo(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Uo(),dirty:d,skip_bound:!1,root:e.target||c.$$.root};h&&h(p.root);let _=!1;if(p.ctx=n?n(r,e.props||{},(g,y,...w)=>{const T=w.length?w[0]:y;return p.ctx&&a(p.ctx[g],p.ctx[g]=T)&&(!p.skip_bound&&p.bound[g]&&p.bound[g](T),_&&uu(r,g)),y}):[],p.update(),_=!0,Ft(p.before_update),p.fragment=o?o(p.ctx):!1,e.target){if(e.hydrate){const g=iu(e.target);p.fragment&&p.fragment.l(g),g.forEach($)}else p.fragment&&p.fragment.c();e.intro&&tt(r.$$.fragment),ut(r,e.target,e.anchor,e.customElement),_r()}oe(c)}class Pt{$destroy(){ht(this,1),this.$destroy=j}$on(e,n){const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const a=o.indexOf(n);a!==-1&&o.splice(a,1)}}$set(e){this.$$set&&!eu(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var hu=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},gr={exports:{}},Gs=function(e,n){return function(){for(var a=new Array(arguments.length),u=0;u<a.length;u++)a[u]=arguments[u];return e.apply(n,a)}},cu=Gs,me=Object.prototype.toString;function vr(r){return Array.isArray(r)}function ur(r){return typeof r=="undefined"}function fu(r){return r!==null&&!ur(r)&&r.constructor!==null&&!ur(r.constructor)&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function qs(r){return me.call(r)==="[object ArrayBuffer]"}function du(r){return me.call(r)==="[object FormData]"}function pu(r){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&qs(r.buffer),e}function mu(r){return typeof r=="string"}function _u(r){return typeof r=="number"}function Vs(r){return r!==null&&typeof r=="object"}function Xi(r){if(me.call(r)!=="[object Object]")return!1;var e=Object.getPrototypeOf(r);return e===null||e===Object.prototype}function gu(r){return me.call(r)==="[object Date]"}function vu(r){return me.call(r)==="[object File]"}function yu(r){return me.call(r)==="[object Blob]"}function Ys(r){return me.call(r)==="[object Function]"}function bu(r){return Vs(r)&&Ys(r.pipe)}function wu(r){return me.call(r)==="[object URLSearchParams]"}function xu(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function Pu(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function yr(r,e){if(!(r===null||typeof r=="undefined"))if(typeof r!="object"&&(r=[r]),vr(r))for(var n=0,o=r.length;n<o;n++)e.call(null,r[n],n,r);else for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.call(null,r[a],a,r)}function hr(){var r={};function e(a,u){Xi(r[u])&&Xi(a)?r[u]=hr(r[u],a):Xi(a)?r[u]=hr({},a):vr(a)?r[u]=a.slice():r[u]=a}for(var n=0,o=arguments.length;n<o;n++)yr(arguments[n],e);return r}function Lu(r,e,n){return yr(e,function(a,u){n&&typeof a=="function"?r[u]=cu(a,n):r[u]=a}),r}function Tu(r){return r.charCodeAt(0)===65279&&(r=r.slice(1)),r}var It={isArray:vr,isArrayBuffer:qs,isBuffer:fu,isFormData:du,isArrayBufferView:pu,isString:mu,isNumber:_u,isObject:Vs,isPlainObject:Xi,isUndefined:ur,isDate:gu,isFile:vu,isBlob:yu,isFunction:Ys,isStream:bu,isURLSearchParams:wu,isStandardBrowserEnv:Pu,forEach:yr,merge:hr,extend:Lu,trim:xu,stripBOM:Tu},Ie=It;function Vo(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Xs=function(e,n,o){if(!n)return e;var a;if(o)a=o(n);else if(Ie.isURLSearchParams(n))a=n.toString();else{var u=[];Ie.forEach(n,function(c,p){c===null||typeof c=="undefined"||(Ie.isArray(c)?p=p+"[]":c=[c],Ie.forEach(c,function(g){Ie.isDate(g)?g=g.toISOString():Ie.isObject(g)&&(g=JSON.stringify(g)),u.push(Vo(p)+"="+Vo(g))}))}),a=u.join("&")}if(a){var h=e.indexOf("#");h!==-1&&(e=e.slice(0,h)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e},ku=It;function ln(){this.handlers=[]}ln.prototype.use=function(e,n,o){return this.handlers.push({fulfilled:e,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1};ln.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};ln.prototype.forEach=function(e){ku.forEach(this.handlers,function(o){o!==null&&e(o)})};var Su=ln,Cu=It,Au=function(e,n){Cu.forEach(e,function(a,u){u!==n&&u.toUpperCase()===n.toUpperCase()&&(e[n]=a,delete e[u])})},Ks=function(e,n,o,a,u){return e.config=n,o&&(e.code=o),e.request=a,e.response=u,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},Js={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Eu=Ks,Qs=function(e,n,o,a,u){var h=new Error(e);return Eu(h,n,o,a,u)},Ou=Qs,Mu=function(e,n,o){var a=o.config.validateStatus;!o.status||!a||a(o.status)?e(o):n(Ou("Request failed with status code "+o.status,o.config,null,o.request,o))},Wi=It,zu=Wi.isStandardBrowserEnv()?function(){return{write:function(n,o,a,u,h,d){var c=[];c.push(n+"="+encodeURIComponent(o)),Wi.isNumber(a)&&c.push("expires="+new Date(a).toGMTString()),Wi.isString(u)&&c.push("path="+u),Wi.isString(h)&&c.push("domain="+h),d===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(n){var o=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Nu=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},Du=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e},Iu=Nu,Bu=Du,Ru=function(e,n){return e&&!Iu(n)?Bu(e,n):n},Xn=It,Zu=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],$u=function(e){var n={},o,a,u;return e&&Xn.forEach(e.split(`
`),function(d){if(u=d.indexOf(":"),o=Xn.trim(d.substr(0,u)).toLowerCase(),a=Xn.trim(d.substr(u+1)),o){if(n[o]&&Zu.indexOf(o)>=0)return;o==="set-cookie"?n[o]=(n[o]?n[o]:[]).concat([a]):n[o]=n[o]?n[o]+", "+a:a}}),n},Yo=It,Hu=Yo.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),o;function a(u){var h=u;return e&&(n.setAttribute("href",h),h=n.href),n.setAttribute("href",h),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return o=a(window.location.href),function(h){var d=Yo.isString(h)?a(h):h;return d.protocol===o.protocol&&d.host===o.host}}():function(){return function(){return!0}}();function br(r){this.message=r}br.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};br.prototype.__CANCEL__=!0;var un=br,Gi=It,Fu=Mu,Uu=zu,ju=Xs,Wu=Ru,Gu=$u,qu=Hu,Kn=Qs,Vu=Js,Yu=un,Xo=function(e){return new Promise(function(o,a){var u=e.data,h=e.headers,d=e.responseType,c;function p(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}Gi.isFormData(u)&&delete h["Content-Type"];var _=new XMLHttpRequest;if(e.auth){var g=e.auth.username||"",y=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(g+":"+y)}var w=Wu(e.baseURL,e.url);_.open(e.method.toUpperCase(),ju(w,e.params,e.paramsSerializer),!0),_.timeout=e.timeout;function T(){if(!!_){var E="getAllResponseHeaders"in _?Gu(_.getAllResponseHeaders()):null,C=!d||d==="text"||d==="json"?_.responseText:_.response,M={data:C,status:_.status,statusText:_.statusText,headers:E,config:e,request:_};Fu(function(D){o(D),p()},function(D){a(D),p()},M),_=null}}if("onloadend"in _?_.onloadend=T:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(T)},_.onabort=function(){!_||(a(Kn("Request aborted",e,"ECONNABORTED",_)),_=null)},_.onerror=function(){a(Kn("Network Error",e,null,_)),_=null},_.ontimeout=function(){var C=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",M=e.transitional||Vu;e.timeoutErrorMessage&&(C=e.timeoutErrorMessage),a(Kn(C,e,M.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",_)),_=null},Gi.isStandardBrowserEnv()){var A=(e.withCredentials||qu(w))&&e.xsrfCookieName?Uu.read(e.xsrfCookieName):void 0;A&&(h[e.xsrfHeaderName]=A)}"setRequestHeader"in _&&Gi.forEach(h,function(C,M){typeof u=="undefined"&&M.toLowerCase()==="content-type"?delete h[M]:_.setRequestHeader(M,C)}),Gi.isUndefined(e.withCredentials)||(_.withCredentials=!!e.withCredentials),d&&d!=="json"&&(_.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&_.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&_.upload&&_.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(c=function(E){!_||(a(!E||E&&E.type?new Yu("canceled"):E),_.abort(),_=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c))),u||(u=null),_.send(u)})},Nt=It,Ko=Au,Xu=Ks,Ku=Js,Ju={"Content-Type":"application/x-www-form-urlencoded"};function Jo(r,e){!Nt.isUndefined(r)&&Nt.isUndefined(r["Content-Type"])&&(r["Content-Type"]=e)}function Qu(){var r;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(r=Xo),r}function th(r,e,n){if(Nt.isString(r))try{return(e||JSON.parse)(r),Nt.trim(r)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(r)}var hn={transitional:Ku,adapter:Qu(),transformRequest:[function(e,n){return Ko(n,"Accept"),Ko(n,"Content-Type"),Nt.isFormData(e)||Nt.isArrayBuffer(e)||Nt.isBuffer(e)||Nt.isStream(e)||Nt.isFile(e)||Nt.isBlob(e)?e:Nt.isArrayBufferView(e)?e.buffer:Nt.isURLSearchParams(e)?(Jo(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Nt.isObject(e)||n&&n["Content-Type"]==="application/json"?(Jo(n,"application/json"),th(e)):e}],transformResponse:[function(e){var n=this.transitional||hn.transitional,o=n&&n.silentJSONParsing,a=n&&n.forcedJSONParsing,u=!o&&this.responseType==="json";if(u||a&&Nt.isString(e)&&e.length)try{return JSON.parse(e)}catch(h){if(u)throw h.name==="SyntaxError"?Xu(h,this,"E_JSON_PARSE"):h}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Nt.forEach(["delete","get","head"],function(e){hn.headers[e]={}});Nt.forEach(["post","put","patch"],function(e){hn.headers[e]=Nt.merge(Ju)});var wr=hn,eh=It,ih=wr,nh=function(e,n,o){var a=this||ih;return eh.forEach(o,function(h){e=h.call(a,e,n)}),e},ta=function(e){return!!(e&&e.__CANCEL__)},Qo=It,Jn=nh,rh=ta,oh=wr,sh=un;function Qn(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new sh("canceled")}var ah=function(e){Qn(e),e.headers=e.headers||{},e.data=Jn.call(e,e.data,e.headers,e.transformRequest),e.headers=Qo.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Qo.forEach(["delete","get","head","post","put","patch","common"],function(a){delete e.headers[a]});var n=e.adapter||oh.adapter;return n(e).then(function(a){return Qn(e),a.data=Jn.call(e,a.data,a.headers,e.transformResponse),a},function(a){return rh(a)||(Qn(e),a&&a.response&&(a.response.data=Jn.call(e,a.response.data,a.response.headers,e.transformResponse))),Promise.reject(a)})},Bt=It,ea=function(e,n){n=n||{};var o={};function a(_,g){return Bt.isPlainObject(_)&&Bt.isPlainObject(g)?Bt.merge(_,g):Bt.isPlainObject(g)?Bt.merge({},g):Bt.isArray(g)?g.slice():g}function u(_){if(Bt.isUndefined(n[_])){if(!Bt.isUndefined(e[_]))return a(void 0,e[_])}else return a(e[_],n[_])}function h(_){if(!Bt.isUndefined(n[_]))return a(void 0,n[_])}function d(_){if(Bt.isUndefined(n[_])){if(!Bt.isUndefined(e[_]))return a(void 0,e[_])}else return a(void 0,n[_])}function c(_){if(_ in n)return a(e[_],n[_]);if(_ in e)return a(void 0,e[_])}var p={url:h,method:h,data:h,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:c};return Bt.forEach(Object.keys(e).concat(Object.keys(n)),function(g){var y=p[g]||u,w=y(g);Bt.isUndefined(w)&&y!==c||(o[g]=w)}),o},ia={version:"0.26.1"},lh=ia.version,xr={};["object","boolean","number","function","string","symbol"].forEach(function(r,e){xr[r]=function(o){return typeof o===r||"a"+(e<1?"n ":" ")+r}});var ts={};xr.transitional=function(e,n,o){function a(u,h){return"[Axios v"+lh+"] Transitional option '"+u+"'"+h+(o?". "+o:"")}return function(u,h,d){if(e===!1)throw new Error(a(h," has been removed"+(n?" in "+n:"")));return n&&!ts[h]&&(ts[h]=!0,console.warn(a(h," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(u,h,d):!0}};function uh(r,e,n){if(typeof r!="object")throw new TypeError("options must be an object");for(var o=Object.keys(r),a=o.length;a-- >0;){var u=o[a],h=e[u];if(h){var d=r[u],c=d===void 0||h(d,u,r);if(c!==!0)throw new TypeError("option "+u+" must be "+c);continue}if(n!==!0)throw Error("Unknown option "+u)}}var hh={assertOptions:uh,validators:xr},na=It,ch=Xs,es=Su,is=ah,cn=ea,ra=hh,Be=ra.validators;function wi(r){this.defaults=r,this.interceptors={request:new es,response:new es}}wi.prototype.request=function(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=cn(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var o=n.transitional;o!==void 0&&ra.assertOptions(o,{silentJSONParsing:Be.transitional(Be.boolean),forcedJSONParsing:Be.transitional(Be.boolean),clarifyTimeoutError:Be.transitional(Be.boolean)},!1);var a=[],u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(u=u&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});var h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});var d;if(!u){var c=[is,void 0];for(Array.prototype.unshift.apply(c,a),c=c.concat(h),d=Promise.resolve(n);c.length;)d=d.then(c.shift(),c.shift());return d}for(var p=n;a.length;){var _=a.shift(),g=a.shift();try{p=_(p)}catch(y){g(y);break}}try{d=is(p)}catch(y){return Promise.reject(y)}for(;h.length;)d=d.then(h.shift(),h.shift());return d};wi.prototype.getUri=function(e){return e=cn(this.defaults,e),ch(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};na.forEach(["delete","get","head","options"],function(e){wi.prototype[e]=function(n,o){return this.request(cn(o||{},{method:e,url:n,data:(o||{}).data}))}});na.forEach(["post","put","patch"],function(e){wi.prototype[e]=function(n,o,a){return this.request(cn(a||{},{method:e,url:n,data:o}))}});var fh=wi,dh=un;function We(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(a){e=a});var n=this;this.promise.then(function(o){if(!!n._listeners){var a,u=n._listeners.length;for(a=0;a<u;a++)n._listeners[a](o);n._listeners=null}}),this.promise.then=function(o){var a,u=new Promise(function(h){n.subscribe(h),a=h}).then(o);return u.cancel=function(){n.unsubscribe(a)},u},r(function(a){n.reason||(n.reason=new dh(a),e(n.reason))})}We.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};We.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};We.prototype.unsubscribe=function(e){if(!!this._listeners){var n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}};We.source=function(){var e,n=new We(function(a){e=a});return{token:n,cancel:e}};var ph=We,mh=function(e){return function(o){return e.apply(null,o)}},_h=It,gh=function(e){return _h.isObject(e)&&e.isAxiosError===!0},ns=It,vh=Gs,Ki=fh,yh=ea,bh=wr;function oa(r){var e=new Ki(r),n=vh(Ki.prototype.request,e);return ns.extend(n,Ki.prototype,e),ns.extend(n,e),n.create=function(a){return oa(yh(r,a))},n}var Jt=oa(bh);Jt.Axios=Ki;Jt.Cancel=un;Jt.CancelToken=ph;Jt.isCancel=ta;Jt.VERSION=ia.version;Jt.all=function(e){return Promise.all(e)};Jt.spread=mh;Jt.isAxiosError=gh;gr.exports=Jt;gr.exports.default=Jt;var Ht=gr.exports;const Re=[];function sa(r,e){return{subscribe:Pr(r,e).subscribe}}function Pr(r,e=j){let n;const o=new Set;function a(d){if(bt(r,d)&&(r=d,n)){const c=!Re.length;for(const p of o)p[1](),Re.push(p,r);if(c){for(let p=0;p<Re.length;p+=2)Re[p][0](Re[p+1]);Re.length=0}}}function u(d){a(d(r))}function h(d,c=j){const p=[d,c];return o.add(p),o.size===1&&(n=e(a)||j),d(r),()=>{o.delete(p),o.size===0&&(n(),n=null)}}return{set:a,update:u,subscribe:h}}function aa(r,e,n){const o=!Array.isArray(r),a=o?[r]:r,u=e.length<2;return sa(n,h=>{let d=!1;const c=[];let p=0,_=j;const g=()=>{if(p)return;_();const w=e(o?c[0]:c,h);u?h(w):_=Qi(w)?w:j},y=a.map((w,T)=>Bs(w,A=>{c[T]=A,p&=~(1<<T),d&&g()},()=>{p|=1<<T}));return d=!0,g(),function(){Ft(y),_()}})}const di=Pr({email:"",token:""});class wh{constructor(e){Xt(this,"baseUrl","https://webbackendpaul.herokuapp.com");console.log("HELLO"),this.baseUrl="https://webbackendpaul.herokuapp.com",console.log(this.baseUrl);const n=localStorage.donation;if(n){const o=JSON.parse(n);di.set({email:o.email,token:o.token}),Ht.defaults.headers.common.Authorization="Bearer "+o.token}}async login(e,n){try{const o=await Ht.post(`${this.baseUrl}/api/users/authenticate`,{email:e,password:n});return Ht.defaults.headers.common.Authorization="Bearer "+o.data.token,o.data.success?(di.set({email:e,token:o.data.token}),localStorage.donation=JSON.stringify({email:e,token:o.data.token}),!0):!1}catch{return!1}}async logout(){di.set({email:"",token:""}),Ht.defaults.headers.common.Authorization="",localStorage.removeItem("donation")}async signup(e,n,o,a){try{const u={firstName:e,lastName:n,email:o,password:a};return await Ht.post(this.baseUrl+"/api/users",u),!0}catch{return!1}}async donate(e){try{return(await Ht.post(this.baseUrl+"/api/candidates/"+e.candidate+"/donations",e)).status==200}catch{return!1}}async deleteDonationsOfUser(e){try{return(await Ht.delete(this.baseUrl+"/api/donations/"+e)).status==200}catch{return!1}}async countDonationsOfUser(e){try{return(await Ht.get(this.baseUrl+"/api/donations/number/"+e)).data}catch{return!1}}async deleteUser(e){try{return(await Ht.delete(this.baseUrl+"/api/users/"+e)).status==200}catch{return!1}}async getCandidates(){try{return(await Ht.get(this.baseUrl+"/api/candidates")).data}catch{return[]}}async getDonations(){try{return(await Ht.get(this.baseUrl+"/api/donations")).data}catch{return[]}}async getUsers(){try{return(await Ht.get(this.baseUrl+"/api/users")).data}catch{return[]}}}function xh(r){let e;return{c(){e=k("div"),e.innerHTML=`<a href="/#/signup" class="column"><i class="fas fa-user-cog fa-3x" style="color:rgb(63, 160, 155)"></i></a> 
  <a href="/#/login" class="column"><i class="fas fa-user-edit fa-3x" style="color:green" title="Log in"></i></a>`,x(e,"class","box has-text-centered columns m-2")},m(n,o){H(n,e,o)},p:j,i:j,o:j,d(n){n&&$(e)}}}class Lr extends Pt{constructor(e){super(),xt(this,e,null,xh,bt,{})}}function Ph(r){let e;return{c(){e=k("div"),e.textContent="Schools of University of Paris-Saclay 0.2",x(e,"class","is-size-7")},m(n,o){H(n,e,o)},p:j,d(n){n&&$(e)}}}function Lh(r){let e,n=r[2].email+"",o;return{c(){e=k("div"),o=gt(n),x(e,"class","is-size-7")},m(a,u){H(a,e,u),b(e,o)},p(a,u){u&4&&n!==(n=a[2].email+"")&&zt(o,n)},d(a){a&&$(e)}}}function Th(r){let e,n,o,a,u,h,d,c,p,_,g,y,w;function T(C,M){return C[2].email?Lh:Ph}let A=T(r),E=A(r);return{c(){e=k("div"),n=k("div"),o=I(),a=k("div"),u=k("div"),h=gt(r[0]),d=I(),c=k("div"),p=gt(r[1]),_=I(),g=k("div"),y=k("i"),w=I(),E.c(),x(n,"class","column"),x(u,"class","title is-5"),x(c,"class","subtitle is-5"),x(a,"class","column"),x(y,"class","fas fa-donate fa-3x"),an(y,"color","rgb(95, 96, 173)"),x(y,"title","Source repo"),x(y,"pos","bottom"),x(y,"uk-tooltip",""),x(g,"class","column"),x(e,"class","box has-text-centered columns m-2")},m(C,M){H(C,e,M),b(e,n),b(e,o),b(e,a),b(a,u),b(u,h),b(a,d),b(a,c),b(c,p),b(e,_),b(e,g),b(g,y),b(g,w),E.m(g,null)},p(C,[M]){M&1&&zt(h,C[0]),M&2&&zt(p,C[1]),A===(A=T(C))&&E?E.p(C,M):(E.d(1),E=A(C),E&&(E.c(),E.m(g,null)))},i:j,o:j,d(C){C&&$(e),E.d()}}}function kh(r,e,n){let o;Rs(r,di,h=>n(2,o=h));let{title:a=""}=e,{subTitle:u=""}=e;return r.$$set=h=>{"title"in h&&n(0,a=h.title),"subTitle"in h&&n(1,u=h.subTitle)},[a,u,o]}class ke extends Pt{constructor(e){super(),xt(this,e,kh,Th,bt,{title:0,subTitle:1})}}function Sh(r){let e,n,o,a,u,h,d,c,p;return o=new ke({props:{subTitle:"Sign up or Log in",title:"Schools of University of Paris-Saclay"}}),h=new Lr({}),{c(){e=k("div"),n=k("div"),ct(o.$$.fragment),a=I(),u=k("div"),ct(h.$$.fragment),d=I(),c=k("div"),c.innerHTML=`<div class="column"><h1 class="title">Help Me Complete This Database About Schools of The University Of Paris-Saclay</h1> 
    <p>Create an account, check if there is already one of its schools. If not, you can add it</p></div>`,x(n,"class","column is-two-thirds"),x(u,"class","column"),x(e,"class","columns is-vcentered"),x(c,"class","columns is-vcentered content has-text-centered m-2")},m(_,g){H(_,e,g),b(e,n),ut(o,n,null),b(e,a),b(e,u),ut(h,u,null),H(_,d,g),H(_,c,g),p=!0},p:j,i(_){p||(tt(o.$$.fragment,_),tt(h.$$.fragment,_),p=!0)},o(_){it(o.$$.fragment,_),it(h.$$.fragment,_),p=!1},d(_){_&&$(e),ht(o),ht(h),_&&$(d),_&&$(c)}}}function Ch(r){return Kt("DonationService").logout(),[]}class rs extends Pt{constructor(e){super(),xt(this,e,Ch,Sh,bt,{})}}function Ah(r,e){if(r instanceof RegExp)return{keys:!1,pattern:r};var n,o,a,u,h=[],d="",c=r.split("/");for(c[0]||c.shift();a=c.shift();)n=a[0],n==="*"?(h.push("wild"),d+="/(.*)"):n===":"?(o=a.indexOf("?",1),u=a.indexOf(".",1),h.push(a.substring(1,~o?o:~u?u:a.length)),d+=!!~o&&!~u?"(?:/([^/]+?))?":"/([^/]+?)",~u&&(d+=(~o?"?":"")+"\\"+a.substring(u))):d+="/"+a;return{keys:h,pattern:new RegExp("^"+d+(e?"(?=$|/)":"/?$"),"i")}}function Eh(r){let e,n,o;const a=[r[2]];var u=r[0];function h(d){let c={};for(let p=0;p<a.length;p+=1)c=Ds(c,a[p]);return{props:c}}return u&&(e=new u(h()),e.$on("routeEvent",r[7])),{c(){e&&ct(e.$$.fragment),n=Le()},m(d,c){e&&ut(e,d,c),H(d,n,c),o=!0},p(d,c){const p=c&4?js(a,[Ws(d[2])]):{};if(u!==(u=d[0])){if(e){yi();const _=e;it(_.$$.fragment,1,0,()=>{ht(_,1)}),bi()}u?(e=new u(h()),e.$on("routeEvent",d[7]),ct(e.$$.fragment),tt(e.$$.fragment,1),ut(e,n.parentNode,n)):e=null}else u&&e.$set(p)},i(d){o||(e&&tt(e.$$.fragment,d),o=!0)},o(d){e&&it(e.$$.fragment,d),o=!1},d(d){d&&$(n),e&&ht(e,d)}}}function Oh(r){let e,n,o;const a=[{params:r[1]},r[2]];var u=r[0];function h(d){let c={};for(let p=0;p<a.length;p+=1)c=Ds(c,a[p]);return{props:c}}return u&&(e=new u(h()),e.$on("routeEvent",r[6])),{c(){e&&ct(e.$$.fragment),n=Le()},m(d,c){e&&ut(e,d,c),H(d,n,c),o=!0},p(d,c){const p=c&6?js(a,[c&2&&{params:d[1]},c&4&&Ws(d[2])]):{};if(u!==(u=d[0])){if(e){yi();const _=e;it(_.$$.fragment,1,0,()=>{ht(_,1)}),bi()}u?(e=new u(h()),e.$on("routeEvent",d[6]),ct(e.$$.fragment),tt(e.$$.fragment,1),ut(e,n.parentNode,n)):e=null}else u&&e.$set(p)},i(d){o||(e&&tt(e.$$.fragment,d),o=!0)},o(d){e&&it(e.$$.fragment,d),o=!1},d(d){d&&$(n),e&&ht(e,d)}}}function Mh(r){let e,n,o,a;const u=[Oh,Eh],h=[];function d(c,p){return c[1]?0:1}return e=d(r),n=h[e]=u[e](r),{c(){n.c(),o=Le()},m(c,p){h[e].m(c,p),H(c,o,p),a=!0},p(c,[p]){let _=e;e=d(c),e===_?h[e].p(c,p):(yi(),it(h[_],1,1,()=>{h[_]=null}),bi(),n=h[e],n?n.p(c,p):(n=h[e]=u[e](c),n.c()),tt(n,1),n.m(o.parentNode,o))},i(c){a||(tt(n),a=!0)},o(c){it(n),a=!1},d(c){h[e].d(c),c&&$(o)}}}function os(){const r=window.location.href.indexOf("#/");let e=r>-1?window.location.href.substr(r+1):"/";const n=e.indexOf("?");let o="";return n>-1&&(o=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:o}}const Tr=sa(null,function(e){e(os());const n=()=>{e(os())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});aa(Tr,r=>r.location);aa(Tr,r=>r.querystring);const ss=Pr(void 0);async function kr(r){if(!r||r.length<1||r.charAt(0)!="/"&&r.indexOf("#/")!==0)throw Error("Invalid parameter location");await Us(),history.replaceState(Fo(Ho({},history.state),{__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY}),void 0,void 0),window.location.hash=(r.charAt(0)=="#"?"":"#")+r}function zh(r,e,n){let{routes:o={}}=e,{prefix:a=""}=e,{restoreScrollState:u=!1}=e;class h{constructor(N,B){if(!B||typeof B!="function"&&(typeof B!="object"||B._sveltesparouter!==!0))throw Error("Invalid component object");if(!N||typeof N=="string"&&(N.length<1||N.charAt(0)!="/"&&N.charAt(0)!="*")||typeof N=="object"&&!(N instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:W,keys:J}=Ah(N);this.path=N,typeof B=="object"&&B._sveltesparouter===!0?(this.component=B.component,this.conditions=B.conditions||[],this.userData=B.userData,this.props=B.props||{}):(this.component=()=>Promise.resolve(B),this.conditions=[],this.props={}),this._pattern=W,this._keys=J}match(N){if(a){if(typeof a=="string")if(N.startsWith(a))N=N.substr(a.length)||"/";else return null;else if(a instanceof RegExp){const R=N.match(a);if(R&&R[0])N=N.substr(R[0].length)||"/";else return null}}const B=this._pattern.exec(N);if(B===null)return null;if(this._keys===!1)return B;const W={};let J=0;for(;J<this._keys.length;){try{W[this._keys[J]]=decodeURIComponent(B[J+1]||"")||null}catch{W[this._keys[J]]=null}J++}return W}async checkConditions(N){for(let B=0;B<this.conditions.length;B++)if(!await this.conditions[B](N))return!1;return!0}}const d=[];o instanceof Map?o.forEach((D,N)=>{d.push(new h(N,D))}):Object.keys(o).forEach(D=>{d.push(new h(D,o[D]))});let c=null,p=null,_={};const g=mr();async function y(D,N){await Us(),g(D,N)}let w=null,T=null;u&&(T=D=>{D.state&&D.state.__svelte_spa_router_scrollY?w=D.state:w=null},window.addEventListener("popstate",T),ou(()=>{w?window.scrollTo(w.__svelte_spa_router_scrollX,w.__svelte_spa_router_scrollY):window.scrollTo(0,0)}));let A=null,E=null;const C=Tr.subscribe(async D=>{A=D;let N=0;for(;N<d.length;){const B=d[N].match(D.location);if(!B){N++;continue}const W={route:d[N].path,location:D.location,querystring:D.querystring,userData:d[N].userData,params:B&&typeof B=="object"&&Object.keys(B).length?B:null};if(!await d[N].checkConditions(W)){n(0,c=null),E=null,y("conditionsFailed",W);return}y("routeLoading",Object.assign({},W));const J=d[N].component;if(E!=J){J.loading?(n(0,c=J.loading),E=J,n(1,p=J.loadingParams),n(2,_={}),y("routeLoaded",Object.assign({},W,{component:c,name:c.name,params:p}))):(n(0,c=null),E=null);const R=await J();if(D!=A)return;n(0,c=R&&R.default||R),E=J}B&&typeof B=="object"&&Object.keys(B).length?n(1,p=B):n(1,p=null),n(2,_=d[N].props),y("routeLoaded",Object.assign({},W,{component:c,name:c.name,params:p})).then(()=>{ss.set(p)});return}n(0,c=null),E=null,ss.set(void 0)});$s(()=>{C(),T&&window.removeEventListener("popstate",T)});function M(D){sr.call(this,r,D)}function z(D){sr.call(this,r,D)}return r.$$set=D=>{"routes"in D&&n(3,o=D.routes),"prefix"in D&&n(4,a=D.prefix),"restoreScrollState"in D&&n(5,u=D.restoreScrollState)},r.$$.update=()=>{r.$$.dirty&32&&(history.scrollRestoration=u?"manual":"auto")},[c,p,_,o,a,u,M,z]}class Nh extends Pt{constructor(e){super(),xt(this,e,zh,Mh,bt,{routes:3,prefix:4,restoreScrollState:5})}}function as(r){let e,n;return{c(){e=k("div"),n=gt(r[2]),x(e,"class","section")},m(o,a){H(o,e,a),b(e,n)},p(o,a){a&4&&zt(n,o[2])},d(o){o&&$(e)}}}function Dh(r){let e,n,o,a,u,h,d,c,p,_,g,y,w,T,A,E,C=r[2]&&as(r);return{c(){e=k("form"),n=k("div"),o=k("label"),o.textContent="Email",a=I(),u=k("input"),h=I(),d=k("div"),c=k("label"),c.textContent="Password",p=I(),_=k("input"),g=I(),y=k("div"),y.innerHTML='<button class="button is-link">Log In</button>',w=I(),C&&C.c(),T=Le(),x(o,"class","label"),x(o,"for","email"),x(u,"class","input"),x(u,"id","email"),x(u,"name","email"),x(u,"placeholder","Enter email"),x(u,"type","text"),x(n,"class","field"),x(c,"class","label"),x(c,"for","password"),x(_,"class","input"),x(_,"id","password"),x(_,"name","password"),x(_,"placeholder","Enter Password"),x(_,"type","password"),x(d,"class","field"),x(y,"class","field is-grouped")},m(M,z){H(M,e,z),b(e,n),b(n,o),b(n,a),b(n,u),Et(u,r[0]),b(e,h),b(e,d),b(d,c),b(d,p),b(d,_),Et(_,r[1]),b(e,g),b(e,y),H(M,w,z),C&&C.m(M,z),H(M,T,z),A||(E=[Tt(u,"input",r[4]),Tt(_,"input",r[5]),Tt(e,"submit",mi(r[3]))],A=!0)},p(M,[z]){z&1&&u.value!==M[0]&&Et(u,M[0]),z&2&&_.value!==M[1]&&Et(_,M[1]),M[2]?C?C.p(M,z):(C=as(M),C.c(),C.m(T.parentNode,T)):C&&(C.d(1),C=null)},i:j,o:j,d(M){M&&$(e),M&&$(w),C&&C.d(M),M&&$(T),A=!1,Ft(E)}}}function Ih(r,e,n){let o="",a="",u="";const h=Kt("DonationService");async function d(){await h.login(o,a)?kr("/donate"):(n(0,o=""),n(1,a=""),n(2,u="Invalid Credentials"))}function c(){o=this.value,n(0,o)}function p(){a=this.value,n(1,a)}return[o,a,u,d,c,p]}class Bh extends Pt{constructor(e){super(),xt(this,e,Ih,Dh,bt,{})}}function Rh(r){let e,n,o,a,u,h,d,c,p,_,g,y,w,T,A,E;return o=new ke({props:{title:"Schools of University of Paris-Saclay",subTitle:"Sign up or Log in"}}),h=new Lr({}),A=new Bh({}),{c(){e=k("div"),n=k("div"),ct(o.$$.fragment),a=I(),u=k("div"),ct(h.$$.fragment),d=I(),c=k("div"),p=k("div"),_=I(),g=k("div"),y=k("div"),w=k("h1"),w.textContent="Login",T=I(),ct(A.$$.fragment),x(n,"class","column is-two-thirds"),x(u,"class","column"),x(e,"class","columns is-vcentered"),x(p,"class","column has-text-centered"),x(w,"class","title"),x(y,"class","box"),x(g,"class","column"),x(c,"class","columns")},m(C,M){H(C,e,M),b(e,n),ut(o,n,null),b(e,a),b(e,u),ut(h,u,null),H(C,d,M),H(C,c,M),b(c,p),b(c,_),b(c,g),b(g,y),b(y,w),b(y,T),ut(A,y,null),E=!0},p:j,i(C){E||(tt(o.$$.fragment,C),tt(h.$$.fragment,C),tt(A.$$.fragment,C),E=!0)},o(C){it(o.$$.fragment,C),it(h.$$.fragment,C),it(A.$$.fragment,C),E=!1},d(C){C&&$(e),ht(o),ht(h),C&&$(d),C&&$(c),ht(A)}}}class Zh extends Pt{constructor(e){super(),xt(this,e,null,Rh,bt,{})}}function ls(r){let e,n;return{c(){e=k("div"),n=gt(r[4]),x(e,"class","section")},m(o,a){H(o,e,a),b(e,n)},p(o,a){a&16&&zt(n,o[4])},d(o){o&&$(e)}}}function $h(r){let e,n,o,a,u,h,d,c,p,_,g,y,w,T,A,E,C,M,z,D,N,B,W,J,R,Mt,st,wt,at=r[4]&&ls(r);return{c(){e=k("form"),n=k("div"),o=k("div"),a=k("div"),u=k("label"),u.textContent="First Name",h=I(),d=k("input"),c=I(),p=k("div"),_=k("label"),_.textContent="Last Name",g=I(),y=k("input"),w=I(),T=k("div"),A=k("label"),A.textContent="Email",E=I(),C=k("input"),M=I(),z=k("div"),D=k("label"),D.textContent="Password",N=I(),B=k("input"),W=I(),J=k("div"),J.innerHTML='<button class="button is-link">Sign Up</button>',R=I(),at&&at.c(),Mt=Le(),x(u,"for","firstname"),x(u,"class","label"),x(d,"id","firstname"),x(d,"class","input"),x(d,"type","text"),x(d,"placeholder","Enter first name"),x(d,"name","firstName"),x(a,"class","field"),x(_,"for","lastname"),x(_,"class","label"),x(y,"id","lastname"),x(y,"class","input"),x(y,"type","text"),x(y,"placeholder","Enter last name"),x(y,"name","lastName"),x(p,"class","field"),x(o,"class","field-body"),x(n,"class","field is-horizontal"),x(A,"for","email"),x(A,"class","label"),x(C,"id","email"),x(C,"class","input"),x(C,"type","text"),x(C,"placeholder","Enter email"),x(C,"name","email"),x(T,"class","field"),x(D,"for","password"),x(D,"class","label"),x(B,"id","password"),x(B,"class","input"),x(B,"type","password"),x(B,"placeholder","Enter Password"),x(B,"name","password"),x(z,"class","field"),x(J,"class","field is-grouped")},m(q,et){H(q,e,et),b(e,n),b(n,o),b(o,a),b(a,u),b(a,h),b(a,d),Et(d,r[0]),b(o,c),b(o,p),b(p,_),b(p,g),b(p,y),Et(y,r[1]),b(e,w),b(e,T),b(T,A),b(T,E),b(T,C),Et(C,r[2]),b(e,M),b(e,z),b(z,D),b(z,N),b(z,B),Et(B,r[3]),b(e,W),b(e,J),H(q,R,et),at&&at.m(q,et),H(q,Mt,et),st||(wt=[Tt(d,"input",r[6]),Tt(y,"input",r[7]),Tt(C,"input",r[8]),Tt(B,"input",r[9]),Tt(e,"submit",mi(r[5]))],st=!0)},p(q,[et]){et&1&&d.value!==q[0]&&Et(d,q[0]),et&2&&y.value!==q[1]&&Et(y,q[1]),et&4&&C.value!==q[2]&&Et(C,q[2]),et&8&&B.value!==q[3]&&Et(B,q[3]),q[4]?at?at.p(q,et):(at=ls(q),at.c(),at.m(Mt.parentNode,Mt)):at&&(at.d(1),at=null)},i:j,o:j,d(q){q&&$(e),q&&$(R),at&&at.d(q),q&&$(Mt),st=!1,Ft(wt)}}}function Hh(r,e,n){let o="",a="",u="",h="",d="";const c=Kt("DonationService");async function p(){await c.signup(o,a,u,h)?kr("/login"):n(4,d="Error Trying to sign up")}function _(){o=this.value,n(0,o)}function g(){a=this.value,n(1,a)}function y(){u=this.value,n(2,u)}function w(){h=this.value,n(3,h)}return[o,a,u,h,d,p,_,g,y,w]}class Fh extends Pt{constructor(e){super(),xt(this,e,Hh,$h,bt,{})}}function Uh(r){let e,n,o,a,u,h,d,c,p,_,g,y,w,T,A,E;return o=new ke({props:{subTitle:"Sign up or Log in",title:"Schools of University of Paris-Saclay"}}),h=new Lr({}),w=new Fh({}),{c(){e=k("div"),n=k("div"),ct(o.$$.fragment),a=I(),u=k("div"),ct(h.$$.fragment),d=I(),c=k("div"),p=k("div"),_=k("div"),g=k("h1"),g.textContent="Login",y=I(),ct(w.$$.fragment),T=I(),A=k("div"),x(n,"class","column is-two-thirds"),x(u,"class","column"),x(e,"class","columns is-vcentered"),x(g,"class","title"),x(_,"class","box"),x(p,"class","column"),x(A,"class","column has-text-centered"),x(c,"class","columns")},m(C,M){H(C,e,M),b(e,n),ut(o,n,null),b(e,a),b(e,u),ut(h,u,null),H(C,d,M),H(C,c,M),b(c,p),b(p,_),b(_,g),b(_,y),ut(w,_,null),b(c,T),b(c,A),E=!0},p:j,i(C){E||(tt(o.$$.fragment,C),tt(h.$$.fragment,C),tt(w.$$.fragment,C),E=!0)},o(C){it(o.$$.fragment,C),it(h.$$.fragment,C),it(w.$$.fragment,C),E=!1},d(C){C&&$(e),ht(o),ht(h),C&&$(d),C&&$(c),ht(w)}}}class jh extends Pt{constructor(e){super(),xt(this,e,null,Uh,bt,{})}}function us(r,e,n){const o=r.slice();return o[6]=e[n],o}function Wh(r){let e;return{c(){e=gt("You Need To Log In With The Admin Account To Access This Page.")},m(n,o){H(n,e,o)},p:j,d(n){n&&$(e)}}}function Gh(r){let e,n,o,a,u=r[0],h=[];for(let d=0;d<u.length;d+=1)h[d]=hs(us(r,u,d));return{c(){e=k("table"),n=k("thead"),n.innerHTML=`<th>First Name</th> 
    <th>Last Name</th> 
    <th>Email</th> 
    <th>ID</th> 
    <th>Markers Added</th> 
    <th>Delete Markers of User</th> 
    <th>Delete User &amp; his Markers</th>`,o=I(),a=k("tbody");for(let d=0;d<h.length;d+=1)h[d].c();x(e,"class","table is-fullwidth has-text-centered m-2")},m(d,c){H(d,e,c),b(e,n),b(e,o),b(e,a);for(let p=0;p<h.length;p+=1)h[p].m(a,null)},p(d,c){if(c&29){u=d[0];let p;for(p=0;p<u.length;p+=1){const _=us(d,u,p);h[p]?h[p].p(_,c):(h[p]=hs(_),h[p].c(),h[p].m(a,null))}for(;p<h.length;p+=1)h[p].d(1);h.length=u.length}},d(d){d&&$(e),tn(h,d)}}}function qh(r){return{c:j,m:j,p:j,d:j}}function Vh(r){let e=r[9]+"",n;return{c(){n=gt(e)},m(o,a){H(o,n,a)},p(o,a){a&1&&e!==(e=o[9]+"")&&zt(n,e)},d(o){o&&$(n)}}}function Yh(r){return{c:j,m:j,p:j,d:j}}function hs(r){let e,n,o=r[6].firstName+"",a,u,h,d=r[6].lastName+"",c,p,_,g=r[6].email+"",y,w,T,A=r[6]._id+"",E,C,M,z,D,N,B,W,J,R,Mt,st,wt,at={ctx:r,current:null,token:null,hasCatch:!1,pending:Yh,then:Vh,catch:qh,value:9};return Go(z=r[4](r[6]._id),at),{c(){e=k("tr"),n=k("td"),a=gt(o),u=I(),h=k("td"),c=gt(d),p=I(),_=k("td"),y=gt(g),w=I(),T=k("td"),E=gt(A),C=I(),M=k("td"),at.block.c(),D=I(),N=k("td"),B=k("form"),B.innerHTML='<button class="button is-link">Delete the user Markers</button>',W=I(),J=k("td"),R=k("form"),R.innerHTML='<button class="button is-link">Delete User AND his Markers</button>',Mt=I()},m(q,et){H(q,e,et),b(e,n),b(n,a),b(e,u),b(e,h),b(h,c),b(e,p),b(e,_),b(_,y),b(e,w),b(e,T),b(T,E),b(e,C),b(e,M),at.block.m(M,at.anchor=null),at.mount=()=>M,at.anchor=null,b(e,D),b(e,N),b(N,B),b(e,W),b(e,J),b(J,R),b(e,Mt),st||(wt=[Tt(B,"submit",mi(function(){Qi(r[3](r[6]._id))&&r[3](r[6]._id).apply(this,arguments)})),Tt(R,"submit",mi(function(){Qi(r[2](r[6]._id))&&r[2](r[6]._id).apply(this,arguments)}))],st=!0)},p(q,et){r=q,et&1&&o!==(o=r[6].firstName+"")&&zt(a,o),et&1&&d!==(d=r[6].lastName+"")&&zt(c,d),et&1&&g!==(g=r[6].email+"")&&zt(y,g),et&1&&A!==(A=r[6]._id+"")&&zt(E,A),at.ctx=r,et&1&&z!==(z=r[4](r[6]._id))&&Go(z,at)||lu(at,r,et)},d(q){q&&$(e),at.block.d(),at.token=null,at=null,st=!1,Ft(wt)}}}function Xh(r){let e;function n(u,h){return u[1].email=="marge@simpson.com"?Gh:Wh}let o=n(r),a=o(r);return{c(){a.c(),e=Le()},m(u,h){a.m(u,h),H(u,e,h)},p(u,[h]){o===(o=n(u))&&a?a.p(u,h):(a.d(1),a=o(u),a&&(a.c(),a.m(e.parentNode,e)))},i:j,o:j,d(u){a.d(u),u&&$(e)}}}function Kh(r,e,n){let o;Rs(r,di,p=>n(1,o=p));const a=Kt("DonationService");let u=[];pe(async()=>{n(0,u=await a.getUsers())});async function h(p){let _=await a.deleteDonationsOfUser(p),g=await a.deleteUser(p);console.log(_),console.log(g),location.reload()}async function d(p){let _=await a.deleteDonationsOfUser(p);console.log(_),location.reload()}async function c(p){let _=await a.countDonationsOfUser(p);return console.log(_),_}return[u,o,h,d,c]}class Jh extends Pt{constructor(e){super(),xt(this,e,Kh,Xh,bt,{})}}function Qh(r){let e;return{c(){e=k("div"),e.innerHTML=`<a href="/#/donate" class="column is-2 mx-2"><i class="fas fa-hand-holding-usd fa-3x" style="color:rgb(153, 196, 74)"></i></a> 
  <a href="/#/map" class="column is-2 mx-2"><i class="fas fa-map-marked-alt fa-3x" style="color:rgb(102, 153, 255)"></i></a> 
  <a href="/#/charts" class="column is-2 mx-2"><i class="fas fa-chart-line fa-3x" style="color:rgb(149, 93, 176)"></i></a> 
  <a href="/#/report" class="column is-2 mx-2"><i class="fas fa-th-list fa-3x" style="color:rgb(63, 122, 139)"></i></a> 
  <a href="/#/logout" class="column is-2 mx-2"><i class="fas fa-sign-out-alt fa-3x" style="color:rgb(156, 70, 128)"></i></a>`,x(e,"class","box has-text-centered columns m-2")},m(n,o){H(n,e,o)},p:j,i:j,o:j,d(n){n&&$(e)}}}class fn extends Pt{constructor(e){super(),xt(this,e,null,Qh,bt,{})}}function tc(r){let e,n,o,a,u,h,d,c,p,_,g,y,w;return o=new ke({props:{subTitle:"Users",title:"Schools of University of Paris-Saclay"}}),h=new fn({}),y=new Jh({}),{c(){e=k("div"),n=k("div"),ct(o.$$.fragment),a=I(),u=k("div"),ct(h.$$.fragment),d=I(),c=k("div"),p=k("div"),_=k("h1"),_.textContent="Users",g=I(),ct(y.$$.fragment),x(n,"class","column is-two-thirds"),x(u,"class","column"),x(e,"class","columns is-vcentered"),x(_,"class","title is-4"),x(p,"class","column box has-text-centered"),x(c,"class","columns")},m(T,A){H(T,e,A),b(e,n),ut(o,n,null),b(e,a),b(e,u),ut(h,u,null),H(T,d,A),H(T,c,A),b(c,p),b(p,_),b(p,g),ut(y,p,null),w=!0},p:j,i(T){w||(tt(o.$$.fragment,T),tt(h.$$.fragment,T),tt(y.$$.fragment,T),w=!0)},o(T){it(o.$$.fragment,T),it(h.$$.fragment,T),it(y.$$.fragment,T),w=!1},d(T){T&&$(e),ht(o),ht(h),T&&$(d),T&&$(c),ht(y)}}}class ec extends Pt{constructor(e){super(),xt(this,e,null,tc,bt,{})}}function ic(r){let e,n,o,a,u,h,d,c,p,_,g,y,w,T,A;return{c(){e=k("div"),n=k("div"),n.innerHTML='<label for="lng" class="label">Lat</label>',o=I(),a=k("div"),u=k("div"),h=k("p"),d=k("input"),c=I(),p=k("div"),p.innerHTML='<label for="lat" class="label">Lng</label>',_=I(),g=k("div"),y=k("p"),w=k("input"),x(n,"class","field-label is-normal"),x(d,"id","lng"),x(d,"class","input"),x(d,"type","float"),x(h,"class","control is-expanded"),x(u,"class","field"),x(p,"class","field-label is-normal"),x(w,"id","lat"),x(w,"class","input"),x(w,"type","float"),x(y,"class","control is-expanded "),x(g,"class","field"),x(a,"class","field-body"),x(e,"class","box field is-horizontal")},m(E,C){H(E,e,C),b(e,n),b(e,o),b(e,a),b(a,u),b(u,h),b(h,d),Et(d,r[0]),b(a,c),b(a,p),b(a,_),b(a,g),b(g,y),b(y,w),Et(w,r[1]),T||(A=[Tt(d,"input",r[2]),Tt(w,"input",r[3])],T=!0)},p(E,[C]){C&1&&Et(d,E[0]),C&2&&Et(w,E[1])},i:j,o:j,d(E){E&&$(e),T=!1,Ft(A)}}}function nc(r,e,n){let{lat:o=0}=e,{lng:a=0}=e;function u(){o=this.value,n(0,o)}function h(){a=this.value,n(1,a)}return r.$$set=d=>{"lat"in d&&n(0,o=d.lat),"lng"in d&&n(1,a=d.lng)},[o,a,u,h]}class rc extends Pt{constructor(e){super(),xt(this,e,nc,ic,bt,{lat:0,lng:1})}}function cs(r,e,n){const o=r.slice();return o[19]=e[n],o}function fs(r,e,n){const o=r.slice();return o[22]=e[n],o}function ds(r){let e,n,o,a=r[22]+"",u,h,d;return{c(){e=k("input"),o=I(),u=gt(a),x(e,"class","radio"),x(e,"type","radio"),e.__value=n=r[22],e.value=e.__value,r[12][0].push(e)},m(c,p){H(c,e,p),e.checked=e.__value===r[4],H(c,o,p),H(c,u,p),h||(d=Tt(e,"change",r[11]),h=!0)},p(c,p){p&16&&(e.checked=e.__value===c[4])},d(c){c&&$(e),r[12][0].splice(r[12][0].indexOf(e),1),c&&$(o),c&&$(u),h=!1,d()}}}function ps(r){let e,n=r[19].lastName+"",o,a,u=r[19].firstName+"",h,d;return{c(){e=k("option"),o=gt(n),a=gt(","),h=gt(u),e.__value=d=r[19].lastName+","+r[19].firstName,e.value=e.__value},m(c,p){H(c,e,p),b(e,o),b(e,a),b(e,h)},p(c,p){p&4&&n!==(n=c[19].lastName+"")&&zt(o,n),p&4&&u!==(u=c[19].firstName+"")&&zt(h,u),p&4&&d!==(d=c[19].lastName+","+c[19].firstName)&&(e.__value=d,e.value=e.__value)},d(c){c&&$(e)}}}function oc(r){let e,n,o,a,u,h,d,c,p,_,g,y,w,T,A,E,C,M,z,D,N,B,W,J,R,Mt,st,wt,at,q=r[8],et=[];for(let Z=0;Z<q.length;Z+=1)et[Z]=ds(fs(r,q,Z));let kt=r[2],St=[];for(let Z=0;Z<kt.length;Z+=1)St[Z]=ps(cs(r,kt,Z));function G(Z){r[14](Z)}function Li(Z){r[15](Z)}let X={};return r[5]!==void 0&&(X.lat=r[5]),r[6]!==void 0&&(X.lng=r[6]),T=new rc({props:X}),ce.push(()=>qo(T,"lat",G)),ce.push(()=>qo(T,"lng",Li)),{c(){e=k("form"),n=k("div"),o=k("label"),o.textContent="Enter Number Of Students",a=I(),u=k("input"),h=I(),d=k("div"),c=k("div");for(let Z=0;Z<et.length;Z+=1)et[Z].c();p=I(),_=k("div"),g=k("div"),y=k("select");for(let Z=0;Z<St.length;Z+=1)St[Z].c();w=I(),ct(T.$$.fragment),C=I(),M=k("div"),z=k("label"),z.textContent="Enter space-separated https URLs of images of the school",D=I(),N=k("input"),B=I(),W=k("div"),W.innerHTML='<div class="control"><button class="button is-link is-light">Add</button></div>',J=I(),R=k("div"),Mt=gt(r[7]),x(o,"class","label"),x(o,"for","amount"),x(u,"class","input"),x(u,"id","amount"),x(u,"name","amount"),x(u,"placeholder","Euros"),x(u,"type","number"),x(n,"class","field"),x(c,"class","control"),x(d,"class","field"),r[3]===void 0&&en(()=>r[13].call(y)),x(g,"class","select"),x(_,"class","field"),x(z,"class","label"),x(z,"for","image"),x(N,"class","input"),x(N,"id","image"),x(N,"name","image"),x(N,"placeholder","image"),x(N,"type","string"),x(M,"class","field"),x(W,"class","field"),x(R,"class","section")},m(Z,mt){H(Z,e,mt),b(e,n),b(n,o),b(n,a),b(n,u),Et(u,r[0]),b(e,h),b(e,d),b(d,c);for(let dt=0;dt<et.length;dt+=1)et[dt].m(c,null);b(e,p),b(e,_),b(_,g),b(g,y);for(let dt=0;dt<St.length;dt+=1)St[dt].m(y,null);jo(y,r[3]),b(e,w),ut(T,e,null),b(e,C),b(e,M),b(M,z),b(M,D),b(M,N),Et(N,r[1]),b(e,B),b(e,W),b(e,J),b(e,R),b(R,Mt),st=!0,wt||(at=[Tt(u,"input",r[10]),Tt(y,"change",r[13]),Tt(N,"input",r[16]),Tt(e,"submit",mi(r[9]))],wt=!0)},p(Z,[mt]){if(mt&1&&Zs(u.value)!==Z[0]&&Et(u,Z[0]),mt&272){q=Z[8];let V;for(V=0;V<q.length;V+=1){const ot=fs(Z,q,V);et[V]?et[V].p(ot,mt):(et[V]=ds(ot),et[V].c(),et[V].m(c,null))}for(;V<et.length;V+=1)et[V].d(1);et.length=q.length}if(mt&4){kt=Z[2];let V;for(V=0;V<kt.length;V+=1){const ot=cs(Z,kt,V);St[V]?St[V].p(ot,mt):(St[V]=ps(ot),St[V].c(),St[V].m(y,null))}for(;V<St.length;V+=1)St[V].d(1);St.length=kt.length}mt&12&&jo(y,Z[3]);const dt={};!A&&mt&32&&(A=!0,dt.lat=Z[5],Wo(()=>A=!1)),!E&&mt&64&&(E=!0,dt.lng=Z[6],Wo(()=>E=!1)),T.$set(dt),mt&2&&Et(N,Z[1]),(!st||mt&128)&&zt(Mt,Z[7])},i(Z){st||(tt(T.$$.fragment,Z),st=!0)},o(Z){it(T.$$.fragment,Z),st=!1},d(Z){Z&&$(e),tn(et,Z),tn(St,Z),ht(T),wt=!1,Ft(at)}}}function sc(r,e,n){mr();const o=Kt("DonationService");let a=0,u="",h=[],d="",c=["Engineering School","Faculty"],p="",_=48.70903809919504,g=2.1714440879250816,y="";pe(async()=>{n(2,h=await o.getCandidates())});async function w(){if(d&&a&&p&&u){const N=d.split(","),B=h.find(R=>R.lastName==N[0]&&R.firstName==N[1]),W={amount:a,method:p,candidate:B._id,lat:_,lng:g,image:u};if(!await o.donate(W)){n(7,y="Not completed - some error occurred");return}n(7,y=`Thanks! You Added ${a} students`),kr("/map")}else n(7,y="Please select number, type, campus/school, etc.")}const T=[[]];function A(){a=Zs(this.value),n(0,a)}function E(){p=this.__value,n(4,p)}function C(){d=nu(this),n(3,d),n(2,h)}function M(N){_=N,n(5,_)}function z(N){g=N,n(6,g)}function D(){u=this.value,n(1,u)}return[a,u,h,d,p,_,g,y,c,w,A,E,T,C,M,z,D]}class ac extends Pt{constructor(e){super(),xt(this,e,sc,oc,bt,{})}}var _t={exports:{}};/* @preserve
 * Leaflet 1.8.0, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(r,e){(function(n,o){o(e)})(hu,function(n){var o="1.8.0";function a(t){var i,s,l,f;for(s=1,l=arguments.length;s<l;s++){f=arguments[s];for(i in f)t[i]=f[i]}return t}var u=Object.create||function(){function t(){}return function(i){return t.prototype=i,new t}}();function h(t,i){var s=Array.prototype.slice;if(t.bind)return t.bind.apply(t,s.call(arguments,1));var l=s.call(arguments,2);return function(){return t.apply(i,l.length?l.concat(s.call(arguments)):arguments)}}var d=0;function c(t){return"_leaflet_id"in t||(t._leaflet_id=++d),t._leaflet_id}function p(t,i,s){var l,f,m,v;return v=function(){l=!1,f&&(m.apply(s,f),f=!1)},m=function(){l?f=arguments:(t.apply(s,arguments),setTimeout(v,i),l=!0)},m}function _(t,i,s){var l=i[1],f=i[0],m=l-f;return t===l&&s?t:((t-f)%m+m)%m+f}function g(){return!1}function y(t,i){if(i===!1)return t;var s=Math.pow(10,i===void 0?6:i);return Math.round(t*s)/s}function w(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function T(t){return w(t).split(/\s+/)}function A(t,i){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?u(t.options):{});for(var s in i)t.options[s]=i[s];return t.options}function E(t,i,s){var l=[];for(var f in t)l.push(encodeURIComponent(s?f.toUpperCase():f)+"="+encodeURIComponent(t[f]));return(!i||i.indexOf("?")===-1?"?":"&")+l.join("&")}var C=/\{ *([\w_ -]+) *\}/g;function M(t,i){return t.replace(C,function(s,l){var f=i[l];if(f===void 0)throw new Error("No value provided for variable "+s);return typeof f=="function"&&(f=f(i)),f})}var z=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function D(t,i){for(var s=0;s<t.length;s++)if(t[s]===i)return s;return-1}var N="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function B(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var W=0;function J(t){var i=+new Date,s=Math.max(0,16-(i-W));return W=i+s,window.setTimeout(t,s)}var R=window.requestAnimationFrame||B("RequestAnimationFrame")||J,Mt=window.cancelAnimationFrame||B("CancelAnimationFrame")||B("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function st(t,i,s){if(s&&R===J)t.call(i);else return R.call(window,h(t,i))}function wt(t){t&&Mt.call(window,t)}var at={__proto__:null,extend:a,create:u,bind:h,get lastId(){return d},stamp:c,throttle:p,wrapNum:_,falseFn:g,formatNum:y,trim:w,splitWords:T,setOptions:A,getParamString:E,template:M,isArray:z,indexOf:D,emptyImageUrl:N,requestFn:R,cancelFn:Mt,requestAnimFrame:st,cancelAnimFrame:wt};function q(){}q.extend=function(t){var i=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},s=i.__super__=this.prototype,l=u(s);l.constructor=i,i.prototype=l;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(i[f]=this[f]);return t.statics&&a(i,t.statics),t.includes&&(et(t.includes),a.apply(null,[l].concat(t.includes))),a(l,t),delete l.statics,delete l.includes,l.options&&(l.options=s.options?u(s.options):{},a(l.options,t.options)),l._initHooks=[],l.callInitHooks=function(){if(!this._initHooksCalled){s.callInitHooks&&s.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,v=l._initHooks.length;m<v;m++)l._initHooks[m].call(this)}},i},q.include=function(t){var i=this.prototype.options;return a(this.prototype,t),t.options&&(this.prototype.options=i,this.mergeOptions(t.options)),this},q.mergeOptions=function(t){return a(this.prototype.options,t),this},q.addInitHook=function(t){var i=Array.prototype.slice.call(arguments,1),s=typeof t=="function"?t:function(){this[t].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(s),this};function et(t){if(!(typeof L=="undefined"||!L||!L.Mixin)){t=z(t)?t:[t];for(var i=0;i<t.length;i++)t[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var kt={on:function(t,i,s){if(typeof t=="object")for(var l in t)this._on(l,t[l],i);else{t=T(t);for(var f=0,m=t.length;f<m;f++)this._on(t[f],i,s)}return this},off:function(t,i,s){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var l in t)this._off(l,t[l],i);else{t=T(t);for(var f=arguments.length===1,m=0,v=t.length;m<v;m++)f?this._off(t[m]):this._off(t[m],i,s)}return this},_on:function(t,i,s){if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}this._events=this._events||{};var l=this._events[t];l||(l=[],this._events[t]=l),s===this&&(s=void 0);for(var f={fn:i,ctx:s},m=l,v=0,P=m.length;v<P;v++)if(m[v].fn===i&&m[v].ctx===s)return;m.push(f)},_off:function(t,i,s){var l,f,m;if(!!this._events&&(l=this._events[t],!!l)){if(arguments.length===1){if(this._firingCount)for(f=0,m=l.length;f<m;f++)l[f].fn=g;delete this._events[t];return}if(s===this&&(s=void 0),typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}for(f=0,m=l.length;f<m;f++){var v=l[f];if(v.ctx===s&&v.fn===i){this._firingCount&&(v.fn=g,this._events[t]=l=l.slice()),l.splice(f,1);return}}console.warn("listener not found")}},fire:function(t,i,s){if(!this.listens(t,s))return this;var l=a({},i,{type:t,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var f=this._events[t];if(f){this._firingCount=this._firingCount+1||1;for(var m=0,v=f.length;m<v;m++){var P=f[m];P.fn.call(P.ctx||this,l)}this._firingCount--}}return s&&this._propagateEvent(l),this},listens:function(t,i){typeof t!="string"&&console.warn('"string" type argument expected');var s=this._events&&this._events[t];if(s&&s.length)return!0;if(i){for(var l in this._eventParents)if(this._eventParents[l].listens(t,i))return!0}return!1},once:function(t,i,s){if(typeof t=="object"){for(var l in t)this.once(l,t[l],i);return this}var f=h(function(){this.off(t,i,s).off(t,f,s)},this);return this.on(t,i,s).on(t,f,s)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[c(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[c(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,a({layer:t.target,propagatedFrom:t.target},t),!0)}};kt.addEventListener=kt.on,kt.removeEventListener=kt.clearAllEventListeners=kt.off,kt.addOneTimeEventListener=kt.once,kt.fireEvent=kt.fire,kt.hasEventListeners=kt.listens;var St=q.extend(kt);function G(t,i,s){this.x=s?Math.round(t):t,this.y=s?Math.round(i):i}var Li=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};G.prototype={clone:function(){return new G(this.x,this.y)},add:function(t){return this.clone()._add(X(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(X(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new G(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new G(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Li(this.x),this.y=Li(this.y),this},distanceTo:function(t){t=X(t);var i=t.x-this.x,s=t.y-this.y;return Math.sqrt(i*i+s*s)},equals:function(t){return t=X(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=X(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function X(t,i,s){return t instanceof G?t:z(t)?new G(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new G(t.x,t.y):new G(t,i,s)}function Z(t,i){if(!!t)for(var s=i?[t,i]:t,l=0,f=s.length;l<f;l++)this.extend(s[l])}Z.prototype={extend:function(t){return t=X(t),!this.min&&!this.max?(this.min=t.clone(),this.max=t.clone()):(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)),this},getCenter:function(t){return new G((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new G(this.min.x,this.max.y)},getTopRight:function(){return new G(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var i,s;return typeof t[0]=="number"||t instanceof G?t=X(t):t=mt(t),t instanceof Z?(i=t.min,s=t.max):i=s=t,i.x>=this.min.x&&s.x<=this.max.x&&i.y>=this.min.y&&s.y<=this.max.y},intersects:function(t){t=mt(t);var i=this.min,s=this.max,l=t.min,f=t.max,m=f.x>=i.x&&l.x<=s.x,v=f.y>=i.y&&l.y<=s.y;return m&&v},overlaps:function(t){t=mt(t);var i=this.min,s=this.max,l=t.min,f=t.max,m=f.x>i.x&&l.x<s.x,v=f.y>i.y&&l.y<s.y;return m&&v},isValid:function(){return!!(this.min&&this.max)}};function mt(t,i){return!t||t instanceof Z?t:new Z(t,i)}function dt(t,i){if(!!t)for(var s=i?[t,i]:t,l=0,f=s.length;l<f;l++)this.extend(s[l])}dt.prototype={extend:function(t){var i=this._southWest,s=this._northEast,l,f;if(t instanceof ot)l=t,f=t;else if(t instanceof dt){if(l=t._southWest,f=t._northEast,!l||!f)return this}else return t?this.extend(vt(t)||V(t)):this;return!i&&!s?(this._southWest=new ot(l.lat,l.lng),this._northEast=new ot(f.lat,f.lng)):(i.lat=Math.min(l.lat,i.lat),i.lng=Math.min(l.lng,i.lng),s.lat=Math.max(f.lat,s.lat),s.lng=Math.max(f.lng,s.lng)),this},pad:function(t){var i=this._southWest,s=this._northEast,l=Math.abs(i.lat-s.lat)*t,f=Math.abs(i.lng-s.lng)*t;return new dt(new ot(i.lat-l,i.lng-f),new ot(s.lat+l,s.lng+f))},getCenter:function(){return new ot((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ot(this.getNorth(),this.getWest())},getSouthEast:function(){return new ot(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof ot||"lat"in t?t=vt(t):t=V(t);var i=this._southWest,s=this._northEast,l,f;return t instanceof dt?(l=t.getSouthWest(),f=t.getNorthEast()):l=f=t,l.lat>=i.lat&&f.lat<=s.lat&&l.lng>=i.lng&&f.lng<=s.lng},intersects:function(t){t=V(t);var i=this._southWest,s=this._northEast,l=t.getSouthWest(),f=t.getNorthEast(),m=f.lat>=i.lat&&l.lat<=s.lat,v=f.lng>=i.lng&&l.lng<=s.lng;return m&&v},overlaps:function(t){t=V(t);var i=this._southWest,s=this._northEast,l=t.getSouthWest(),f=t.getNorthEast(),m=f.lat>i.lat&&l.lat<s.lat,v=f.lng>i.lng&&l.lng<s.lng;return m&&v},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,i){return t?(t=V(t),this._southWest.equals(t.getSouthWest(),i)&&this._northEast.equals(t.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function V(t,i){return t instanceof dt?t:new dt(t,i)}function ot(t,i,s){if(isNaN(t)||isNaN(i))throw new Error("Invalid LatLng object: ("+t+", "+i+")");this.lat=+t,this.lng=+i,s!==void 0&&(this.alt=+s)}ot.prototype={equals:function(t,i){if(!t)return!1;t=vt(t);var s=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return s<=(i===void 0?1e-9:i)},toString:function(t){return"LatLng("+y(this.lat,t)+", "+y(this.lng,t)+")"},distanceTo:function(t){return se.distance(this,vt(t))},wrap:function(){return se.wrapLatLng(this)},toBounds:function(t){var i=180*t/40075017,s=i/Math.cos(Math.PI/180*this.lat);return V([this.lat-i,this.lng-s],[this.lat+i,this.lng+s])},clone:function(){return new ot(this.lat,this.lng,this.alt)}};function vt(t,i,s){return t instanceof ot?t:z(t)&&typeof t[0]!="object"?t.length===3?new ot(t[0],t[1],t[2]):t.length===2?new ot(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new ot(t.lat,"lng"in t?t.lng:t.lon,t.alt):i===void 0?null:new ot(t,i,s)}var Qt={latLngToPoint:function(t,i){var s=this.projection.project(t),l=this.scale(i);return this.transformation._transform(s,l)},pointToLatLng:function(t,i){var s=this.scale(i),l=this.transformation.untransform(t,s);return this.projection.unproject(l)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var i=this.projection.bounds,s=this.scale(t),l=this.transformation.transform(i.min,s),f=this.transformation.transform(i.max,s);return new Z(l,f)},infinite:!1,wrapLatLng:function(t){var i=this.wrapLng?_(t.lng,this.wrapLng,!0):t.lng,s=this.wrapLat?_(t.lat,this.wrapLat,!0):t.lat,l=t.alt;return new ot(s,i,l)},wrapLatLngBounds:function(t){var i=t.getCenter(),s=this.wrapLatLng(i),l=i.lat-s.lat,f=i.lng-s.lng;if(l===0&&f===0)return t;var m=t.getSouthWest(),v=t.getNorthEast(),P=new ot(m.lat-l,m.lng-f),S=new ot(v.lat-l,v.lng-f);return new dt(P,S)}},se=a({},Qt,{wrapLng:[-180,180],R:6371e3,distance:function(t,i){var s=Math.PI/180,l=t.lat*s,f=i.lat*s,m=Math.sin((i.lat-t.lat)*s/2),v=Math.sin((i.lng-t.lng)*s/2),P=m*m+Math.cos(l)*Math.cos(f)*v*v,S=2*Math.atan2(Math.sqrt(P),Math.sqrt(1-P));return this.R*S}}),Mr=6378137,dn={R:Mr,MAX_LATITUDE:85.0511287798,project:function(t){var i=Math.PI/180,s=this.MAX_LATITUDE,l=Math.max(Math.min(s,t.lat),-s),f=Math.sin(l*i);return new G(this.R*t.lng*i,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(t){var i=180/Math.PI;return new ot((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*i,t.x*i/this.R)},bounds:function(){var t=Mr*Math.PI;return new Z([-t,-t],[t,t])}()};function pn(t,i,s,l){if(z(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=i,this._c=s,this._d=l}pn.prototype={transform:function(t,i){return this._transform(t.clone(),i)},_transform:function(t,i){return i=i||1,t.x=i*(this._a*t.x+this._b),t.y=i*(this._c*t.y+this._d),t},untransform:function(t,i){return i=i||1,new G((t.x/i-this._b)/this._a,(t.y/i-this._d)/this._c)}};function Ve(t,i,s,l){return new pn(t,i,s,l)}var mn=a({},se,{code:"EPSG:3857",projection:dn,transformation:function(){var t=.5/(Math.PI*dn.R);return Ve(t,.5,-t,.5)}()}),ka=a({},mn,{code:"EPSG:900913"});function zr(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Nr(t,i){var s="",l,f,m,v,P,S;for(l=0,m=t.length;l<m;l++){for(P=t[l],f=0,v=P.length;f<v;f++)S=P[f],s+=(f?"L":"M")+S.x+" "+S.y;s+=i?U.svg?"z":"x":""}return s||"M0 0"}var _n=document.documentElement.style,Ti="ActiveXObject"in window,Sa=Ti&&!document.addEventListener,Dr="msLaunchUri"in navigator&&!("documentMode"in document),gn=Gt("webkit"),Ir=Gt("android"),Br=Gt("android 2")||Gt("android 3"),Ca=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Aa=Ir&&Gt("Google")&&Ca<537&&!("AudioNode"in window),vn=!!window.opera,Rr=!Dr&&Gt("chrome"),Zr=Gt("gecko")&&!gn&&!vn&&!Ti,Ea=!Rr&&Gt("safari"),$r=Gt("phantom"),Hr="OTransition"in _n,Oa=navigator.platform.indexOf("Win")===0,Fr=Ti&&"transition"in _n,yn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Br,Ur="MozPerspective"in _n,Ma=!window.L_DISABLE_3D&&(Fr||yn||Ur)&&!Hr&&!$r,Ye=typeof orientation!="undefined"||Gt("mobile"),za=Ye&&gn,Na=Ye&&yn,jr=!window.PointerEvent&&window.MSPointerEvent,Wr=!!(window.PointerEvent||jr),Gr="ontouchstart"in window||!!window.TouchEvent,Da=!window.L_NO_TOUCH&&(Gr||Wr),Ia=Ye&&vn,Ba=Ye&&Zr,Ra=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Za=function(){var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",g,i),window.removeEventListener("testPassiveEventSupport",g,i)}catch{}return t}(),$a=function(){return!!document.createElement("canvas").getContext}(),bn=!!(document.createElementNS&&zr("svg").createSVGRect),Ha=!!bn&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Fa=!bn&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&typeof i.adj=="object"}catch{return!1}}();function Gt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var U={ie:Ti,ielt9:Sa,edge:Dr,webkit:gn,android:Ir,android23:Br,androidStock:Aa,opera:vn,chrome:Rr,gecko:Zr,safari:Ea,phantom:$r,opera12:Hr,win:Oa,ie3d:Fr,webkit3d:yn,gecko3d:Ur,any3d:Ma,mobile:Ye,mobileWebkit:za,mobileWebkit3d:Na,msPointer:jr,pointer:Wr,touch:Da,touchNative:Gr,mobileOpera:Ia,mobileGecko:Ba,retina:Ra,passiveEvents:Za,canvas:$a,svg:bn,vml:Fa,inlineSvg:Ha},qr=U.msPointer?"MSPointerDown":"pointerdown",Vr=U.msPointer?"MSPointerMove":"pointermove",Yr=U.msPointer?"MSPointerUp":"pointerup",Xr=U.msPointer?"MSPointerCancel":"pointercancel",wn={touchstart:qr,touchmove:Vr,touchend:Yr,touchcancel:Xr},Kr={touchstart:Va,touchmove:ki,touchend:ki,touchcancel:ki},Se={},Jr=!1;function Ua(t,i,s){return i==="touchstart"&&qa(),Kr[i]?(s=Kr[i].bind(this,s),t.addEventListener(wn[i],s,!1),s):(console.warn("wrong event specified:",i),L.Util.falseFn)}function ja(t,i,s){if(!wn[i]){console.warn("wrong event specified:",i);return}t.removeEventListener(wn[i],s,!1)}function Wa(t){Se[t.pointerId]=t}function Ga(t){Se[t.pointerId]&&(Se[t.pointerId]=t)}function Qr(t){delete Se[t.pointerId]}function qa(){Jr||(document.addEventListener(qr,Wa,!0),document.addEventListener(Vr,Ga,!0),document.addEventListener(Yr,Qr,!0),document.addEventListener(Xr,Qr,!0),Jr=!0)}function ki(t,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||"mouse")){i.touches=[];for(var s in Se)i.touches.push(Se[s]);i.changedTouches=[i],t(i)}}function Va(t,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&Dt(i),ki(t,i)}function Ya(t){var i={},s,l;for(l in t)s=t[l],i[l]=s&&s.bind?s.bind(t):s;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var Xa=200;function Ka(t,i){t.addEventListener("dblclick",i);var s=0,l;function f(m){if(m.detail!==1){l=m.detail;return}if(!(m.pointerType==="mouse"||m.sourceCapabilities&&!m.sourceCapabilities.firesTouchEvents)){var v=Date.now();v-s<=Xa?(l++,l===2&&i(Ya(m))):l=1,s=v}}return t.addEventListener("click",f),{dblclick:i,simDblclick:f}}function Ja(t,i){t.removeEventListener("dblclick",i.dblclick),t.removeEventListener("click",i.simDblclick)}var xn=Ai(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Xe=Ai(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),to=Xe==="webkitTransition"||Xe==="OTransition"?Xe+"End":"transitionend";function eo(t){return typeof t=="string"?document.getElementById(t):t}function Ke(t,i){var s=t.style[i]||t.currentStyle&&t.currentStyle[i];if((!s||s==="auto")&&document.defaultView){var l=document.defaultView.getComputedStyle(t,null);s=l?l[i]:null}return s==="auto"?null:s}function lt(t,i,s){var l=document.createElement(t);return l.className=i||"",s&&s.appendChild(l),l}function yt(t){var i=t.parentNode;i&&i.removeChild(t)}function Si(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Ce(t){var i=t.parentNode;i&&i.lastChild!==t&&i.appendChild(t)}function Ae(t){var i=t.parentNode;i&&i.firstChild!==t&&i.insertBefore(t,i.firstChild)}function Pn(t,i){if(t.classList!==void 0)return t.classList.contains(i);var s=Ci(t);return s.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(s)}function K(t,i){if(t.classList!==void 0)for(var s=T(i),l=0,f=s.length;l<f;l++)t.classList.add(s[l]);else if(!Pn(t,i)){var m=Ci(t);Ln(t,(m?m+" ":"")+i)}}function Lt(t,i){t.classList!==void 0?t.classList.remove(i):Ln(t,w((" "+Ci(t)+" ").replace(" "+i+" "," ")))}function Ln(t,i){t.className.baseVal===void 0?t.className=i:t.className.baseVal=i}function Ci(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function $t(t,i){"opacity"in t.style?t.style.opacity=i:"filter"in t.style&&Qa(t,i)}function Qa(t,i){var s=!1,l="DXImageTransform.Microsoft.Alpha";try{s=t.filters.item(l)}catch{if(i===1)return}i=Math.round(i*100),s?(s.Enabled=i!==100,s.Opacity=i):t.style.filter+=" progid:"+l+"(opacity="+i+")"}function Ai(t){for(var i=document.documentElement.style,s=0;s<t.length;s++)if(t[s]in i)return t[s];return!1}function _e(t,i,s){var l=i||new G(0,0);t.style[xn]=(U.ie3d?"translate("+l.x+"px,"+l.y+"px)":"translate3d("+l.x+"px,"+l.y+"px,0)")+(s?" scale("+s+")":"")}function Ct(t,i){t._leaflet_pos=i,U.any3d?_e(t,i):(t.style.left=i.x+"px",t.style.top=i.y+"px")}function ge(t){return t._leaflet_pos||new G(0,0)}var Je,Qe,Tn;if("onselectstart"in document)Je=function(){Y(window,"selectstart",Dt)},Qe=function(){pt(window,"selectstart",Dt)};else{var ti=Ai(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Je=function(){if(ti){var t=document.documentElement.style;Tn=t[ti],t[ti]="none"}},Qe=function(){ti&&(document.documentElement.style[ti]=Tn,Tn=void 0)}}function kn(){Y(window,"dragstart",Dt)}function Sn(){pt(window,"dragstart",Dt)}var Ei,Cn;function An(t){for(;t.tabIndex===-1;)t=t.parentNode;!t.style||(Oi(),Ei=t,Cn=t.style.outline,t.style.outline="none",Y(window,"keydown",Oi))}function Oi(){!Ei||(Ei.style.outline=Cn,Ei=void 0,Cn=void 0,pt(window,"keydown",Oi))}function io(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function En(t){var i=t.getBoundingClientRect();return{x:i.width/t.offsetWidth||1,y:i.height/t.offsetHeight||1,boundingClientRect:i}}var tl={__proto__:null,TRANSFORM:xn,TRANSITION:Xe,TRANSITION_END:to,get:eo,getStyle:Ke,create:lt,remove:yt,empty:Si,toFront:Ce,toBack:Ae,hasClass:Pn,addClass:K,removeClass:Lt,setClass:Ln,getClass:Ci,setOpacity:$t,testProp:Ai,setTransform:_e,setPosition:Ct,getPosition:ge,get disableTextSelection(){return Je},get enableTextSelection(){return Qe},disableImageDrag:kn,enableImageDrag:Sn,preventOutline:An,restoreOutline:Oi,getSizedParentNode:io,getScale:En};function Y(t,i,s,l){if(i&&typeof i=="object")for(var f in i)Mn(t,f,i[f],s);else{i=T(i);for(var m=0,v=i.length;m<v;m++)Mn(t,i[m],s,l)}return this}var qt="_leaflet_events";function pt(t,i,s,l){if(arguments.length===1)no(t),delete t[qt];else if(i&&typeof i=="object")for(var f in i)zn(t,f,i[f],s);else if(i=T(i),arguments.length===2)no(t,function(P){return D(i,P)!==-1});else for(var m=0,v=i.length;m<v;m++)zn(t,i[m],s,l);return this}function no(t,i){for(var s in t[qt]){var l=s.split(/\d/)[0];(!i||i(l))&&zn(t,l,null,null,s)}}var On={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Mn(t,i,s,l){var f=i+c(s)+(l?"_"+c(l):"");if(t[qt]&&t[qt][f])return this;var m=function(P){return s.call(l||t,P||window.event)},v=m;!U.touchNative&&U.pointer&&i.indexOf("touch")===0?m=Ua(t,i,m):U.touch&&i==="dblclick"?m=Ka(t,m):"addEventListener"in t?i==="touchstart"||i==="touchmove"||i==="wheel"||i==="mousewheel"?t.addEventListener(On[i]||i,m,U.passiveEvents?{passive:!1}:!1):i==="mouseenter"||i==="mouseleave"?(m=function(P){P=P||window.event,Dn(t,P)&&v(P)},t.addEventListener(On[i],m,!1)):t.addEventListener(i,v,!1):t.attachEvent("on"+i,m),t[qt]=t[qt]||{},t[qt][f]=m}function zn(t,i,s,l,f){f=f||i+c(s)+(l?"_"+c(l):"");var m=t[qt]&&t[qt][f];if(!m)return this;!U.touchNative&&U.pointer&&i.indexOf("touch")===0?ja(t,i,m):U.touch&&i==="dblclick"?Ja(t,m):"removeEventListener"in t?t.removeEventListener(On[i]||i,m,!1):t.detachEvent("on"+i,m),t[qt][f]=null}function ve(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Nn(t){return Mn(t,"wheel",ve),this}function ei(t){return Y(t,"mousedown touchstart dblclick contextmenu",ve),t._leaflet_disable_click=!0,this}function Dt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function ye(t){return Dt(t),ve(t),this}function ro(t,i){if(!i)return new G(t.clientX,t.clientY);var s=En(i),l=s.boundingClientRect;return new G((t.clientX-l.left)/s.x-i.clientLeft,(t.clientY-l.top)/s.y-i.clientTop)}var el=U.win&&U.chrome?2*window.devicePixelRatio:U.gecko?window.devicePixelRatio:1;function oo(t){return U.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/el:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Dn(t,i){var s=i.relatedTarget;if(!s)return!0;try{for(;s&&s!==t;)s=s.parentNode}catch{return!1}return s!==t}var il={__proto__:null,on:Y,off:pt,stopPropagation:ve,disableScrollPropagation:Nn,disableClickPropagation:ei,preventDefault:Dt,stop:ye,getMousePosition:ro,getWheelDelta:oo,isExternalTarget:Dn,addListener:Y,removeListener:pt},so=St.extend({run:function(t,i,s,l){this.stop(),this._el=t,this._inProgress=!0,this._duration=s||.25,this._easeOutPower=1/Math.max(l||.5,.2),this._startPos=ge(t),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=st(this._animate,this),this._step()},_step:function(t){var i=+new Date-this._startTime,s=this._duration*1e3;i<s?this._runFrame(this._easeOut(i/s),t):(this._runFrame(1),this._complete())},_runFrame:function(t,i){var s=this._startPos.add(this._offset.multiplyBy(t));i&&s._round(),Ct(this._el,s),this.fire("step")},_complete:function(){wt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),nt=St.extend({options:{crs:mn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,i){i=A(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(vt(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Xe&&U.any3d&&!U.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Y(this._proxy,to,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,s){if(i=i===void 0?this._zoom:this._limitZoom(i),t=this._limitCenter(vt(t),i,this.options.maxBounds),s=s||{},this._stop(),this._loaded&&!s.reset&&s!==!0){s.animate!==void 0&&(s.zoom=a({animate:s.animate},s.zoom),s.pan=a({animate:s.animate,duration:s.duration},s.pan));var l=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,s.zoom):this._tryAnimatedPan(t,s.pan);if(l)return clearTimeout(this._sizeTimer),this}return this._resetView(t,i),this},setZoom:function(t,i){return this._loaded?this.setView(this.getCenter(),t,{zoom:i}):(this._zoom=t,this)},zoomIn:function(t,i){return t=t||(U.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,i)},zoomOut:function(t,i){return t=t||(U.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,i)},setZoomAround:function(t,i,s){var l=this.getZoomScale(i),f=this.getSize().divideBy(2),m=t instanceof G?t:this.latLngToContainerPoint(t),v=m.subtract(f).multiplyBy(1-1/l),P=this.containerPointToLatLng(f.add(v));return this.setView(P,i,{zoom:s})},_getBoundsCenterZoom:function(t,i){i=i||{},t=t.getBounds?t.getBounds():V(t);var s=X(i.paddingTopLeft||i.padding||[0,0]),l=X(i.paddingBottomRight||i.padding||[0,0]),f=this.getBoundsZoom(t,!1,s.add(l));if(f=typeof i.maxZoom=="number"?Math.min(i.maxZoom,f):f,f===1/0)return{center:t.getCenter(),zoom:f};var m=l.subtract(s).divideBy(2),v=this.project(t.getSouthWest(),f),P=this.project(t.getNorthEast(),f),S=this.unproject(v.add(P).divideBy(2).add(m),f);return{center:S,zoom:f}},fitBounds:function(t,i){if(t=V(t),!t.isValid())throw new Error("Bounds are not valid.");var s=this._getBoundsCenterZoom(t,i);return this.setView(s.center,s.zoom,i)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,i){return this.setView(t,this._zoom,{pan:i})},panBy:function(t,i){if(t=X(t).round(),i=i||{},!t.x&&!t.y)return this.fire("moveend");if(i.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new so,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){K(this._mapPane,"leaflet-pan-anim");var s=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,s,i.duration||.25,i.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,i,s){if(s=s||{},s.animate===!1||!U.any3d)return this.setView(t,i,s);this._stop();var l=this.project(this.getCenter()),f=this.project(t),m=this.getSize(),v=this._zoom;t=vt(t),i=i===void 0?v:i;var P=Math.max(m.x,m.y),S=P*this.getZoomScale(v,i),O=f.distanceTo(l)||1,F=1.42,Q=F*F;function rt(At){var Ui=At?-1:1,jl=At?S:P,Wl=S*S-P*P+Ui*Q*Q*O*O,Gl=2*jl*Q*O,qn=Wl/Gl,Zo=Math.sqrt(qn*qn+1)-qn,ql=Zo<1e-9?-18:Math.log(Zo);return ql}function re(At){return(Math.exp(At)-Math.exp(-At))/2}function we(At){return(Math.exp(At)+Math.exp(-At))/2}function Fi(At){return re(At)/we(At)}var ue=rt(0);function Gn(At){return P*(we(ue)/we(ue+F*At))}function $l(At){return P*(we(ue)*Fi(ue+F*At)-re(ue))/Q}function Hl(At){return 1-Math.pow(1-At,1.5)}var Fl=Date.now(),Bo=(rt(1)-ue)/F,Ul=s.duration?1e3*s.duration:1e3*Bo*.8;function Ro(){var At=(Date.now()-Fl)/Ul,Ui=Hl(At)*Bo;At<=1?(this._flyToFrame=st(Ro,this),this._move(this.unproject(l.add(f.subtract(l).multiplyBy($l(Ui)/O)),v),this.getScaleZoom(P/Gn(Ui),v),{flyTo:!0})):this._move(t,i)._moveEnd(!0)}return this._moveStart(!0,s.noMoveStart),Ro.call(this),this},flyToBounds:function(t,i){var s=this._getBoundsCenterZoom(t,i);return this.flyTo(s.center,s.zoom,i)},setMaxBounds:function(t){if(t=V(t),t.isValid())this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds);else return this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds);return this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(t){var i=this.options.minZoom;return this.options.minZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var i=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,i){this._enforcingBounds=!0;var s=this.getCenter(),l=this._limitCenter(s,this._zoom,V(t));return s.equals(l)||this.panTo(l,i),this._enforcingBounds=!1,this},panInside:function(t,i){i=i||{};var s=X(i.paddingTopLeft||i.padding||[0,0]),l=X(i.paddingBottomRight||i.padding||[0,0]),f=this.project(this.getCenter()),m=this.project(t),v=this.getPixelBounds(),P=mt([v.min.add(s),v.max.subtract(l)]),S=P.getSize();if(!P.contains(m)){this._enforcingBounds=!0;var O=m.subtract(P.getCenter()),F=P.extend(m).getSize().subtract(S);f.x+=O.x<0?-F.x:F.x,f.y+=O.y<0?-F.y:F.y,this.panTo(this.unproject(f),i),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=a({animate:!1,pan:!0},t===!0?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var s=this.getSize(),l=i.divideBy(2).round(),f=s.divideBy(2).round(),m=l.subtract(f);return!m.x&&!m.y?this:(t.animate&&t.pan?this.panBy(m):(t.pan&&this._rawPanBy(m),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:s}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=a({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=h(this._handleGeolocationResponse,this),s=h(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,s,t):navigator.geolocation.getCurrentPosition(i,s,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(!!this._container._leaflet_id){var i=t.code,s=t.message||(i===1?"permission denied":i===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+s+"."})}},_handleGeolocationResponse:function(t){if(!!this._container._leaflet_id){var i=t.coords.latitude,s=t.coords.longitude,l=new ot(i,s),f=l.toBounds(t.coords.accuracy*2),m=this._locateOptions;if(m.setView){var v=this.getBoundsZoom(f);this.setView(l,m.maxZoom?Math.min(v,m.maxZoom):v)}var P={latlng:l,bounds:f,timestamp:t.timestamp};for(var S in t.coords)typeof t.coords[S]=="number"&&(P[S]=t.coords[S]);this.fire("locationfound",P)}},addHandler:function(t,i){if(!i)return this;var s=this[t]=new i(this);return this._handlers.push(s),this.options[t]&&s.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),yt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(wt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)yt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,i){var s="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),l=lt("div",s,i||this._mapPane);return t&&(this._panes[t]=l),l},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),i=this.unproject(t.getBottomLeft()),s=this.unproject(t.getTopRight());return new dt(i,s)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,i,s){t=V(t),s=X(s||[0,0]);var l=this.getZoom()||0,f=this.getMinZoom(),m=this.getMaxZoom(),v=t.getNorthWest(),P=t.getSouthEast(),S=this.getSize().subtract(s),O=mt(this.project(P,l),this.project(v,l)).getSize(),F=U.any3d?this.options.zoomSnap:1,Q=S.x/O.x,rt=S.y/O.y,re=i?Math.max(Q,rt):Math.min(Q,rt);return l=this.getScaleZoom(re,l),F&&(l=Math.round(l/(F/100))*(F/100),l=i?Math.ceil(l/F)*F:Math.floor(l/F)*F),Math.max(f,Math.min(m,l))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new G(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,i){var s=this._getTopLeftPoint(t,i);return new Z(s,s.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,i){var s=this.options.crs;return i=i===void 0?this._zoom:i,s.scale(t)/s.scale(i)},getScaleZoom:function(t,i){var s=this.options.crs;i=i===void 0?this._zoom:i;var l=s.zoom(t*s.scale(i));return isNaN(l)?1/0:l},project:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(vt(t),i)},unproject:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(X(t),i)},layerPointToLatLng:function(t){var i=X(t).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(t){var i=this.project(vt(t))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(vt(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(V(t))},distance:function(t,i){return this.options.crs.distance(vt(t),vt(i))},containerPointToLayerPoint:function(t){return X(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return X(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var i=this.containerPointToLayerPoint(X(t));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(vt(t)))},mouseEventToContainerPoint:function(t){return ro(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var i=this._container=eo(t);if(i){if(i._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Y(i,"scroll",this._onScroll,this),this._containerId=c(i)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&U.any3d,K(t,"leaflet-container"+(U.touch?" leaflet-touch":"")+(U.retina?" leaflet-retina":"")+(U.ielt9?" leaflet-oldie":"")+(U.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=Ke(t,"position");i!=="absolute"&&i!=="relative"&&i!=="fixed"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ct(this._mapPane,new G(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(K(t.markerPane,"leaflet-zoom-hide"),K(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,i){Ct(this._mapPane,new G(0,0));var s=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var l=this._zoom!==i;this._moveStart(l,!1)._move(t,i)._moveEnd(l),this.fire("viewreset"),s&&this.fire("load")},_moveStart:function(t,i){return t&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(t,i,s,l){i===void 0&&(i=this._zoom);var f=this._zoom!==i;return this._zoom=i,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),l?s&&s.pinch&&this.fire("zoom",s):((f||s&&s.pinch)&&this.fire("zoom",s),this.fire("move",s)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return wt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Ct(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[c(this._container)]=this;var i=t?pt:Y;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),U.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){wt(this._resizeRequest),this._resizeRequest=st(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,i){for(var s=[],l,f=i==="mouseout"||i==="mouseover",m=t.target||t.srcElement,v=!1;m;){if(l=this._targets[c(m)],l&&(i==="click"||i==="preclick")&&this._draggableMoved(l)){v=!0;break}if(l&&l.listens(i,!0)&&(f&&!Dn(m,t)||(s.push(l),f))||m===this._container)break;m=m.parentNode}return!s.length&&!v&&!f&&this.listens(i,!0)&&(s=[this]),s},_isClickDisabled:function(t){for(;t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var i=t.target||t.srcElement;if(!(!this._loaded||i._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(i))){var s=t.type;s==="mousedown"&&An(i),this._fireDOMEvent(t,s)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,i,s){if(t.type==="click"){var l=a({},t);l.type="preclick",this._fireDOMEvent(l,l.type,s)}var f=this._findEventTargets(t,i);if(s){for(var m=[],v=0;v<s.length;v++)s[v].listens(i,!0)&&m.push(s[v]);f=m.concat(f)}if(!!f.length){i==="contextmenu"&&Dt(t);var P=f[0],S={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var O=P.getLatLng&&(!P._radius||P._radius<=10);S.containerPoint=O?this.latLngToContainerPoint(P.getLatLng()):this.mouseEventToContainerPoint(t),S.layerPoint=this.containerPointToLayerPoint(S.containerPoint),S.latlng=O?P.getLatLng():this.layerPointToLatLng(S.layerPoint)}for(v=0;v<f.length;v++)if(f[v].fire(i,S,!0),S.originalEvent._stopped||f[v].options.bubblingMouseEvents===!1&&D(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,i=this._handlers.length;t<i;t++)this._handlers[t].disable()},whenReady:function(t,i){return this._loaded?t.call(i||this,{target:this}):this.on("load",t,i),this},_getMapPanePos:function(){return ge(this._mapPane)||new G(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,i){var s=t&&i!==void 0?this._getNewPixelOrigin(t,i):this.getPixelOrigin();return s.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,i){var s=this.getSize()._divideBy(2);return this.project(t,i)._subtract(s)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,i,s){var l=this._getNewPixelOrigin(s,i);return this.project(t,i)._subtract(l)},_latLngBoundsToNewLayerBounds:function(t,i,s){var l=this._getNewPixelOrigin(s,i);return mt([this.project(t.getSouthWest(),i)._subtract(l),this.project(t.getNorthWest(),i)._subtract(l),this.project(t.getSouthEast(),i)._subtract(l),this.project(t.getNorthEast(),i)._subtract(l)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,i,s){if(!s)return t;var l=this.project(t,i),f=this.getSize().divideBy(2),m=new Z(l.subtract(f),l.add(f)),v=this._getBoundsOffset(m,s,i);return v.round().equals([0,0])?t:this.unproject(l.add(v),i)},_limitOffset:function(t,i){if(!i)return t;var s=this.getPixelBounds(),l=new Z(s.min.add(t),s.max.add(t));return t.add(this._getBoundsOffset(l,i))},_getBoundsOffset:function(t,i,s){var l=mt(this.project(i.getNorthEast(),s),this.project(i.getSouthWest(),s)),f=l.min.subtract(t.min),m=l.max.subtract(t.max),v=this._rebound(f.x,-m.x),P=this._rebound(f.y,-m.y);return new G(v,P)},_rebound:function(t,i){return t+i>0?Math.round(t-i)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(i))},_limitZoom:function(t){var i=this.getMinZoom(),s=this.getMaxZoom(),l=U.any3d?this.options.zoomSnap:1;return l&&(t=Math.round(t/l)*l),Math.max(i,Math.min(s,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Lt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,i){var s=this._getCenterOffset(t)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(s)?!1:(this.panBy(s,i),!0)},_createAnimProxy:function(){var t=this._proxy=lt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(i){var s=xn,l=this._proxy.style[s];_e(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),l===this._proxy.style[s]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){yt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),i=this.getZoom();_e(this._proxy,this.project(t,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,i,s){if(this._animatingZoom)return!0;if(s=s||{},!this._zoomAnimated||s.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var l=this.getZoomScale(i),f=this._getCenterOffset(t)._divideBy(1-1/l);return s.animate!==!0&&!this.getSize().contains(f)?!1:(st(function(){this._moveStart(!0,!1)._animateZoom(t,i,!0)},this),!0)},_animateZoom:function(t,i,s,l){!this._mapPane||(s&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=i,K(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:i,noUpdate:l}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&Lt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function nl(t,i){return new nt(t,i)}var Ut=q.extend({options:{position:"topright"},initialize:function(t){A(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var i=this._map;return i&&i.removeControl(this),this.options.position=t,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var i=this._container=this.onAdd(t),s=this.getPosition(),l=t._controlCorners[s];return K(i,"leaflet-control"),s.indexOf("bottom")!==-1?l.insertBefore(i,l.firstChild):l.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(yt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),ii=function(t){return new Ut(t)};nt.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},i="leaflet-",s=this._controlContainer=lt("div",i+"control-container",this._container);function l(f,m){var v=i+f+" "+i+m;t[f+m]=lt("div",v,s)}l("top","left"),l("top","right"),l("bottom","left"),l("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)yt(this._controlCorners[t]);yt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ao=Ut.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,i,s,l){return s<l?-1:l<s?1:0}},initialize:function(t,i,s){A(this,s),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var l in t)this._addLayer(t[l],l);for(l in i)this._addLayer(i[l],l,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Ut.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,i){return this._addLayer(t,i),this._map?this._update():this},addOverlay:function(t,i){return this._addLayer(t,i,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var i=this._getLayer(c(t));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){K(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(K(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Lt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Lt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",i=this._container=lt("div",t),s=this.options.collapsed;i.setAttribute("aria-haspopup",!0),ei(i),Nn(i);var l=this._section=lt("section",t+"-list");s&&(this._map.on("click",this.collapse,this),Y(i,{mouseenter:function(){Y(l,"click",Dt),this.expand(),setTimeout(function(){pt(l,"click",Dt)})},mouseleave:this.collapse},this));var f=this._layersLink=lt("a",t+"-toggle",i);f.href="#",f.title="Layers",f.setAttribute("role","button"),Y(f,"click",Dt),Y(f,"focus",this.expand,this),s||this.expand(),this._baseLayersList=lt("div",t+"-base",l),this._separator=lt("div",t+"-separator",l),this._overlaysList=lt("div",t+"-overlays",l),i.appendChild(l)},_getLayer:function(t){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&c(this._layers[i].layer)===t)return this._layers[i]},_addLayer:function(t,i,s){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:i,overlay:s}),this.options.sortLayers&&this._layers.sort(h(function(l,f){return this.options.sortFunction(l.layer,f.layer,l.name,f.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Si(this._baseLayersList),Si(this._overlaysList),this._layerControlInputs=[];var t,i,s,l,f=0;for(s=0;s<this._layers.length;s++)l=this._layers[s],this._addItem(l),i=i||l.overlay,t=t||!l.overlay,f+=l.overlay?0:1;return this.options.hideSingleBase&&(t=t&&f>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=i&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var i=this._getLayer(c(t.target)),s=i.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;s&&this._map.fire(s,i)},_createRadioElement:function(t,i){var s='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(i?' checked="checked"':"")+"/>",l=document.createElement("div");return l.innerHTML=s,l.firstChild},_addItem:function(t){var i=document.createElement("label"),s=this._map.hasLayer(t.layer),l;t.overlay?(l=document.createElement("input"),l.type="checkbox",l.className="leaflet-control-layers-selector",l.defaultChecked=s):l=this._createRadioElement("leaflet-base-layers_"+c(this),s),this._layerControlInputs.push(l),l.layerId=c(t.layer),Y(l,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+t.name;var m=document.createElement("span");i.appendChild(m),m.appendChild(l),m.appendChild(f);var v=t.overlay?this._overlaysList:this._baseLayersList;return v.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var t=this._layerControlInputs,i,s,l=[],f=[];this._handlingClick=!0;for(var m=t.length-1;m>=0;m--)i=t[m],s=this._getLayer(i.layerId).layer,i.checked?l.push(s):i.checked||f.push(s);for(m=0;m<f.length;m++)this._map.hasLayer(f[m])&&this._map.removeLayer(f[m]);for(m=0;m<l.length;m++)this._map.hasLayer(l[m])||this._map.addLayer(l[m]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,i,s,l=this._map.getZoom(),f=t.length-1;f>=0;f--)i=t[f],s=this._getLayer(i.layerId).layer,i.disabled=s.options.minZoom!==void 0&&l<s.options.minZoom||s.options.maxZoom!==void 0&&l>s.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this}}),rl=function(t,i,s){return new ao(t,i,s)},In=Ut.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var i="leaflet-control-zoom",s=lt("div",i+" leaflet-bar"),l=this.options;return this._zoomInButton=this._createButton(l.zoomInText,l.zoomInTitle,i+"-in",s,this._zoomIn),this._zoomOutButton=this._createButton(l.zoomOutText,l.zoomOutTitle,i+"-out",s,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),s},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,i,s,l,f){var m=lt("a",s,l);return m.innerHTML=t,m.href="#",m.title=i,m.setAttribute("role","button"),m.setAttribute("aria-label",i),ei(m),Y(m,"click",ye),Y(m,"click",f,this),Y(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var t=this._map,i="leaflet-disabled";Lt(this._zoomInButton,i),Lt(this._zoomOutButton,i),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(K(this._zoomOutButton,i),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(K(this._zoomInButton,i),this._zoomInButton.setAttribute("aria-disabled","true"))}});nt.mergeOptions({zoomControl:!0}),nt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new In,this.addControl(this.zoomControl))});var ol=function(t){return new In(t)},lo=Ut.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var i="leaflet-control-scale",s=lt("div",i),l=this.options;return this._addScales(l,i+"-line",s),t.on(l.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),s},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,i,s){t.metric&&(this._mScale=lt("div",i,s)),t.imperial&&(this._iScale=lt("div",i,s))},_update:function(){var t=this._map,i=t.getSize().y/2,s=t.distance(t.containerPointToLatLng([0,i]),t.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(s)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var i=this._getRoundNum(t),s=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,s,i/t)},_updateImperial:function(t){var i=t*3.2808399,s,l,f;i>5280?(s=i/5280,l=this._getRoundNum(s),this._updateScale(this._iScale,l+" mi",l/s)):(f=this._getRoundNum(i),this._updateScale(this._iScale,f+" ft",f/i))},_updateScale:function(t,i,s){t.style.width=Math.round(this.options.maxWidth*s)+"px",t.innerHTML=i},_getRoundNum:function(t){var i=Math.pow(10,(Math.floor(t)+"").length-1),s=t/i;return s=s>=10?10:s>=5?5:s>=3?3:s>=2?2:1,i*s}}),sl=function(t){return new lo(t)},al='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Bn=Ut.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(U.inlineSvg?al+" ":"")+"Leaflet</a>"},initialize:function(t){A(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=lt("div","leaflet-control-attribution"),ei(this._container);for(var i in t._layers)t._layers[i].getAttribution&&this.addAttribution(t._layers[i].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(!!this._map){var t=[];for(var i in this._attributions)this._attributions[i]&&t.push(i);var s=[];this.options.prefix&&s.push(this.options.prefix),t.length&&s.push(t.join(", ")),this._container.innerHTML=s.join(' <span aria-hidden="true">|</span> ')}}});nt.mergeOptions({attributionControl:!0}),nt.addInitHook(function(){this.options.attributionControl&&new Bn().addTo(this)});var ll=function(t){return new Bn(t)};Ut.Layers=ao,Ut.Zoom=In,Ut.Scale=lo,Ut.Attribution=Bn,ii.layers=rl,ii.zoom=ol,ii.scale=sl,ii.attribution=ll;var Vt=q.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Vt.addTo=function(t,i){return t.addHandler(i,this),this};var ul={Events:kt},uo=U.touch?"touchstart mousedown":"mousedown",ae=St.extend({options:{clickTolerance:3},initialize:function(t,i,s,l){A(this,l),this._element=t,this._dragStartTarget=i||t,this._preventOutline=s},enable:function(){this._enabled||(Y(this._dragStartTarget,uo,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(ae._dragging===this&&this.finishDrag(!0),pt(this._dragStartTarget,uo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!!this._enabled&&(this._moved=!1,!Pn(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){ae._dragging===this&&this.finishDrag();return}if(!(ae._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(ae._dragging=this,this._preventOutline&&An(this._element),kn(),Je(),!this._moving)){this.fire("down");var i=t.touches?t.touches[0]:t,s=io(this._element);this._startPoint=new G(i.clientX,i.clientY),this._startPos=ge(this._element),this._parentScale=En(s);var l=t.type==="mousedown";Y(document,l?"mousemove":"touchmove",this._onMove,this),Y(document,l?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(!!this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var i=t.touches&&t.touches.length===1?t.touches[0]:t,s=new G(i.clientX,i.clientY)._subtract(this._startPoint);!s.x&&!s.y||Math.abs(s.x)+Math.abs(s.y)<this.options.clickTolerance||(s.x/=this._parentScale.x,s.y/=this._parentScale.y,Dt(t),this._moved||(this.fire("dragstart"),this._moved=!0,K(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),K(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(s),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Ct(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){!this._enabled||this.finishDrag()},finishDrag:function(t){Lt(document.body,"leaflet-dragging"),this._lastTarget&&(Lt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),pt(document,"mousemove touchmove",this._onMove,this),pt(document,"mouseup touchend touchcancel",this._onUp,this),Sn(),Qe(),this._moved&&this._moving&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,ae._dragging=!1}});function ho(t,i){if(!i||!t.length)return t.slice();var s=i*i;return t=fl(t,s),t=cl(t,s),t}function co(t,i,s){return Math.sqrt(ni(t,i,s,!0))}function hl(t,i,s){return ni(t,i,s)}function cl(t,i){var s=t.length,l=typeof Uint8Array!=void 0+""?Uint8Array:Array,f=new l(s);f[0]=f[s-1]=1,Rn(t,f,i,0,s-1);var m,v=[];for(m=0;m<s;m++)f[m]&&v.push(t[m]);return v}function Rn(t,i,s,l,f){var m=0,v,P,S;for(P=l+1;P<=f-1;P++)S=ni(t[P],t[l],t[f],!0),S>m&&(v=P,m=S);m>s&&(i[v]=1,Rn(t,i,s,l,v),Rn(t,i,s,v,f))}function fl(t,i){for(var s=[t[0]],l=1,f=0,m=t.length;l<m;l++)dl(t[l],t[f])>i&&(s.push(t[l]),f=l);return f<m-1&&s.push(t[m-1]),s}var fo;function po(t,i,s,l,f){var m=l?fo:be(t,s),v=be(i,s),P,S,O;for(fo=v;;){if(!(m|v))return[t,i];if(m&v)return!1;P=m||v,S=Mi(t,i,P,s,f),O=be(S,s),P===m?(t=S,m=O):(i=S,v=O)}}function Mi(t,i,s,l,f){var m=i.x-t.x,v=i.y-t.y,P=l.min,S=l.max,O,F;return s&8?(O=t.x+m*(S.y-t.y)/v,F=S.y):s&4?(O=t.x+m*(P.y-t.y)/v,F=P.y):s&2?(O=S.x,F=t.y+v*(S.x-t.x)/m):s&1&&(O=P.x,F=t.y+v*(P.x-t.x)/m),new G(O,F,f)}function be(t,i){var s=0;return t.x<i.min.x?s|=1:t.x>i.max.x&&(s|=2),t.y<i.min.y?s|=4:t.y>i.max.y&&(s|=8),s}function dl(t,i){var s=i.x-t.x,l=i.y-t.y;return s*s+l*l}function ni(t,i,s,l){var f=i.x,m=i.y,v=s.x-f,P=s.y-m,S=v*v+P*P,O;return S>0&&(O=((t.x-f)*v+(t.y-m)*P)/S,O>1?(f=s.x,m=s.y):O>0&&(f+=v*O,m+=P*O)),v=t.x-f,P=t.y-m,l?v*v+P*P:new G(f,m)}function te(t){return!z(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]!="undefined"}function mo(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),te(t)}var pl={__proto__:null,simplify:ho,pointToSegmentDistance:co,closestPointOnSegment:hl,clipSegment:po,_getEdgeIntersection:Mi,_getBitCode:be,_sqClosestPointOnSegment:ni,isFlat:te,_flat:mo};function _o(t,i,s){var l,f=[1,4,2,8],m,v,P,S,O,F,Q,rt;for(m=0,F=t.length;m<F;m++)t[m]._code=be(t[m],i);for(P=0;P<4;P++){for(Q=f[P],l=[],m=0,F=t.length,v=F-1;m<F;v=m++)S=t[m],O=t[v],S._code&Q?O._code&Q||(rt=Mi(O,S,Q,i,s),rt._code=be(rt,i),l.push(rt)):(O._code&Q&&(rt=Mi(O,S,Q,i,s),rt._code=be(rt,i),l.push(rt)),l.push(S));t=l}return t}var ml={__proto__:null,clipPolygon:_o},Zn={project:function(t){return new G(t.lng,t.lat)},unproject:function(t){return new ot(t.y,t.x)},bounds:new Z([-180,-90],[180,90])},$n={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var i=Math.PI/180,s=this.R,l=t.lat*i,f=this.R_MINOR/s,m=Math.sqrt(1-f*f),v=m*Math.sin(l),P=Math.tan(Math.PI/4-l/2)/Math.pow((1-v)/(1+v),m/2);return l=-s*Math.log(Math.max(P,1e-10)),new G(t.lng*i*s,l)},unproject:function(t){for(var i=180/Math.PI,s=this.R,l=this.R_MINOR/s,f=Math.sqrt(1-l*l),m=Math.exp(-t.y/s),v=Math.PI/2-2*Math.atan(m),P=0,S=.1,O;P<15&&Math.abs(S)>1e-7;P++)O=f*Math.sin(v),O=Math.pow((1-O)/(1+O),f/2),S=Math.PI/2-2*Math.atan(m*O)-v,v+=S;return new ot(v*i,t.x*i/s)}},_l={__proto__:null,LonLat:Zn,Mercator:$n,SphericalMercator:dn},gl=a({},se,{code:"EPSG:3395",projection:$n,transformation:function(){var t=.5/(Math.PI*$n.R);return Ve(t,.5,-t,.5)}()}),go=a({},se,{code:"EPSG:4326",projection:Zn,transformation:Ve(1/180,1,-1/180,.5)}),vl=a({},Qt,{projection:Zn,transformation:Ve(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,i){var s=i.lng-t.lng,l=i.lat-t.lat;return Math.sqrt(s*s+l*l)},infinite:!0});Qt.Earth=se,Qt.EPSG3395=gl,Qt.EPSG3857=mn,Qt.EPSG900913=ka,Qt.EPSG4326=go,Qt.Simple=vl;var jt=St.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[c(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[c(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var i=t.target;if(!!i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var s=this.getEvents();i.on(s,this),this.once("remove",function(){i.off(s,this)},this)}this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this})}}});nt.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var i=c(t);return this._layers[i]?this:(this._layers[i]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var i=c(t);return this._layers[i]?(this._loaded&&t.onRemove(this),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return c(t)in this._layers},eachLayer:function(t,i){for(var s in this._layers)t.call(i,this._layers[s]);return this},_addLayers:function(t){t=t?z(t)?t:[t]:[];for(var i=0,s=t.length;i<s;i++)this.addLayer(t[i])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[c(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var i=c(t);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,i=-1/0,s=this._getZoomSpan();for(var l in this._zoomBoundLayers){var f=this._zoomBoundLayers[l].options;t=f.minZoom===void 0?t:Math.min(t,f.minZoom),i=f.maxZoom===void 0?i:Math.max(i,f.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=t===1/0?void 0:t,s!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ee=jt.extend({initialize:function(t,i){A(this,i),this._layers={};var s,l;if(t)for(s=0,l=t.length;s<l;s++)this.addLayer(t[s])},addLayer:function(t){var i=this.getLayerId(t);return this._layers[i]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var i=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(t){var i=typeof t=="number"?t:this.getLayerId(t);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var i=Array.prototype.slice.call(arguments,1),s,l;for(s in this._layers)l=this._layers[s],l[t]&&l[t].apply(l,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,i){for(var s in this._layers)t.call(i,this._layers[s]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return c(t)}}),yl=function(t,i){return new Ee(t,i)},Oe=Ee.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Ee.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Ee.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new dt;for(var i in this._layers){var s=this._layers[i];t.extend(s.getBounds?s.getBounds():s.getLatLng())}return t}}),bl=function(t,i){return new Oe(t,i)},Me=q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){A(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,i){var s=this._getIconUrl(t);if(!s){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var l=this._createImg(s,i&&i.tagName==="IMG"?i:null);return this._setIconStyles(l,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),l},_setIconStyles:function(t,i){var s=this.options,l=s[i+"Size"];typeof l=="number"&&(l=[l,l]);var f=X(l),m=X(i==="shadow"&&s.shadowAnchor||s.iconAnchor||f&&f.divideBy(2,!0));t.className="leaflet-marker-"+i+" "+(s.className||""),m&&(t.style.marginLeft=-m.x+"px",t.style.marginTop=-m.y+"px"),f&&(t.style.width=f.x+"px",t.style.height=f.y+"px")},_createImg:function(t,i){return i=i||document.createElement("img"),i.src=t,i},_getIconUrl:function(t){return U.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function wl(t){return new Me(t)}var ri=Me.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof ri.imagePath!="string"&&(ri.imagePath=this._detectIconPath()),(this.options.imagePath||ri.imagePath)+Me.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var i=function(s,l,f){var m=l.exec(s);return m&&m[f]};return t=i(t,/^url\((['"])?(.+)\1\)$/,2),t&&i(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=lt("div","leaflet-default-icon-path",document.body),i=Ke(t,"background-image")||Ke(t,"backgroundImage");if(document.body.removeChild(t),i=this._stripUrl(i),i)return i;var s=document.querySelector('link[href$="leaflet.css"]');return s?s.href.substring(0,s.href.length-11-1):""}}),vo=Vt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ae(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),K(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Lt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var i=this._marker,s=i._map,l=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,m=ge(i._icon),v=s.getPixelBounds(),P=s.getPixelOrigin(),S=mt(v.min._subtract(P).add(f),v.max._subtract(P).subtract(f));if(!S.contains(m)){var O=X((Math.max(S.max.x,m.x)-S.max.x)/(v.max.x-S.max.x)-(Math.min(S.min.x,m.x)-S.min.x)/(v.min.x-S.min.x),(Math.max(S.max.y,m.y)-S.max.y)/(v.max.y-S.max.y)-(Math.min(S.min.y,m.y)-S.min.y)/(v.min.y-S.min.y)).multiplyBy(l);s.panBy(O,{animate:!1}),this._draggable._newPos._add(O),this._draggable._startPos._add(O),Ct(i._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=st(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(wt(this._panRequest),this._panRequest=st(this._adjustPan.bind(this,t)))},_onDrag:function(t){var i=this._marker,s=i._shadow,l=ge(i._icon),f=i._map.layerPointToLatLng(l);s&&Ct(s,l),i._latlng=f,t.latlng=f,t.oldLatLng=this._oldLatLng,i.fire("move",t).fire("drag",t)},_onDragEnd:function(t){wt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),zi=jt.extend({options:{icon:new ri,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,i){A(this,i),this._latlng=vt(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var i=this._latlng;return this._latlng=vt(t),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),s=t.icon.createIcon(this._icon),l=!1;s!==this._icon&&(this._icon&&this._removeIcon(),l=!0,t.title&&(s.title=t.title),s.tagName==="IMG"&&(s.alt=t.alt||"")),K(s,i),t.keyboard&&(s.tabIndex="0",s.setAttribute("role","button")),this._icon=s,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Y(s,"focus",this._panOnFocus,this);var f=t.icon.createShadow(this._shadow),m=!1;f!==this._shadow&&(this._removeShadow(),m=!0),f&&(K(f,i),f.alt=""),this._shadow=f,t.opacity<1&&this._updateOpacity(),l&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&m&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pt(this._icon,"focus",this._panOnFocus,this),yt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&yt(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Ct(this._icon,t),this._shadow&&Ct(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(i)},_initInteraction:function(){if(!!this.options.interactive&&(K(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),vo)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new vo(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&$t(this._icon,t),this._shadow&&$t(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(!!t){var i=this.options.icon.options,s=i.iconSize?X(i.iconSize):X(0,0),l=i.iconAnchor?X(i.iconAnchor):X(0,0);t.panInside(this._latlng,{paddingTopLeft:l,paddingBottomRight:s.subtract(l)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function xl(t,i){return new zi(t,i)}var le=jt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return A(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ni=le.extend({options:{fill:!0,radius:10},initialize:function(t,i){A(this,i),this._latlng=vt(t),this._radius=this.options.radius},setLatLng:function(t){var i=this._latlng;return this._latlng=vt(t),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var i=t&&t.radius||this._radius;return le.prototype.setStyle.call(this,t),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,i=this._radiusY||t,s=this._clickTolerance(),l=[t+s,i+s];this._pxBounds=new Z(this._point.subtract(l),this._point.add(l))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Pl(t,i){return new Ni(t,i)}var Hn=Ni.extend({initialize:function(t,i,s){if(typeof i=="number"&&(i=a({},s,{radius:i})),A(this,i),this._latlng=vt(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new dt(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:le.prototype.setStyle,_project:function(){var t=this._latlng.lng,i=this._latlng.lat,s=this._map,l=s.options.crs;if(l.distance===se.distance){var f=Math.PI/180,m=this._mRadius/se.R/f,v=s.project([i+m,t]),P=s.project([i-m,t]),S=v.add(P).divideBy(2),O=s.unproject(S).lat,F=Math.acos((Math.cos(m*f)-Math.sin(i*f)*Math.sin(O*f))/(Math.cos(i*f)*Math.cos(O*f)))/f;(isNaN(F)||F===0)&&(F=m/Math.cos(Math.PI/180*i)),this._point=S.subtract(s.getPixelOrigin()),this._radius=isNaN(F)?0:S.x-s.project([O,t-F]).x,this._radiusY=S.y-v.y}else{var Q=l.unproject(l.project(this._latlng).subtract([this._mRadius,0]));this._point=s.latLngToLayerPoint(this._latlng),this._radius=this._point.x-s.latLngToLayerPoint(Q).x}this._updateBounds()}});function Ll(t,i,s){return new Hn(t,i,s)}var ee=le.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,i){A(this,i),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var i=1/0,s=null,l=ni,f,m,v=0,P=this._parts.length;v<P;v++)for(var S=this._parts[v],O=1,F=S.length;O<F;O++){f=S[O-1],m=S[O];var Q=l(t,f,m,!0);Q<i&&(i=Q,s=l(t,f,m))}return s&&(s.distance=Math.sqrt(i)),s},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,i,s,l,f,m,v,P=this._rings[0],S=P.length;if(!S)return null;for(t=0,i=0;t<S-1;t++)i+=P[t].distanceTo(P[t+1])/2;if(i===0)return this._map.layerPointToLatLng(P[0]);for(t=0,l=0;t<S-1;t++)if(f=P[t],m=P[t+1],s=f.distanceTo(m),l+=s,l>i)return v=(l-i)/s,this._map.layerPointToLatLng([m.x-v*(m.x-f.x),m.y-v*(m.y-f.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,i){return i=i||this._defaultShape(),t=vt(t),i.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new dt,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return te(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var i=[],s=te(t),l=0,f=t.length;l<f;l++)s?(i[l]=vt(t[l]),this._bounds.extend(i[l])):i[l]=this._convertLatLngs(t[l]);return i},_project:function(){var t=new Z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),i=new G(t,t);!this._rawPxBounds||(this._pxBounds=new Z([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)]))},_projectLatlngs:function(t,i,s){var l=t[0]instanceof ot,f=t.length,m,v;if(l){for(v=[],m=0;m<f;m++)v[m]=this._map.latLngToLayerPoint(t[m]),s.extend(v[m]);i.push(v)}else for(m=0;m<f;m++)this._projectLatlngs(t[m],i,s)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var i=this._parts,s,l,f,m,v,P,S;for(s=0,f=0,m=this._rings.length;s<m;s++)for(S=this._rings[s],l=0,v=S.length;l<v-1;l++)P=po(S[l],S[l+1],t,l,!0),P&&(i[f]=i[f]||[],i[f].push(P[0]),(P[1]!==S[l+1]||l===v-2)&&(i[f].push(P[1]),f++))}},_simplifyPoints:function(){for(var t=this._parts,i=this.options.smoothFactor,s=0,l=t.length;s<l;s++)t[s]=ho(t[s],i)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,i){var s,l,f,m,v,P,S=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(s=0,m=this._parts.length;s<m;s++)for(P=this._parts[s],l=0,v=P.length,f=v-1;l<v;f=l++)if(!(!i&&l===0)&&co(t,P[f],P[l])<=S)return!0;return!1}});function Tl(t,i){return new ee(t,i)}ee._flat=mo;var ze=ee.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,i,s,l,f,m,v,P,S,O=this._rings[0],F=O.length;if(!F)return null;for(m=v=P=0,t=0,i=F-1;t<F;i=t++)s=O[t],l=O[i],f=s.y*l.x-l.y*s.x,v+=(s.x+l.x)*f,P+=(s.y+l.y)*f,m+=f*3;return m===0?S=O[0]:S=[v/m,P/m],this._map.layerPointToLatLng(S)},_convertLatLngs:function(t){var i=ee.prototype._convertLatLngs.call(this,t),s=i.length;return s>=2&&i[0]instanceof ot&&i[0].equals(i[s-1])&&i.pop(),i},_setLatLngs:function(t){ee.prototype._setLatLngs.call(this,t),te(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return te(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,i=this.options.weight,s=new G(i,i);if(t=new Z(t.min.subtract(s),t.max.add(s)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var l=0,f=this._rings.length,m;l<f;l++)m=_o(this._rings[l],t,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var i=!1,s,l,f,m,v,P,S,O;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(m=0,S=this._parts.length;m<S;m++)for(s=this._parts[m],v=0,O=s.length,P=O-1;v<O;P=v++)l=s[v],f=s[P],l.y>t.y!=f.y>t.y&&t.x<(f.x-l.x)*(t.y-l.y)/(f.y-l.y)+l.x&&(i=!i);return i||ee.prototype._containsPoint.call(this,t,!0)}});function kl(t,i){return new ze(t,i)}var ie=Oe.extend({initialize:function(t,i){A(this,i),this._layers={},t&&this.addData(t)},addData:function(t){var i=z(t)?t:t.features,s,l,f;if(i){for(s=0,l=i.length;s<l;s++)f=i[s],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var m=this.options;if(m.filter&&!m.filter(t))return this;var v=Fn(t,m);return v?(v.feature=Bi(t),v.defaultOptions=v.options,this.resetStyle(v),m.onEachFeature&&m.onEachFeature(t,v),this.addLayer(v)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=a({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(i){this._setLayerStyle(i,t)},this)},_setLayerStyle:function(t,i){t.setStyle&&(typeof i=="function"&&(i=i(t.feature)),t.setStyle(i))}});function Fn(t,i){var s=t.type==="Feature"?t.geometry:t,l=s?s.coordinates:null,f=[],m=i&&i.pointToLayer,v=i&&i.coordsToLatLng||Un,P,S,O,F;if(!l&&!s)return null;switch(s.type){case"Point":return P=v(l),yo(m,t,P,i);case"MultiPoint":for(O=0,F=l.length;O<F;O++)P=v(l[O]),f.push(yo(m,t,P,i));return new Oe(f);case"LineString":case"MultiLineString":return S=Di(l,s.type==="LineString"?0:1,v),new ee(S,i);case"Polygon":case"MultiPolygon":return S=Di(l,s.type==="Polygon"?1:2,v),new ze(S,i);case"GeometryCollection":for(O=0,F=s.geometries.length;O<F;O++){var Q=Fn({geometry:s.geometries[O],type:"Feature",properties:t.properties},i);Q&&f.push(Q)}return new Oe(f);default:throw new Error("Invalid GeoJSON object.")}}function yo(t,i,s,l){return t?t(i,s):new zi(s,l&&l.markersInheritOptions&&l)}function Un(t){return new ot(t[1],t[0],t[2])}function Di(t,i,s){for(var l=[],f=0,m=t.length,v;f<m;f++)v=i?Di(t[f],i-1,s):(s||Un)(t[f]),l.push(v);return l}function jn(t,i){return t=vt(t),t.alt!==void 0?[y(t.lng,i),y(t.lat,i),y(t.alt,i)]:[y(t.lng,i),y(t.lat,i)]}function Ii(t,i,s,l){for(var f=[],m=0,v=t.length;m<v;m++)f.push(i?Ii(t[m],i-1,s,l):jn(t[m],l));return!i&&s&&f.push(f[0]),f}function Ne(t,i){return t.feature?a({},t.feature,{geometry:i}):Bi(i)}function Bi(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Wn={toGeoJSON:function(t){return Ne(this,{type:"Point",coordinates:jn(this.getLatLng(),t)})}};zi.include(Wn),Hn.include(Wn),Ni.include(Wn),ee.include({toGeoJSON:function(t){var i=!te(this._latlngs),s=Ii(this._latlngs,i?1:0,!1,t);return Ne(this,{type:(i?"Multi":"")+"LineString",coordinates:s})}}),ze.include({toGeoJSON:function(t){var i=!te(this._latlngs),s=i&&!te(this._latlngs[0]),l=Ii(this._latlngs,s?2:i?1:0,!0,t);return i||(l=[l]),Ne(this,{type:(s?"Multi":"")+"Polygon",coordinates:l})}}),Ee.include({toMultiPoint:function(t){var i=[];return this.eachLayer(function(s){i.push(s.toGeoJSON(t).geometry.coordinates)}),Ne(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(t){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(i==="MultiPoint")return this.toMultiPoint(t);var s=i==="GeometryCollection",l=[];return this.eachLayer(function(f){if(f.toGeoJSON){var m=f.toGeoJSON(t);if(s)l.push(m.geometry);else{var v=Bi(m);v.type==="FeatureCollection"?l.push.apply(l,v.features):l.push(v)}}}),s?Ne(this,{geometries:l,type:"GeometryCollection"}):{type:"FeatureCollection",features:l}}});function bo(t,i){return new ie(t,i)}var Sl=bo,Ri=jt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,i,s){this._url=t,this._bounds=V(i),A(this,s)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(K(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){yt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Ce(this._image),this},bringToBack:function(){return this._map&&Ae(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=V(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",i=this._image=t?this._url:lt("img");if(K(i,"leaflet-image-layer"),this._zoomAnimated&&K(i,"leaflet-zoom-animated"),this.options.className&&K(i,this.options.className),i.onselectstart=g,i.onmousemove=g,i.onload=h(this.fire,this,"load"),i.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=i.src;return}i.src=this._url,i.alt=this.options.alt},_animateZoom:function(t){var i=this._map.getZoomScale(t.zoom),s=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;_e(this._image,s,i)},_reset:function(){var t=this._image,i=new Z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),s=i.getSize();Ct(t,i.min),t.style.width=s.x+"px",t.style.height=s.y+"px"},_updateOpacity:function(){$t(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Cl=function(t,i,s){return new Ri(t,i,s)},wo=Ri.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",i=this._image=t?this._url:lt("video");if(K(i,"leaflet-image-layer"),this._zoomAnimated&&K(i,"leaflet-zoom-animated"),this.options.className&&K(i,this.options.className),i.onselectstart=g,i.onmousemove=g,i.onloadeddata=h(this.fire,this,"load"),t){for(var s=i.getElementsByTagName("source"),l=[],f=0;f<s.length;f++)l.push(s[f].src);this._url=s.length>0?l:[i.src];return}z(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted,i.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var v=lt("source");v.src=this._url[m],i.appendChild(v)}}});function Al(t,i,s){return new wo(t,i,s)}var xo=Ri.extend({_initImage:function(){var t=this._image=this._url;K(t,"leaflet-image-layer"),this._zoomAnimated&&K(t,"leaflet-zoom-animated"),this.options.className&&K(t,this.options.className),t.onselectstart=g,t.onmousemove=g}});function El(t,i,s){return new xo(t,i,s)}var Yt=jt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0},initialize:function(t,i){A(this,t),this._source=i},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&$t(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&$t(this._container,1),this.bringToFront(),this.options.interactive&&(K(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?($t(this._container,0),this._removeTimeout=setTimeout(h(yt,void 0,this._container),200)):yt(this._container),this.options.interactive&&(Lt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=vt(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ce(this._container),this},bringToBack:function(){return this._map&&Ae(this._container),this},_prepareOpen:function(t){var i=this._source;if(!i._map)return!1;if(i instanceof Oe){i=null;var s=this._source._layers;for(var l in s)if(s[l]._map){i=s[l];break}if(!i)return!1;this._source=i}if(!t)if(i.getCenter)t=i.getCenter();else if(i.getLatLng)t=i.getLatLng();else if(i.getBounds)t=i.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(!!this._content){var t=this._contentNode,i=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof i=="string")t.innerHTML=i;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(!!this._map){var t=this._map.latLngToLayerPoint(this._latlng),i=X(this.options.offset),s=this._getAnchor();this._zoomAnimated?Ct(this._container,t.add(s)):i=i.add(t).add(s);var l=this._containerBottom=-i.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=l+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});nt.include({_initOverlay:function(t,i,s,l){var f=i;return f instanceof t||(f=new t(l).setContent(i)),s&&f.setLatLng(s),f}}),jt.include({_initOverlay:function(t,i,s,l){var f=s;return f instanceof t?(A(f,l),f._source=this):(f=i&&!l?i:new t(l,this),f.setContent(s)),f}});var Zi=Yt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Yt.prototype.openOn.call(this,t)},onAdd:function(t){Yt.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof le||this._source.on("preclick",ve))},onRemove:function(t){Yt.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof le||this._source.off("preclick",ve))},getEvents:function(){var t=Yt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",i=this._container=lt("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),s=this._wrapper=lt("div",t+"-content-wrapper",i);if(this._contentNode=lt("div",t+"-content",s),ei(i),Nn(this._contentNode),Y(i,"contextmenu",ve),this._tipContainer=lt("div",t+"-tip-container",i),this._tip=lt("div",t+"-tip",this._tipContainer),this.options.closeButton){var l=this._closeButton=lt("a",t+"-close-button",i);l.setAttribute("role","button"),l.setAttribute("aria-label","Close popup"),l.href="#close",l.innerHTML='<span aria-hidden="true">&#215;</span>',Y(l,"click",this.close,this)}},_updateLayout:function(){var t=this._contentNode,i=t.style;i.width="",i.whiteSpace="nowrap";var s=t.offsetWidth;s=Math.min(s,this.options.maxWidth),s=Math.max(s,this.options.minWidth),i.width=s+1+"px",i.whiteSpace="",i.height="";var l=t.offsetHeight,f=this.options.maxHeight,m="leaflet-popup-scrolled";f&&l>f?(i.height=f+"px",K(t,m)):Lt(t,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),s=this._getAnchor();Ct(this._container,i.add(s))},_adjustPan:function(t){if(!!this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var i=this._map,s=parseInt(Ke(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+s,f=this._containerWidth,m=new G(this._containerLeft,-l-this._containerBottom);m._add(ge(this._container));var v=i.layerPointToContainerPoint(m),P=X(this.options.autoPanPadding),S=X(this.options.autoPanPaddingTopLeft||P),O=X(this.options.autoPanPaddingBottomRight||P),F=i.getSize(),Q=0,rt=0;v.x+f+O.x>F.x&&(Q=v.x+f-F.x+O.x),v.x-Q-S.x<0&&(Q=v.x-S.x),v.y+l+O.y>F.y&&(rt=v.y+l-F.y+O.y),v.y-rt-S.y<0&&(rt=v.y-S.y),(Q||rt)&&i.fire("autopanstart").panBy([Q,rt],{animate:t&&t.type==="moveend"})}},_getAnchor:function(){return X(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ol=function(t,i){return new Zi(t,i)};nt.mergeOptions({closePopupOnClick:!0}),nt.include({openPopup:function(t,i,s){return this._initOverlay(Zi,t,i,s).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),jt.include({bindPopup:function(t,i){return this._popup=this._initOverlay(Zi,this._popup,t,i),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&this._popup._prepareOpen(t)&&this._popup.openOn(this._map),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){ye(t);var i=t.layer||t.target;if(this._popup._source===i&&!(i instanceof le)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=i,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var $i=Yt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Yt.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Yt.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Yt.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",i=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=lt("div",i)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var i,s,l=this._map,f=this._container,m=l.latLngToContainerPoint(l.getCenter()),v=l.layerPointToContainerPoint(t),P=this.options.direction,S=f.offsetWidth,O=f.offsetHeight,F=X(this.options.offset),Q=this._getAnchor();P==="top"?(i=S/2,s=O):P==="bottom"?(i=S/2,s=0):P==="center"?(i=S/2,s=O/2):P==="right"?(i=0,s=O/2):P==="left"?(i=S,s=O/2):v.x<m.x?(P="right",i=0,s=O/2):(P="left",i=S+(F.x+Q.x)*2,s=O/2),t=t.subtract(X(i,s,!0)).add(F).add(Q),Lt(f,"leaflet-tooltip-right"),Lt(f,"leaflet-tooltip-left"),Lt(f,"leaflet-tooltip-top"),Lt(f,"leaflet-tooltip-bottom"),K(f,"leaflet-tooltip-"+P),Ct(f,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&$t(this._container,t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(i)},_getAnchor:function(){return X(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ml=function(t,i){return new $i(t,i)};nt.include({openTooltip:function(t,i,s){return this._initOverlay($i,t,i,s).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),jt.include({bindTooltip:function(t,i){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay($i,this._tooltip,t,i),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var i=t?"off":"on",s={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?s.add=this._openTooltip:(s.mouseover=this._openTooltip,s.mouseout=this.closeTooltip,s.click=this._openTooltip),this._tooltip.options.sticky&&(s.mousemove=this._moveTooltip),this[i](s),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&this._tooltip._prepareOpen(t)&&this._tooltip.openOn(this._map),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0))},_moveTooltip:function(t){var i=t.latlng,s,l;this._tooltip.options.sticky&&t.originalEvent&&(s=this._map.mouseEventToContainerPoint(t.originalEvent),l=this._map.containerPointToLayerPoint(s),i=this._map.layerPointToLatLng(l)),this._tooltip.setLatLng(i)}});var Po=Me.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var i=t&&t.tagName==="DIV"?t:document.createElement("div"),s=this.options;if(s.html instanceof Element?(Si(i),i.appendChild(s.html)):i.innerHTML=s.html!==!1?s.html:"",s.bgPos){var l=X(s.bgPos);i.style.backgroundPosition=-l.x+"px "+-l.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function zl(t){return new Po(t)}Me.Default=ri;var oi=jt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:U.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){A(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),yt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ce(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ae(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof G?t:new G(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var i=this.getPane().children,s=-t(-1/0,1/0),l=0,f=i.length,m;l<f;l++)m=i[l].style.zIndex,i[l]!==this._container&&m&&(s=t(s,+m));isFinite(s)&&(this.options.zIndex=s+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(!!this._map&&!U.ielt9){$t(this._container,this.options.opacity);var t=+new Date,i=!1,s=!1;for(var l in this._tiles){var f=this._tiles[l];if(!(!f.current||!f.loaded)){var m=Math.min(1,(t-f.loaded)/200);$t(f.el,m),m<1?i=!0:(f.active?s=!0:this._onOpaqueTile(f),f.active=!0)}}s&&!this._noPrune&&this._pruneTiles(),i&&(wt(this._fadeFrame),this._fadeFrame=st(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=lt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,i=this.options.maxZoom;if(t!==void 0){for(var s in this._levels)s=Number(s),this._levels[s].el.children.length||s===t?(this._levels[s].el.style.zIndex=i-Math.abs(t-s),this._onUpdateLevel(s)):(yt(this._levels[s].el),this._removeTilesAtZoom(s),this._onRemoveLevel(s),delete this._levels[s]);var l=this._levels[t],f=this._map;return l||(l=this._levels[t]={},l.el=lt("div","leaflet-tile-container leaflet-zoom-animated",this._container),l.el.style.zIndex=i,l.origin=f.project(f.unproject(f.getPixelOrigin()),t).round(),l.zoom=t,this._setZoomTransform(l,f.getCenter(),f.getZoom()),g(l.el.offsetWidth),this._onCreateLevel(l)),this._level=l,l}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(!!this._map){var t,i,s=this._map.getZoom();if(s>this.options.maxZoom||s<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)i=this._tiles[t],i.retain=i.current;for(t in this._tiles)if(i=this._tiles[t],i.current&&!i.active){var l=i.coords;this._retainParent(l.x,l.y,l.z,l.z-5)||this._retainChildren(l.x,l.y,l.z,l.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var i in this._tiles)this._tiles[i].coords.z===t&&this._removeTile(i)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)yt(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,i,s,l){var f=Math.floor(t/2),m=Math.floor(i/2),v=s-1,P=new G(+f,+m);P.z=+v;var S=this._tileCoordsToKey(P),O=this._tiles[S];return O&&O.active?(O.retain=!0,!0):(O&&O.loaded&&(O.retain=!0),v>l?this._retainParent(f,m,v,l):!1)},_retainChildren:function(t,i,s,l){for(var f=2*t;f<2*t+2;f++)for(var m=2*i;m<2*i+2;m++){var v=new G(f,m);v.z=s+1;var P=this._tileCoordsToKey(v),S=this._tiles[P];if(S&&S.active){S.retain=!0;continue}else S&&S.loaded&&(S.retain=!0);s+1<l&&this._retainChildren(f,m,s+1,l)}},_resetView:function(t){var i=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var i=this.options;return i.minNativeZoom!==void 0&&t<i.minNativeZoom?i.minNativeZoom:i.maxNativeZoom!==void 0&&i.maxNativeZoom<t?i.maxNativeZoom:t},_setView:function(t,i,s,l){var f=Math.round(i);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var m=this.options.updateWhenZooming&&f!==this._tileZoom;(!l||m)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(t),s||this._pruneTiles(),this._noPrune=!!s),this._setZoomTransforms(t,i)},_setZoomTransforms:function(t,i){for(var s in this._levels)this._setZoomTransform(this._levels[s],t,i)},_setZoomTransform:function(t,i,s){var l=this._map.getZoomScale(s,t.zoom),f=t.origin.multiplyBy(l).subtract(this._map._getNewPixelOrigin(i,s)).round();U.any3d?_e(t.el,f,l):Ct(t.el,f)},_resetGrid:function(){var t=this._map,i=t.options.crs,s=this._tileSize=this.getTileSize(),l=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,i.wrapLng[0]],l).x/s.x),Math.ceil(t.project([0,i.wrapLng[1]],l).x/s.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([i.wrapLat[0],0],l).y/s.x),Math.ceil(t.project([i.wrapLat[1],0],l).y/s.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var i=this._map,s=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),l=i.getZoomScale(s,this._tileZoom),f=i.project(t,this._tileZoom).floor(),m=i.getSize().divideBy(l*2);return new Z(f.subtract(m),f.add(m))},_update:function(t){var i=this._map;if(!!i){var s=this._clampZoom(i.getZoom());if(t===void 0&&(t=i.getCenter()),this._tileZoom!==void 0){var l=this._getTiledPixelBounds(t),f=this._pxBoundsToTileRange(l),m=f.getCenter(),v=[],P=this.options.keepBuffer,S=new Z(f.getBottomLeft().subtract([P,-P]),f.getTopRight().add([P,-P]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var O in this._tiles){var F=this._tiles[O].coords;(F.z!==this._tileZoom||!S.contains(new G(F.x,F.y)))&&(this._tiles[O].current=!1)}if(Math.abs(s-this._tileZoom)>1){this._setView(t,s);return}for(var Q=f.min.y;Q<=f.max.y;Q++)for(var rt=f.min.x;rt<=f.max.x;rt++){var re=new G(rt,Q);if(re.z=this._tileZoom,!!this._isValidTile(re)){var we=this._tiles[this._tileCoordsToKey(re)];we?we.current=!0:v.push(re)}}if(v.sort(function(ue,Gn){return ue.distanceTo(m)-Gn.distanceTo(m)}),v.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Fi=document.createDocumentFragment();for(rt=0;rt<v.length;rt++)this._addTile(v[rt],Fi);this._level.el.appendChild(Fi)}}}},_isValidTile:function(t){var i=this._map.options.crs;if(!i.infinite){var s=this._globalTileRange;if(!i.wrapLng&&(t.x<s.min.x||t.x>s.max.x)||!i.wrapLat&&(t.y<s.min.y||t.y>s.max.y))return!1}if(!this.options.bounds)return!0;var l=this._tileCoordsToBounds(t);return V(this.options.bounds).overlaps(l)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var i=this._map,s=this.getTileSize(),l=t.scaleBy(s),f=l.add(s),m=i.unproject(l,t.z),v=i.unproject(f,t.z);return[m,v]},_tileCoordsToBounds:function(t){var i=this._tileCoordsToNwSe(t),s=new dt(i[0],i[1]);return this.options.noWrap||(s=this._map.wrapLatLngBounds(s)),s},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var i=t.split(":"),s=new G(+i[0],+i[1]);return s.z=+i[2],s},_removeTile:function(t){var i=this._tiles[t];!i||(yt(i.el),delete this._tiles[t],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){K(t,"leaflet-tile");var i=this.getTileSize();t.style.width=i.x+"px",t.style.height=i.y+"px",t.onselectstart=g,t.onmousemove=g,U.ielt9&&this.options.opacity<1&&$t(t,this.options.opacity)},_addTile:function(t,i){var s=this._getTilePos(t),l=this._tileCoordsToKey(t),f=this.createTile(this._wrapCoords(t),h(this._tileReady,this,t));this._initTile(f),this.createTile.length<2&&st(h(this._tileReady,this,t,null,f)),Ct(f,s),this._tiles[l]={el:f,coords:t,current:!0},i.appendChild(f),this.fire("tileloadstart",{tile:f,coords:t})},_tileReady:function(t,i,s){i&&this.fire("tileerror",{error:i,tile:s,coords:t});var l=this._tileCoordsToKey(t);s=this._tiles[l],s&&(s.loaded=+new Date,this._map._fadeAnimated?($t(s.el,0),wt(this._fadeFrame),this._fadeFrame=st(this._updateOpacity,this)):(s.active=!0,this._pruneTiles()),i||(K(s.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:s.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),U.ielt9||!this._map._fadeAnimated?st(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var i=new G(this._wrapX?_(t.x,this._wrapX):t.x,this._wrapY?_(t.y,this._wrapY):t.y);return i.z=t.z,i},_pxBoundsToTileRange:function(t){var i=this.getTileSize();return new Z(t.min.unscaleBy(i).floor(),t.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Nl(t){return new oi(t)}var De=oi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,i){this._url=t,i=A(this,i),i.detectRetina&&U.retina&&i.maxZoom>0&&(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom++):(i.zoomOffset++,i.maxZoom--),i.minZoom=Math.max(0,i.minZoom)),typeof i.subdomains=="string"&&(i.subdomains=i.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,i){return this._url===t&&i===void 0&&(i=!0),this._url=t,i||this.redraw(),this},createTile:function(t,i){var s=document.createElement("img");return Y(s,"load",h(this._tileOnLoad,this,i,s)),Y(s,"error",h(this._tileOnError,this,i,s)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(s.referrerPolicy=this.options.referrerPolicy),s.alt="",s.setAttribute("role","presentation"),s.src=this.getTileUrl(t),s},getTileUrl:function(t){var i={r:U.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var s=this._globalTileRange.max.y-t.y;this.options.tms&&(i.y=s),i["-y"]=s}return M(this._url,a(i,this.options))},_tileOnLoad:function(t,i){U.ielt9?setTimeout(h(t,this,null,i),0):t(null,i)},_tileOnError:function(t,i,s){var l=this.options.errorTileUrl;l&&i.getAttribute("src")!==l&&(i.src=l),t(s,i)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,i=this.options.maxZoom,s=this.options.zoomReverse,l=this.options.zoomOffset;return s&&(t=i-t),t+l},_getSubdomain:function(t){var i=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var t,i;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(i=this._tiles[t].el,i.onload=g,i.onerror=g,!i.complete)){i.src=N;var s=this._tiles[t].coords;yt(i),delete this._tiles[t],this.fire("tileabort",{tile:i,coords:s})}},_removeTile:function(t){var i=this._tiles[t];if(!!i)return i.el.setAttribute("src",N),oi.prototype._removeTile.call(this,t)},_tileReady:function(t,i,s){if(!(!this._map||s&&s.getAttribute("src")===N))return oi.prototype._tileReady.call(this,t,i,s)}});function Lo(t,i){return new De(t,i)}var To=De.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var s=a({},this.defaultWmsParams);for(var l in i)l in this.options||(s[l]=i[l]);i=A(this,i);var f=i.detectRetina&&U.retina?2:1,m=this.getTileSize();s.width=m.x*f,s.height=m.y*f,this.wmsParams=s},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,De.prototype.onAdd.call(this,t)},getTileUrl:function(t){var i=this._tileCoordsToNwSe(t),s=this._crs,l=mt(s.project(i[0]),s.project(i[1])),f=l.min,m=l.max,v=(this._wmsVersion>=1.3&&this._crs===go?[f.y,f.x,m.y,m.x]:[f.x,f.y,m.x,m.y]).join(","),P=De.prototype.getTileUrl.call(this,t);return P+E(this.wmsParams,P,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+v},setParams:function(t,i){return a(this.wmsParams,t),i||this.redraw(),this}});function Dl(t,i){return new To(t,i)}De.WMS=To,Lo.wms=Dl;var ne=jt.extend({options:{padding:.1},initialize:function(t){A(this,t),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&K(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,i){var s=this._map.getZoomScale(i,this._zoom),l=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,i),m=l.multiplyBy(-s).add(f).subtract(this._map._getNewPixelOrigin(t,i));U.any3d?_e(this._container,m,s):Ct(this._container,m)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,i=this._map.getSize(),s=this._map.containerPointToLayerPoint(i.multiplyBy(-t)).round();this._bounds=new Z(s,s.add(i.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ko=ne.extend({options:{tolerance:0},getEvents:function(){var t=ne.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ne.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Y(t,"mousemove",this._onMouseMove,this),Y(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Y(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){wt(this._redrawRequest),delete this._ctx,yt(this._container),pt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var i in this._layers)t=this._layers[i],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ne.prototype._update.call(this);var t=this._bounds,i=this._container,s=t.getSize(),l=U.retina?2:1;Ct(i,t.min),i.width=l*s.x,i.height=l*s.y,i.style.width=s.x+"px",i.style.height=s.y+"px",U.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ne.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[c(t)]=t;var i=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var i=t._order,s=i.next,l=i.prev;s?s.prev=l:this._drawLast=l,l?l.next=s:this._drawFirst=s,delete t._order,delete this._layers[c(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var i=t.options.dashArray.split(/[, ]+/),s=[],l,f;for(f=0;f<i.length;f++){if(l=Number(i[f]),isNaN(l))return;s.push(l)}t.options._dashArray=s}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){!this._map||(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||st(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var i=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Z,this._redrawBounds.extend(t._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(t._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var i=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,i=this._redrawBounds;if(this._ctx.save(),i){var s=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,s.x,s.y),this._ctx.clip()}this._drawing=!0;for(var l=this._drawFirst;l;l=l.next)t=l.layer,(!i||t._pxBounds&&t._pxBounds.intersects(i))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,i){if(!!this._drawing){var s,l,f,m,v=t._parts,P=v.length,S=this._ctx;if(!!P){for(S.beginPath(),s=0;s<P;s++){for(l=0,f=v[s].length;l<f;l++)m=v[s][l],S[l?"lineTo":"moveTo"](m.x,m.y);i&&S.closePath()}this._fillStroke(S,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var i=t._point,s=this._ctx,l=Math.max(Math.round(t._radius),1),f=(Math.max(Math.round(t._radiusY),1)||l)/l;f!==1&&(s.save(),s.scale(1,f)),s.beginPath(),s.arc(i.x,i.y/f,l,0,Math.PI*2,!1),f!==1&&s.restore(),this._fillStroke(s,t)}},_fillStroke:function(t,i){var s=i.options;s.fill&&(t.globalAlpha=s.fillOpacity,t.fillStyle=s.fillColor||s.color,t.fill(s.fillRule||"evenodd")),s.stroke&&s.weight!==0&&(t.setLineDash&&t.setLineDash(i.options&&i.options._dashArray||[]),t.globalAlpha=s.opacity,t.lineWidth=s.weight,t.strokeStyle=s.color,t.lineCap=s.lineCap,t.lineJoin=s.lineJoin,t.stroke())},_onClick:function(t){for(var i=this._map.mouseEventToLayerPoint(t),s,l,f=this._drawFirst;f;f=f.next)s=f.layer,s.options.interactive&&s._containsPoint(i)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(s))&&(l=s);this._fireEvent(l?[l]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var i=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,i)}},_handleMouseOut:function(t){var i=this._hoveredLayer;i&&(Lt(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,i){if(!this._mouseHoverThrottled){for(var s,l,f=this._drawFirst;f;f=f.next)s=f.layer,s.options.interactive&&s._containsPoint(i)&&(l=s);l!==this._hoveredLayer&&(this._handleMouseOut(t),l&&(K(this._container,"leaflet-interactive"),this._fireEvent([l],t,"mouseover"),this._hoveredLayer=l)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,i,s){this._map._fireDOMEvent(i,s||i.type,t)},_bringToFront:function(t){var i=t._order;if(!!i){var s=i.next,l=i.prev;if(s)s.prev=l;else return;l?l.next=s:s&&(this._drawFirst=s),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(t)}},_bringToBack:function(t){var i=t._order;if(!!i){var s=i.next,l=i.prev;if(l)l.next=s;else return;s?s.prev=l:l&&(this._drawLast=l),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(t)}}});function So(t){return U.canvas?new ko(t):null}var si=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Il={_initContainer:function(){this._container=lt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ne.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var i=t._container=si("shape");K(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",t._path=si("path"),i.appendChild(t._path),this._updateStyle(t),this._layers[c(t)]=t},_addPath:function(t){var i=t._container;this._container.appendChild(i),t.options.interactive&&t.addInteractiveTarget(i)},_removePath:function(t){var i=t._container;yt(i),t.removeInteractiveTarget(i),delete this._layers[c(t)]},_updateStyle:function(t){var i=t._stroke,s=t._fill,l=t.options,f=t._container;f.stroked=!!l.stroke,f.filled=!!l.fill,l.stroke?(i||(i=t._stroke=si("stroke")),f.appendChild(i),i.weight=l.weight+"px",i.color=l.color,i.opacity=l.opacity,l.dashArray?i.dashStyle=z(l.dashArray)?l.dashArray.join(" "):l.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=l.lineCap.replace("butt","flat"),i.joinstyle=l.lineJoin):i&&(f.removeChild(i),t._stroke=null),l.fill?(s||(s=t._fill=si("fill")),f.appendChild(s),s.color=l.fillColor||l.color,s.opacity=l.fillOpacity):s&&(f.removeChild(s),t._fill=null)},_updateCircle:function(t){var i=t._point.round(),s=Math.round(t._radius),l=Math.round(t._radiusY||s);this._setPath(t,t._empty()?"M0 0":"AL "+i.x+","+i.y+" "+s+","+l+" 0,"+65535*360)},_setPath:function(t,i){t._path.v=i},_bringToFront:function(t){Ce(t._container)},_bringToBack:function(t){Ae(t._container)}},Hi=U.vml?si:zr,ai=ne.extend({_initContainer:function(){this._container=Hi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Hi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){yt(this._container),pt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ne.prototype._update.call(this);var t=this._bounds,i=t.getSize(),s=this._container;(!this._svgSize||!this._svgSize.equals(i))&&(this._svgSize=i,s.setAttribute("width",i.x),s.setAttribute("height",i.y)),Ct(s,t.min),s.setAttribute("viewBox",[t.min.x,t.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(t){var i=t._path=Hi("path");t.options.className&&K(i,t.options.className),t.options.interactive&&K(i,"leaflet-interactive"),this._updateStyle(t),this._layers[c(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){yt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[c(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var i=t._path,s=t.options;!i||(s.stroke?(i.setAttribute("stroke",s.color),i.setAttribute("stroke-opacity",s.opacity),i.setAttribute("stroke-width",s.weight),i.setAttribute("stroke-linecap",s.lineCap),i.setAttribute("stroke-linejoin",s.lineJoin),s.dashArray?i.setAttribute("stroke-dasharray",s.dashArray):i.removeAttribute("stroke-dasharray"),s.dashOffset?i.setAttribute("stroke-dashoffset",s.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),s.fill?(i.setAttribute("fill",s.fillColor||s.color),i.setAttribute("fill-opacity",s.fillOpacity),i.setAttribute("fill-rule",s.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(t,i){this._setPath(t,Nr(t._parts,i))},_updateCircle:function(t){var i=t._point,s=Math.max(Math.round(t._radius),1),l=Math.max(Math.round(t._radiusY),1)||s,f="a"+s+","+l+" 0 1,0 ",m=t._empty()?"M0 0":"M"+(i.x-s)+","+i.y+f+s*2+",0 "+f+-s*2+",0 ";this._setPath(t,m)},_setPath:function(t,i){t._path.setAttribute("d",i)},_bringToFront:function(t){Ce(t._path)},_bringToBack:function(t){Ae(t._path)}});U.vml&&ai.include(Il);function Co(t){return U.svg||U.vml?new ai(t):null}nt.include({getRenderer:function(t){var i=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var i=this._paneRenderers[t];return i===void 0&&(i=this._createRenderer({pane:t}),this._paneRenderers[t]=i),i},_createRenderer:function(t){return this.options.preferCanvas&&So(t)||Co(t)}});var Ao=ze.extend({initialize:function(t,i){ze.prototype.initialize.call(this,this._boundsToLatLngs(t),i)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=V(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Bl(t,i){return new Ao(t,i)}ai.create=Hi,ai.pointsToPath=Nr,ie.geometryToLayer=Fn,ie.coordsToLatLng=Un,ie.coordsToLatLngs=Di,ie.latLngToCoords=jn,ie.latLngsToCoords=Ii,ie.getFeature=Ne,ie.asFeature=Bi,nt.mergeOptions({boxZoom:!0});var Eo=Vt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Y(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){pt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){yt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Je(),kn(),this._startPoint=this._map.mouseEventToContainerPoint(t),Y(document,{contextmenu:ye,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=lt("div","leaflet-zoom-box",this._container),K(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var i=new Z(this._point,this._startPoint),s=i.getSize();Ct(this._box,i.min),this._box.style.width=s.x+"px",this._box.style.height=s.y+"px"},_finish:function(){this._moved&&(yt(this._box),Lt(this._container,"leaflet-crosshair")),Qe(),Sn(),pt(document,{contextmenu:ye,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var i=new dt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nt.addInitHook("addHandler","boxZoom",Eo),nt.mergeOptions({doubleClickZoom:!0});var Oo=Vt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var i=this._map,s=i.getZoom(),l=i.options.zoomDelta,f=t.originalEvent.shiftKey?s-l:s+l;i.options.doubleClickZoom==="center"?i.setZoom(f):i.setZoomAround(t.containerPoint,f)}});nt.addInitHook("addHandler","doubleClickZoom",Oo),nt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Mo=Vt.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ae(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}K(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Lt(this._map._container,"leaflet-grab"),Lt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=V(this._map.options.maxBounds);this._offsetLimit=mt(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var i=this._lastTime=+new Date,s=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(s),this._times.push(i),this._prunePositions(i)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,i){return t-(t-i)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;t.x<i.min.x&&(t.x=this._viscousLimit(t.x,i.min.x)),t.y<i.min.y&&(t.y=this._viscousLimit(t.y,i.min.y)),t.x>i.max.x&&(t.x=this._viscousLimit(t.x,i.max.x)),t.y>i.max.y&&(t.y=this._viscousLimit(t.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,i=Math.round(t/2),s=this._initialWorldOffset,l=this._draggable._newPos.x,f=(l-i+s)%t+i-s,m=(l+i+s)%t-i-s,v=Math.abs(f+s)<Math.abs(m+s)?f:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=v},_onDragEnd:function(t){var i=this._map,s=i.options,l=!s.inertia||t.noInertia||this._times.length<2;if(i.fire("dragend",t),l)i.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,v=s.easeLinearity,P=f.multiplyBy(v/m),S=P.distanceTo([0,0]),O=Math.min(s.inertiaMaxSpeed,S),F=P.multiplyBy(O/S),Q=O/(s.inertiaDeceleration*v),rt=F.multiplyBy(-Q/2).round();!rt.x&&!rt.y?i.fire("moveend"):(rt=i._limitOffset(rt,i.options.maxBounds),st(function(){i.panBy(rt,{duration:Q,easeLinearity:v,noMoveStart:!0,animate:!0})}))}}});nt.addInitHook("addHandler","dragging",Mo),nt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var zo=Vt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Y(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),pt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,i=document.documentElement,s=t.scrollTop||i.scrollTop,l=t.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(l,s)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var i=this._panKeys={},s=this.keyCodes,l,f;for(l=0,f=s.left.length;l<f;l++)i[s.left[l]]=[-1*t,0];for(l=0,f=s.right.length;l<f;l++)i[s.right[l]]=[t,0];for(l=0,f=s.down.length;l<f;l++)i[s.down[l]]=[0,t];for(l=0,f=s.up.length;l<f;l++)i[s.up[l]]=[0,-1*t]},_setZoomDelta:function(t){var i=this._zoomKeys={},s=this.keyCodes,l,f;for(l=0,f=s.zoomIn.length;l<f;l++)i[s.zoomIn[l]]=t;for(l=0,f=s.zoomOut.length;l<f;l++)i[s.zoomOut[l]]=-t},_addHooks:function(){Y(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){pt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var i=t.keyCode,s=this._map,l;if(i in this._panKeys)(!s._panAnim||!s._panAnim._inProgress)&&(l=this._panKeys[i],t.shiftKey&&(l=X(l).multiplyBy(3)),s.panBy(l),s.options.maxBounds&&s.panInsideBounds(s.options.maxBounds));else if(i in this._zoomKeys)s.setZoom(s.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27&&s._popup&&s._popup.options.closeOnEscapeKey)s.closePopup();else return;ye(t)}}});nt.addInitHook("addHandler","keyboard",zo),nt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var No=Vt.extend({addHooks:function(){Y(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){pt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var i=oo(t),s=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var l=Math.max(s-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),l),ye(t)},_performZoom:function(){var t=this._map,i=t.getZoom(),s=this._map.options.zoomSnap||0;t._stop();var l=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(l))))/Math.LN2,m=s?Math.ceil(f/s)*s:f,v=t._limitZoom(i+(this._delta>0?m:-m))-i;this._delta=0,this._startTime=null,v&&(t.options.scrollWheelZoom==="center"?t.setZoom(i+v):t.setZoomAround(this._lastMousePos,i+v))}});nt.addInitHook("addHandler","scrollWheelZoom",No);var Rl=600;nt.mergeOptions({tapHold:U.touchNative&&U.safari&&U.mobile,tapTolerance:15});var Do=Vt.extend({addHooks:function(){Y(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){pt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var i=t.touches[0];this._startPos=this._newPos=new G(i.clientX,i.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(Y(document,"touchend",Dt),Y(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",i))},this),Rl),Y(document,"touchend touchcancel contextmenu",this._cancel,this),Y(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){pt(document,"touchend",Dt),pt(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),pt(document,"touchend touchcancel contextmenu",this._cancel,this),pt(document,"touchmove",this._onMove,this)},_onMove:function(t){var i=t.touches[0];this._newPos=new G(i.clientX,i.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,i){var s=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY});s._simulated=!0,i.target.dispatchEvent(s)}});nt.addInitHook("addHandler","tapHold",Do),nt.mergeOptions({touchZoom:U.touch,bounceAtZoomLimits:!0});var Io=Vt.extend({addHooks:function(){K(this._map._container,"leaflet-touch-zoom"),Y(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Lt(this._map._container,"leaflet-touch-zoom"),pt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(!(!t.touches||t.touches.length!==2||i._animatingZoom||this._zooming)){var s=i.mouseEventToContainerPoint(t.touches[0]),l=i.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(s.add(l)._divideBy(2))),this._startDist=s.distanceTo(l),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),Y(document,"touchmove",this._onTouchMove,this),Y(document,"touchend touchcancel",this._onTouchEnd,this),Dt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var i=this._map,s=i.mouseEventToContainerPoint(t.touches[0]),l=i.mouseEventToContainerPoint(t.touches[1]),f=s.distanceTo(l)/this._startDist;if(this._zoom=i.getScaleZoom(f,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&f<1||this._zoom>i.getMaxZoom()&&f>1)&&(this._zoom=i._limitZoom(this._zoom)),i.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var m=s._add(l)._divideBy(2)._subtract(this._centerPoint);if(f===1&&m.x===0&&m.y===0)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),wt(this._animRequest);var v=h(i._move,i,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=st(v,this,!0),Dt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,wt(this._animRequest),pt(document,"touchmove",this._onTouchMove,this),pt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});nt.addInitHook("addHandler","touchZoom",Io),nt.BoxZoom=Eo,nt.DoubleClickZoom=Oo,nt.Drag=Mo,nt.Keyboard=zo,nt.ScrollWheelZoom=No,nt.TapHold=Do,nt.TouchZoom=Io,n.Bounds=Z,n.Browser=U,n.CRS=Qt,n.Canvas=ko,n.Circle=Hn,n.CircleMarker=Ni,n.Class=q,n.Control=Ut,n.DivIcon=Po,n.DivOverlay=Yt,n.DomEvent=il,n.DomUtil=tl,n.Draggable=ae,n.Evented=St,n.FeatureGroup=Oe,n.GeoJSON=ie,n.GridLayer=oi,n.Handler=Vt,n.Icon=Me,n.ImageOverlay=Ri,n.LatLng=ot,n.LatLngBounds=dt,n.Layer=jt,n.LayerGroup=Ee,n.LineUtil=pl,n.Map=nt,n.Marker=zi,n.Mixin=ul,n.Path=le,n.Point=G,n.PolyUtil=ml,n.Polygon=ze,n.Polyline=ee,n.Popup=Zi,n.PosAnimation=so,n.Projection=_l,n.Rectangle=Ao,n.Renderer=ne,n.SVG=ai,n.SVGOverlay=xo,n.TileLayer=De,n.Tooltip=$i,n.Transformation=pn,n.Util=at,n.VideoOverlay=wo,n.bind=h,n.bounds=mt,n.canvas=So,n.circle=Ll,n.circleMarker=Pl,n.control=ii,n.divIcon=zl,n.extend=a,n.featureGroup=bl,n.geoJSON=bo,n.geoJson=Sl,n.gridLayer=Nl,n.icon=wl,n.imageOverlay=Cl,n.latLng=vt,n.latLngBounds=V,n.layerGroup=yl,n.map=nl,n.marker=xl,n.point=X,n.polygon=kl,n.polyline=Tl,n.popup=Ol,n.rectangle=Bl,n.setOptions=A,n.stamp=c,n.svg=Co,n.svgOverlay=El,n.tileLayer=Lo,n.tooltip=Ml,n.transformation=Ve,n.version=o,n.videoOverlay=Al;var Zl=window.L;n.noConflict=function(){return window.L=Zl,this},window.L=n})})(_t,_t.exports);class la{constructor(e,n,o=""){Xt(this,"imap",{});Xt(this,"control",{});Xt(this,"overlays",{});Xt(this,"baseLayers",{Terrain:_t.exports.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}),Satellite:_t.exports.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"})});let a=this.baseLayers.Terrain;o&&(a=this.baseLayers[o]),this.imap=_t.exports.map(e,{center:[n.location.lat,n.location.lng],zoom:n.zoom,minZoom:n.minZoom,zoomControl:!1,layers:[a]})}addLayer(e,n){this.overlays[e]=n,this.imap.addLayer(n)}addLayerGroup(e){this.overlays[e]=_t.exports.layerGroup([]),this.imap.addLayer(this.overlays[e])}showLayerControl(){this.control=_t.exports.control.layers(this.baseLayers,this.overlays).addTo(this.imap)}showZoomControl(e="bottomright"){_t.exports.control.zoom({position:e}).addTo(this.imap)}moveTo(e,n){this.imap.setZoom(e),this.imap.panTo(new _t.exports.LatLng(n.lat,n.lng))}zoomTo(e,n){this.imap.setView(new _t.exports.LatLng(e.lat,e.lng),n)}addMarker(e,n="",o="default"){let a={},u=_t.exports.marker([e.lat,e.lng]);if(n){var h=_t.exports.popup({maxWidth:500,minWidth:500,maxHeight:350,closeButton:!1});h.setContent(n),h.update(),u.bindPopup(h)}this.overlays[o]?a=this.overlays[o]:(a=_t.exports.layerGroup([]),this.overlays[o]=a,this.imap.addLayer(a)),u.addTo(a)}invalidateSize(){this.imap.invalidateSize(),this.imap._onResize()}}function lc(r){let e;return{c(){e=k("div"),x(e,"class","box"),x(e,"id","donation-map"),an(e,"height","700px")},m(n,o){H(n,e,o)},p:j,i:j,o:j,d(n){n&&$(e)}}}function uc(r,e,n){const o=mr(),a=Kt("DonationService"),u={location:{lat:48.70956025245414,lng:2.1667407013069417},zoom:8,minZoom:1};let h=null;pe(async()=>{h=new la("donation-map",u),h.showZoomControl(),h.addLayerGroup("Engineering School"),h.addLayerGroup("Faculty"),h.showLayerControl(),(await a.getDonations()).forEach(p=>{d(p)}),h.imap.on("popupopen",function(p){o("zoom",{location:p.popup._latlng})})});function d(c){const p=c.image.replaceAll(" h","><img src=h"),_=`<br><h1><b>${c.candidate.firstName} | ${c.candidate.lastName} | Students: ${c.amount.toString()} </b></h1>Added by ${c.donor.firstName} ${c.donor.lastName} ${c.donor._id}<br><img src=${p}><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>`;h.addMarker({lat:c.lat,lng:c.lng},_,c.method),h.zoomTo({lat:c.lat,lng:c.lng},10)}return[d]}class ua extends Pt{constructor(e){super(),xt(this,e,uc,lc,bt,{addDonationMarker:0})}get addDonationMarker(){return this.$$.ctx[0]}}function ms(r,e,n){const o=r.slice();return o[2]=e[n],o}function _s(r){let e,n,o=r[2].candidate.lastName+"",a,u,h=r[2].candidate.firstName+"",d,c,p,_=r[2].amount+"",g,y,w,T=r[2].method+"",A,E,C,M=r[2].donor._id+"",z,D;return{c(){e=k("tr"),n=k("td"),a=gt(o),u=gt(", "),d=gt(h),c=I(),p=k("td"),g=gt(_),y=I(),w=k("td"),A=gt(T),E=I(),C=k("td"),z=gt(M),D=I()},m(N,B){H(N,e,B),b(e,n),b(n,a),b(n,u),b(n,d),b(e,c),b(e,p),b(p,g),b(e,y),b(e,w),b(w,A),b(e,E),b(e,C),b(C,z),b(e,D)},p(N,B){B&1&&o!==(o=N[2].candidate.lastName+"")&&zt(a,o),B&1&&h!==(h=N[2].candidate.firstName+"")&&zt(d,h),B&1&&_!==(_=N[2].amount+"")&&zt(g,_),B&1&&T!==(T=N[2].method+"")&&zt(A,T),B&1&&M!==(M=N[2].donor._id+"")&&zt(z,M)},d(N){N&&$(e)}}}function hc(r){let e,n,o,a,u=r[0],h=[];for(let d=0;d<u.length;d+=1)h[d]=_s(ms(r,u,d));return{c(){e=k("table"),n=k("thead"),n.innerHTML=`<th>School</th> 
    <th>Number Of Students</th> 
    <th>Type</th> 
    <th>User</th>`,o=I(),a=k("tbody");for(let d=0;d<h.length;d+=1)h[d].c();x(e,"class","table is-fullwidth")},m(d,c){H(d,e,c),b(e,n),b(e,o),b(e,a);for(let p=0;p<h.length;p+=1)h[p].m(a,null)},p(d,[c]){if(c&1){u=d[0];let p;for(p=0;p<u.length;p+=1){const _=ms(d,u,p);h[p]?h[p].p(_,c):(h[p]=_s(_),h[p].c(),h[p].m(a,null))}for(;p<h.length;p+=1)h[p].d(1);h.length=u.length}},i:j,o:j,d(d){d&&$(e),tn(h,d)}}}function cc(r,e,n){const o=Kt("DonationService");let a=[];return pe(async()=>{n(0,a=await o.getDonations())}),[a]}class fc extends Pt{constructor(e){super(),xt(this,e,cc,hc,bt,{})}}function dc(r){let e,n,o,a,u,h,d,c,p,_,g,y,w,T,A,E,C,M,z,D,N;o=new ke({props:{subTitle:"Please add a Location",title:"Schools of University of Paris-Saclay"}}),h=new fn({});let B={};return _=new ua({props:B}),r[2](_),A=new ac({}),A.$on("message",r[1]),D=new fc({}),{c(){e=k("div"),n=k("div"),ct(o.$$.fragment),a=I(),u=k("div"),ct(h.$$.fragment),d=I(),c=k("div"),p=k("div"),ct(_.$$.fragment),g=I(),y=k("div"),w=k("h1"),w.textContent="Here you can add the missing Schools of University of Paris-Saclay",T=I(),ct(A.$$.fragment),E=I(),C=k("div"),M=k("h1"),M.textContent="Schools added so far:",z=I(),ct(D.$$.fragment),x(n,"class","column is-two-thirds"),x(u,"class","column"),x(e,"class","columns is-vcentered"),x(p,"class","column has-text-centered"),x(w,"class","title is-4"),x(y,"class","column box has-text-centered"),x(M,"class","title is-4"),x(C,"class","column has-text-centered"),x(c,"class","columns is-vcentered")},m(W,J){H(W,e,J),b(e,n),ut(o,n,null),b(e,a),b(e,u),ut(h,u,null),H(W,d,J),H(W,c,J),b(c,p),ut(_,p,null),b(c,g),b(c,y),b(y,w),b(y,T),ut(A,y,null),b(c,E),b(c,C),b(C,M),b(C,z),ut(D,C,null),N=!0},p(W,[J]){const R={};_.$set(R)},i(W){N||(tt(o.$$.fragment,W),tt(h.$$.fragment,W),tt(_.$$.fragment,W),tt(A.$$.fragment,W),tt(D.$$.fragment,W),N=!0)},o(W){it(o.$$.fragment,W),it(h.$$.fragment,W),it(_.$$.fragment,W),it(A.$$.fragment,W),it(D.$$.fragment,W),N=!1},d(W){W&&$(e),ht(o),ht(h),W&&$(d),W&&$(c),r[2](null),ht(_),ht(A),ht(D)}}}function pc(r,e,n){let o=null;function a(h){o.addDonationMarker(h.detail.donation)}function u(h){ce[h?"unshift":"push"](()=>{o=h,n(0,o)})}return[o,a,u]}class mc extends Pt{constructor(e){super(),xt(this,e,pc,dc,bt,{})}}function _c(r){let e;return{c(){e=k("div"),x(e,"class","box"),x(e,"id","third-donation-map"),an(e,"height","336px")},m(n,o){H(n,e,o)},p:j,i:j,o:j,d(n){n&&$(e)}}}function gc(r,e,n){const o=Kt("DonationService"),a={location:{lat:48.70956025245414,lng:2.1667407013069417},zoom:7,minZoom:1};let u=null;pe(async()=>{u=new la("third-donation-map",a),u.showZoomControl(),u.addLayerGroup("Engineering School"),u.addLayerGroup("Faculty"),u.showLayerControl(),(await o.getDonations()).forEach(p=>{h(p)})});function h(c){const p=c.image.replaceAll(" h","><img src=h"),_=`<br><h1><b>${c.candidate.firstName} | ${c.candidate.lastName} | Students: ${c.amount.toString()} </b></h1>Added by ${c.donor.firstName} ${c.donor.lastName} ${c.donor._id}<br><img src=${p}><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>`;u.addMarker({lat:c.lat,lng:c.lng},_,c.method),u.zoomTo({lat:c.lat,lng:c.lng},10)}function d(c,p){u.zoomTo(p,c)}return[h,d]}class vc extends Pt{constructor(e){super(),xt(this,e,gc,_c,bt,{addThirdDonationMarker:0,zoom2:1})}get addThirdDonationMarker(){return this.$$.ctx[0]}get zoom2(){return this.$$.ctx[1]}}class yc{constructor(e,n,o=""){Xt(this,"imap",{});Xt(this,"control",{});Xt(this,"overlays",{});Xt(this,"baseLayers",{Terrain:_t.exports.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}),Satellite:_t.exports.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"})});let a=this.baseLayers.Satellite;o&&(a=this.baseLayers[o]),this.imap=_t.exports.map(e,{center:[n.location.lat,n.location.lng],zoom:n.zoom,minZoom:n.minZoom,zoomControl:!1,layers:[a]})}addLayer(e,n){this.overlays[e]=n,this.imap.addLayer(n)}addLayerGroup(e){this.overlays[e]=_t.exports.layerGroup([]),this.imap.addLayer(this.overlays[e])}showLayerControl(){this.control=_t.exports.control.layers(this.baseLayers,this.overlays).addTo(this.imap)}showZoomControl(e="bottomright"){_t.exports.control.zoom({position:e}).addTo(this.imap)}moveTo(e,n){this.imap.setZoom(e),this.imap.panTo(new _t.exports.LatLng(n.lat,n.lng))}zoomTo(e,n){this.imap.setView(new _t.exports.LatLng(e.lat,e.lng),n)}addMarker(e,n="",o="default"){let a={},u=_t.exports.marker([e.lat,e.lng]);if(n){var h=_t.exports.popup({maxWidth:500,minWidth:500,maxHeight:350,closeButton:!1});h.setContent(n),h.update(),u.bindPopup(h)}this.overlays[o]?a=this.overlays[o]:(a=_t.exports.layerGroup([]),this.overlays[o]=a,this.imap.addLayer(a)),u.addTo(a)}invalidateSize(){this.imap.invalidateSize(),this.imap._onResize()}}function bc(r){let e;return{c(){e=k("div"),x(e,"class","box"),x(e,"id","other-donation-map"),an(e,"height","336px")},m(n,o){H(n,e,o)},p:j,i:j,o:j,d(n){n&&$(e)}}}function wc(r,e,n){const o=Kt("DonationService"),a={location:{lat:48.70956025245414,lng:2.1667407013069417},zoom:7,minZoom:1};let u=null;pe(async()=>{u=new yc("other-donation-map",a),u.showZoomControl(),u.addLayerGroup("Engineering School"),u.addLayerGroup("Faculty"),u.showLayerControl(),(await o.getDonations()).forEach(p=>{h(p)})});function h(c){const p=c.image.replaceAll(" h","><img src=h"),_=`<br><h1><b>${c.candidate.firstName} | ${c.candidate.lastName} | Students: ${c.amount.toString()} </b></h1>Added by ${c.donor.firstName} ${c.donor.lastName} ${c.donor._id}<br><img src=${p}><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>`;u.addMarker({lat:c.lat,lng:c.lng},_,c.method),u.zoomTo({lat:c.lat,lng:c.lng},10)}function d(c,p){u.zoomTo(p,c)}return[h,d]}class xc extends Pt{constructor(e){super(),xt(this,e,wc,bc,bt,{addOtherDonationMarker:0,zoom1:1})}get addOtherDonationMarker(){return this.$$.ctx[0]}get zoom1(){return this.$$.ctx[1]}}function Pc(r){let e,n,o,a,u,h,d,c,p,_,g,y,w,T,A,E;o=new ke({props:{subTitle:"Map - Click on a marker on the left map to trigger zooms on the right maps",title:"Schools of University of Paris-Saclay"}}),h=new fn({}),_=new ua({}),_.$on("zoom",r[2]);let C={};w=new xc({props:C}),r[3](w);let M={};return A=new vc({props:M}),r[4](A),{c(){e=k("div"),n=k("div"),ct(o.$$.fragment),a=I(),u=k("div"),ct(h.$$.fragment),d=I(),c=k("div"),p=k("div"),ct(_.$$.fragment),g=I(),y=k("div"),ct(w.$$.fragment),T=I(),ct(A.$$.fragment),x(n,"class","column is-two-thirds"),x(u,"class","column"),x(e,"class","columns is-vcentered"),x(p,"class","column"),x(y,"class","column"),x(c,"class","columns is-vcentered")},m(z,D){H(z,e,D),b(e,n),ut(o,n,null),b(e,a),b(e,u),ut(h,u,null),H(z,d,D),H(z,c,D),b(c,p),ut(_,p,null),b(c,g),b(c,y),ut(w,y,null),b(y,T),ut(A,y,null),E=!0},p(z,[D]){const N={};w.$set(N);const B={};A.$set(B)},i(z){E||(tt(o.$$.fragment,z),tt(h.$$.fragment,z),tt(_.$$.fragment,z),tt(w.$$.fragment,z),tt(A.$$.fragment,z),E=!0)},o(z){it(o.$$.fragment,z),it(h.$$.fragment,z),it(_.$$.fragment,z),it(w.$$.fragment,z),it(A.$$.fragment,z),E=!1},d(z){z&&$(e),ht(o),ht(h),z&&$(d),z&&$(c),ht(_),r[3](null),ht(w),r[4](null),ht(A)}}}function Lc(r,e,n){let o=null,a=null;function u(c){o.zoom1(15,c.detail.location),a.zoom2(17,c.detail.location)}function h(c){ce[c?"unshift":"push"](()=>{o=c,n(0,o)})}function d(c){ce[c?"unshift":"push"](()=>{a=c,n(1,a)})}return[o,a,u,h,d]}class Tc extends Pt{constructor(e){super(),xt(this,e,Lc,Pc,bt,{})}}function kc(r,e){e===void 0&&(e={});var n=e.insertAt;if(r&&typeof document!="undefined"){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",n==="top"&&o.firstChild?o.insertBefore(a,o.firstChild):o.appendChild(a),a.styleSheet?a.styleSheet.cssText=r:a.appendChild(document.createTextNode(r))}}function he(r,e){return typeof r=="string"?(e||document).querySelector(r):r||null}function gi(r){var e=r.getBoundingClientRect();return{top:e.top+(document.documentElement.scrollTop||document.body.scrollTop),left:e.left+(document.documentElement.scrollLeft||document.body.scrollLeft)}}function Sc(r){return r.offsetParent===null}function Cc(r){var e=r.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function Ac(r){var e=window.getComputedStyle(r),n=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight);return r.clientWidth-n}function Ec(r,e,n){var o=document.createEvent("HTMLEvents");o.initEvent(e,!0,!0);for(var a in n)o[a]=n[a];return r.dispatchEvent(o)}function nn(r){return r.titleHeight+r.margins.top+r.paddings.top}function Ji(r){return r.margins.left+r.paddings.left}function ha(r){return r.margins.top+r.margins.bottom+r.paddings.top+r.paddings.bottom+r.titleHeight+r.legendHeight}function rn(r){return r.margins.left+r.margins.right+r.paddings.left+r.paddings.right}function Oc(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function ca(r){return parseFloat(r.toFixed(2))}function cr(r,e,n){var o=arguments.length>3&&arguments[3]!==void 0&&arguments[3];n||(n=o?r[0]:r[r.length-1]);var a=new Array(Math.abs(e)).fill(n);return r=o?a.concat(r):r.concat(a)}function fa(r,e){return(r+"").length*e}function Ue(r,e){return{x:Math.sin(r*Ts)*e,y:Math.cos(r*Ts)*e}}function Fe(r){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return!Number.isNaN(r)&&r!==void 0&&!!Number.isFinite(r)&&!(e&&r<0)}function Mc(r){return Number(Math.round(r+"e4")+"e-4")}function da(r){var e=void 0,n=void 0,o=void 0;if(r instanceof Date)return new Date(r.getTime());if((r===void 0?"undefined":dd(r))!=="object"||r===null)return r;e=Array.isArray(r)?[]:{};for(o in r)n=r[o],e[o]=da(n);return e}function pa(r,e){var n=void 0,o=void 0;return r<=e?(n=e-r,o=r):(n=r-e,o=e),[n,o]}function Rt(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length-r.length;return n>0?r=cr(r,n):e=cr(e,n),[r,e]}function Sr(r,e){if(r)return r.length>e?r.slice(0,e-3)+"...":r}function zc(r){var e=void 0;if(typeof r=="number")e=r;else if(typeof r=="string"&&(e=Number(r),Number.isNaN(e)))return r;var n=Math.floor(Math.log10(Math.abs(e)));if(n<=2)return e;var o=Math.floor(n/3),a=Math.pow(10,n-3*o)*+(e/Math.pow(10,n)).toFixed(1);return Math.round(100*a)/100+" "+["","K","M","B","T"][o]}function ma(r,e){for(var n=[],o=0;o<r.length;o++)n.push([r[o],e[o]]);var a=function(h,d){var c=d[0]-h[0],p=d[1]-h[1];return{length:Math.sqrt(Math.pow(c,2)+Math.pow(p,2)),angle:Math.atan2(p,c)}},u=function(h,d,c,p){var _=a(d||h,c||h),g=_.angle+(p?Math.PI:0),y=.2*_.length;return[h[0]+Math.cos(g)*y,h[1]+Math.sin(g)*y]};return function(h,d){return h.reduce(function(c,p,_,g){return _===0?p[0]+","+p[1]:c+" "+d(p,_,g)},"")}(n,function(h,d,c){var p=u(c[d-1],c[d-2],h),_=u(h,c[d-1],c[d+1],!0);return"C "+p[0]+","+p[1]+" "+_[0]+","+_[1]+" "+h[0]+","+h[1]})}function tr(r){return r>255?255:r<0?0:r}function Cr(r,e){var n=Pa(r),o=!1;n[0]=="#"&&(n=n.slice(1),o=!0);var a=parseInt(n,16),u=tr((a>>16)+e),h=tr((a>>8&255)+e),d=tr((255&a)+e);return(o?"#":"")+(d|h<<8|u<<16).toString(16)}function Nc(r){var e=/(^\s*)(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/i;return/(^\s*)(#)((?:[A-Fa-f0-9]{3}){1,2})$/i.test(r)||e.test(r)}function gs(r,e){return typeof r=="string"?(e||document).querySelector(r):r||null}function ft(r,e){var n=document.createElementNS("http://www.w3.org/2000/svg",r);for(var o in e){var a=e[o];if(o==="inside")gs(a).appendChild(n);else if(o==="around"){var u=gs(a);u.parentNode.insertBefore(n,u),n.appendChild(u)}else o==="styles"?(a===void 0?"undefined":_d(a))==="object"&&Object.keys(a).map(function(h){n.style[h]=a[h]}):(o==="className"&&(o="class"),o==="innerHTML"?n.textContent=a:n.setAttribute(o,a))}return n}function Dc(r,e){return ft("linearGradient",{inside:r,id:e,x1:0,x2:0,y1:0,y2:1})}function er(r,e,n,o){return ft("stop",{inside:r,style:"stop-color: "+n,offset:e,"stop-opacity":o})}function Ic(r,e,n,o){return ft("svg",{className:e,inside:r,width:n,height:o})}function Bc(r){return ft("defs",{inside:r})}function fr(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,o={className:r,transform:e};return n&&(o.inside=n),ft("g",o)}function on(r){return ft("path",{className:arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",d:r,styles:{stroke:arguments.length>2&&arguments[2]!==void 0?arguments[2]:"none",fill:arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none","stroke-width":arguments.length>4&&arguments[4]!==void 0?arguments[4]:2}})}function Rc(r,e,n,o){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,h=n.x+r.x,d=n.y+r.y,c=n.x+e.x,p=n.y+e.y;return"M"+n.x+" "+n.y+`
		L`+h+" "+d+`
		A `+o+" "+o+" 0 "+u+" "+(a?1:0)+`
		`+c+" "+p+" z"}function Zc(r,e,n,o){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,h=n.x+r.x,d=n.y+r.y,c=n.x+e.x,p=2*n.y,_=n.y+e.y;return"M"+n.x+" "+n.y+`
		L`+h+" "+d+`
		A `+o+" "+o+" 0 "+u+" "+(a?1:0)+`
		`+c+" "+p+` z
		L`+h+" "+p+`
		A `+o+" "+o+" 0 "+u+" "+(a?1:0)+`
		`+c+" "+_+" z"}function $c(r,e,n,o){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,h=n.x+r.x,d=n.y+r.y,c=n.x+e.x,p=n.y+e.y;return"M"+h+" "+d+`
		A `+o+" "+o+" 0 "+u+" "+(a?1:0)+`
		`+c+" "+p}function Hc(r,e,n,o){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,h=n.x+r.x,d=n.y+r.y,c=n.x+e.x,p=2*o+d,_=n.y+r.y;return"M"+h+" "+d+`
		A `+o+" "+o+" 0 "+u+" "+(a?1:0)+`
		`+c+" "+p+`
		M`+h+" "+p+`
		A `+o+" "+o+" 0 "+u+" "+(a?1:0)+`
		`+c+" "+_}function vs(r,e){var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],o="path-fill-gradient-"+e+"-"+(n?"lighter":"default"),a=Dc(r,o),u=[1,.6,.2];return n&&(u=[.4,.2,0]),er(a,"0%",e,u[0]),er(a,"50%",e,u[1]),er(a,"100%",e,u[2]),o}function Fc(r,e,n,o){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:wa,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"none";return ft("rect",{className:"percentage-bar",x:r,y:e,width:n,height:o,fill:u,styles:{stroke:Cr(u,-25),"stroke-dasharray":"0, "+(o+n)+", "+n+", "+o,"stroke-width":a}})}function _a(r,e,n,o,a){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"none",h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},d={className:r,x:e,y:n,width:o,height:o,rx:a,fill:u};return Object.keys(h).map(function(c){d[c]=h[c]}),ft("rect",d)}function Uc(r,e,n){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none",a=arguments[4];a=arguments.length>5&&arguments[5]!==void 0&&arguments[5]?Sr(a,La):a;var u={className:"legend-bar",x:0,y:0,width:n,height:"2px",fill:o},h=ft("text",{className:"legend-dataset-text",x:0,y:0,dy:2*Ot+"px","font-size":1.2*Ot+"px","text-anchor":"start",fill:Ar,innerHTML:a}),d=ft("g",{transform:"translate("+r+", "+e+")"});return d.appendChild(ft("rect",u)),d.appendChild(h),d}function jc(r,e,n){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none",a=arguments[4];a=arguments.length>5&&arguments[5]!==void 0&&arguments[5]?Sr(a,La):a;var u={className:"legend-dot",cx:0,cy:0,r:n,fill:o},h=ft("text",{className:"legend-dataset-text",x:0,y:0,dx:Ot+"px",dy:Ot/3+"px","font-size":1.2*Ot+"px","text-anchor":"start",fill:Ar,innerHTML:a}),d=ft("g",{transform:"translate("+r+", "+e+")"});return d.appendChild(ft("circle",u)),d.appendChild(h),d}function pi(r,e,n,o){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},u=a.fontSize||Ot;return ft("text",{className:r,x:e,y:n,dy:(a.dy!==void 0?a.dy:u/2)+"px","font-size":u+"px",fill:a.fill||Ar,"text-anchor":a.textAnchor||"start",innerHTML:o})}function Wc(r,e,n,o){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};a.stroke||(a.stroke=qe);var u=ft("line",{className:"line-vertical "+a.className,x1:0,x2:0,y1:n,y2:o,styles:{stroke:a.stroke}}),h=ft("text",{x:0,y:n>o?n+fe:n-fe-Ot,dy:Ot+"px","font-size":Ot+"px","text-anchor":"middle",innerHTML:e+""}),d=ft("g",{transform:"translate("+r+", 0)"});return d.appendChild(u),d.appendChild(h),d}function ga(r,e,n,o){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};a.stroke||(a.stroke=qe),a.lineType||(a.lineType=""),a.shortenNumbers&&(e=zc(e));var u=ft("line",{className:"line-horizontal "+a.className+(a.lineType==="dashed"?"dashed":""),x1:n,x2:o,y1:0,y2:0,styles:{stroke:a.stroke}}),h=ft("text",{x:n<o?n-fe:n+fe,y:0,dy:Ot/2-2+"px","font-size":Ot+"px","text-anchor":n<o?"end":"start",innerHTML:e+""}),d=ft("g",{transform:"translate(0, "+r+")","stroke-opacity":1});return h!==0&&h!=="0"||(d.style.stroke="rgba(27, 31, 35, 0.6)"),d.appendChild(u),d.appendChild(h),d}function Gc(r,e,n){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};Fe(r)||(r=0),o.pos||(o.pos="left"),o.offset||(o.offset=0),o.mode||(o.mode="span"),o.stroke||(o.stroke=qe),o.className||(o.className="");var a=-1*je,u=o.mode==="span"?n+je:0;return o.mode==="tick"&&o.pos==="right"&&(a=n+je,u=n),a+=o.offset,u+=o.offset,ga(r,e,a,u,{stroke:o.stroke,className:o.className,lineType:o.lineType,shortenNumbers:o.shortenNumbers})}function qc(r,e,n){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};Fe(r)||(r=0),o.pos||(o.pos="bottom"),o.offset||(o.offset=0),o.mode||(o.mode="span"),o.stroke||(o.stroke=qe),o.className||(o.className="");var a=n+je,u=o.mode==="span"?-1*je:n;return o.mode==="tick"&&o.pos==="top"&&(a=-1*je,u=0),Wc(r,e,a,u,{stroke:o.stroke,className:o.className,lineType:o.lineType})}function Vc(r,e,n){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};o.labelPos||(o.labelPos="right");var a=ft("text",{className:"chart-label",x:o.labelPos==="left"?fe:n-fa(e,5)-fe,y:0,dy:Ot/-2+"px","font-size":Ot+"px","text-anchor":"start",innerHTML:e+""}),u=ga(r,"",0,n,{stroke:o.stroke||qe,className:o.className||"",lineType:o.lineType});return u.appendChild(a),u}function Yc(r,e,n,o){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},u=r-e,h=ft("rect",{className:"bar mini",styles:{fill:"rgba(228, 234, 239, 0.49)",stroke:qe,"stroke-dasharray":n+", "+u},x:0,y:0,width:n,height:u});a.labelPos||(a.labelPos="right");var d=ft("text",{className:"chart-label",x:a.labelPos==="left"?fe:n-fa(o+"",4.5)-fe,y:0,dy:Ot/-2+"px","font-size":Ot+"px","text-anchor":"start",innerHTML:o+""}),c=ft("g",{transform:"translate(0, "+e+")"});return c.appendChild(h),c.appendChild(d),c}function Xc(r,e,n,o){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,d=arguments.length>7&&arguments[7]!==void 0?arguments[7]:{},c=pa(e,d.zeroLine),p=md(c,2),_=p[0],g=p[1];g-=h,_===0&&(_=d.minHeight,g-=d.minHeight),Fe(r)||(r=0),Fe(g)||(g=0),Fe(_,!0)||(_=0),Fe(n,!0)||(n=0);var y=ft("rect",{className:"bar mini",style:"fill: "+o,"data-point-index":u,x:r,y:g,width:n,height:_});if((a+="")||a.length){y.setAttribute("y",0),y.setAttribute("x",0);var w=ft("text",{className:"data-point-value",x:n/2,y:0,dy:Ot/2*-1+"px","font-size":Ot+"px","text-anchor":"middle",innerHTML:a}),T=ft("g",{"data-point-index":u,transform:"translate("+r+", "+g+")"});return T.appendChild(y),T.appendChild(w),T}return y}function Kc(r,e,n,o){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,h=ft("circle",{style:"fill: "+o,"data-point-index":u,cx:r,cy:e,r:n});if((a+="")||a.length){h.setAttribute("cy",0),h.setAttribute("cx",0);var d=ft("text",{className:"data-point-value",x:0,y:0,dy:Ot/2*-1-n+"px","font-size":Ot+"px","text-anchor":"middle",innerHTML:a}),c=ft("g",{"data-point-index":u,transform:"translate("+r+", "+e+")"});return c.appendChild(h),c.appendChild(d),c}return h}function Jc(r,e,n){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},u=e.map(function(g,y){return r[y]+","+g}).join("L");o.spline&&(u=ma(r,e));var h=on("M"+u,"line-graph-path",n);if(o.heatline){var d=vs(a.svgDefs,n);h.style.stroke="url(#"+d+")"}var c={path:h};if(o.regionFill){var p=vs(a.svgDefs,n,!0),_="M"+r[0]+","+a.zeroLine+"L"+u+"L"+r.slice(-1)[0]+","+a.zeroLine;c.region=on(_,"region-fill","none","url(#"+p+")")}return c}function xi(r,e,n,o){var a=typeof e=="string"?e:e.join(", ");return[r,{transform:n.join(", ")},o,de,"translate",{transform:a}]}function Qc(r,e,n){return xi(r,[n,0],[e,0],Ge)}function ys(r,e,n){return xi(r,[0,n],[0,e],Ge)}function tf(r,e,n,o){var a=e-n,u=r.childNodes[0];return[[u,{height:a,"stroke-dasharray":u.getAttribute("width")+", "+a},Ge,de],xi(r,[0,o],[0,n],Ge)]}function ef(r,e,n,o){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,u=pa(n,(arguments.length>5&&arguments[5]!==void 0?arguments[5]:{}).zeroLine),h=yd(u,2),d=h[0],c=h[1];return c-=a,r.nodeName!=="rect"?[[r.childNodes[0],{width:o,height:d},vi,de],xi(r,r.getAttribute("transform").split("(")[1].slice(0,-1),[e,c],Ge)]:[[r,{width:o,height:d,x:e,y:c},vi,de]]}function nf(r,e,n){return r.nodeName!=="circle"?[xi(r,r.getAttribute("transform").split("(")[1].slice(0,-1),[e,n],Ge)]:[[r,{cx:e,cy:n},vi,de]]}function rf(r,e,n,o,a){var u=[],h=n.map(function(g,y){return e[y]+","+g}).join("L");a&&(h=ma(e,n));var d=[r.path,{d:"M"+h},ks,de];if(u.push(d),r.region){var c=e[0]+","+o+"L",p="L"+e.slice(-1)[0]+", "+o,_=[r.region,{d:"M"+c+h+p},ks,de];u.push(_)}return u}function bs(r,e){return[r,{d:e},vi,de]}function of(r){if(Array.isArray(r)){for(var e=0,n=Array(r.length);e<r.length;e++)n[e]=r[e];return n}return Array.from(r)}function sf(r,e,n){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"linear",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},h=r.cloneNode(!0),d=r.cloneNode(!0);for(var c in e){var p=void 0;p=c==="transform"?document.createElementNS("http://www.w3.org/2000/svg","animateTransform"):document.createElementNS("http://www.w3.org/2000/svg","animate");var _=u[c]||r.getAttribute(c),g=e[c],y={attributeName:c,from:_,to:g,begin:"0s",dur:n/1e3+"s",values:_+";"+g,keySplines:xd[o],keyTimes:"0;1",calcMode:"spline",fill:"freeze"};a&&(y.type=a);for(var w in y)p.setAttribute(w,y[w]);h.appendChild(p),a?d.setAttribute(c,"translate("+g+")"):d.setAttribute(c,g)}return[h,d]}function sn(r,e){r.style.transform=e,r.style.webkitTransform=e,r.style.msTransform=e,r.style.mozTransform=e,r.style.oTransform=e}function af(r,e){var n=[],o=[];e.map(function(u){var h=u[0],d=h.parentNode,c=void 0,p=void 0;u[0]=h;var _=sf.apply(void 0,of(u)),g=wd(_,2);c=g[0],p=g[1],n.push(p),o.push([c,d]),d&&d.replaceChild(c,h)});var a=r.cloneNode(!0);return o.map(function(u,h){u[1]&&(u[1].replaceChild(n[h],u[0]),e[h][0]=n[h])}),a}function lf(r,e,n){if(n.length!==0){var o=af(e,n);e.parentNode==r&&(r.removeChild(e),r.appendChild(o)),setTimeout(function(){o.parentNode==r&&(r.removeChild(o),r.appendChild(e))},bd)}}function uf(r,e){var n=document.createElement("a");n.style="display: none";var o=new Blob(e,{type:"image/svg+xml; charset=utf-8"}),a=window.URL.createObjectURL(o);n.href=a,n.download=r,document.body.appendChild(n),n.click(),setTimeout(function(){document.body.removeChild(n),window.URL.revokeObjectURL(a)},300)}function hf(r){var e=r.cloneNode(!0);e.classList.add("chart-container"),e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");var n=he.create("style",{innerHTML:Pd});e.insertBefore(n,e.firstChild);var o=he.create("div");return o.appendChild(e),o.innerHTML}function cf(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function ff(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function df(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?r:e}function pf(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}function ws(r){var e=new Date(r);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e}function ir(r){var e=r.getDate(),n=r.getMonth()+1;return[r.getFullYear(),(n>9?"":"0")+n,(e>9?"":"0")+e].join("-")}function xe(r){return new Date(r.getTime())}function nr(r,e){var n=ya(r);return Math.ceil(mf(n,e)/fi)}function mf(r,e){var n=Sd*Ta;return(ws(e)-ws(r))/n}function _f(r,e){return r.getMonth()===e.getMonth()&&r.getFullYear()===e.getFullYear()}function va(r){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=Cd[r];return e?n.slice(0,3):n}function xs(r,e){return new Date(e,r+1,0)}function ya(r){var e=xe(r),n=e.getDay();return n!==0&&$e(e,-1*n),e}function $e(r,e){r.setDate(r.getDate()+e)}function gf(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Pi(r,e,n){var o=Object.keys(Cs).filter(function(u){return r.includes(u)}),a=Cs[o[0]];return Object.assign(a,{constants:e,getData:n}),new Od(a)}function vf(r){if(Array.isArray(r)){for(var e=0,n=Array(r.length);e<r.length;e++)n[e]=r[e];return n}return Array.from(r)}function yf(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function bf(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?r:e}function wf(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}function xf(r){if(Array.isArray(r)){for(var e=0,n=Array(r.length);e<r.length;e++)n[e]=r[e];return n}return Array.from(r)}function Pf(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Lf(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?r:e}function Tf(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}function dr(r){if(Array.isArray(r)){for(var e=0,n=Array(r.length);e<r.length;e++)n[e]=r[e];return n}return Array.from(r)}function ci(r){if(r===0)return[0,0];if(isNaN(r))return{mantissa:-6755399441055744,exponent:972};var e=r>0?1:-1;if(!isFinite(r))return{mantissa:4503599627370496*e,exponent:972};r=Math.abs(r);var n=Math.floor(Math.log10(r));return[e*(r/Math.pow(10,n)),n]}function kf(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=Math.ceil(r),o=Math.floor(e),a=n-o,u=a,h=1;a>5&&(a%2!=0&&(a=++n-o),u=a/2,h=2),a<=2&&(h=a/(u=4)),a===0&&(u=5,h=1);for(var d=[],c=0;c<=u;c++)d.push(o+h*c);return d}function li(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=ci(r),o=Bd(n,2),a=o[0],u=o[1],h=e?e/Math.pow(10,u):0,d=kf(a=a.toFixed(6),h);return d=d.map(function(c){return c*Math.pow(10,u)})}function Sf(r){function e(p,_){for(var g=li(p),y=g[1]-g[0],w=0,T=1;w<_;T++)w+=y,g.unshift(-1*w);return g}var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],o=Math.max.apply(Math,dr(r)),a=Math.min.apply(Math,dr(r)),u=[];if(o>=0&&a>=0)ci(o)[1],u=n?li(o,a):li(o);else if(o>0&&a<0){var h=Math.abs(a);o>=h?(ci(o)[1],u=e(o,h)):(ci(h)[1],u=e(h,o).reverse().map(function(p){return-1*p}))}else if(o<=0&&a<=0){var d=Math.abs(a),c=Math.abs(o);ci(d)[1],u=(u=n?li(d,c):li(d)).reverse().map(function(p){return-1*p})}return u}function Cf(r){var e=ba(r);return r.indexOf(0)>=0?r.indexOf(0):r[0]>0?-1*r[0]/e:-1*r[r.length-1]/e+(r.length-1)}function ba(r){return r[1]-r[0]}function Af(r){return r[r.length-1]-r[0]}function qi(r,e){return ca(e.zeroLine-r*e.scaleMultiplier)}function Ef(r,e){var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],o=e.reduce(function(a,u){return Math.abs(u-r)<Math.abs(a-r)?u:a},[]);return n?e.indexOf(o):o}function Of(r,e){for(var n=Math.max.apply(Math,dr(r)),o=1/(e-1),a=[],u=0;u<e;u++){var h=n*(o*u);a.push(h)}return a}function Mf(r,e){return e.filter(function(n){return n<r}).length}function zf(r){if(Array.isArray(r)){for(var e=0,n=Array(r.length);e<r.length;e++)n[e]=r[e];return n}return Array.from(r)}function Nf(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Df(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?r:e}function If(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}function Bf(r){if(Array.isArray(r)){for(var e=0,n=Array(r.length);e<r.length;e++)n[e]=r[e];return n}return Array.from(r)}function Rf(r,e){r.labels=r.labels||[];var n=r.labels.length,o=r.datasets,a=new Array(n).fill(0);return o||(o=[{values:a}]),o.map(function(u){if(u.values){var h=u.values;h=(h=h.map(function(d){return isNaN(d)?0:d})).length>n?h.slice(0,n):cr(h,n-h.length,0),u.values=h}else u.values=a;u.chartType||(u.chartType=e)}),r.yRegions&&r.yRegions.map(function(u){if(u.end<u.start){var h=[u.end,u.start];u.start=h[0],u.end=h[1]}}),r}function Zf(r){var e=r.labels.length,n=new Array(e).fill(0),o={labels:r.labels.slice(0,-1),datasets:r.datasets.map(function(a){return{name:"",values:n.slice(0,-1),chartType:a.chartType}})};return r.yMarkers&&(o.yMarkers=[{value:0,label:""}]),r.yRegions&&(o.yRegions=[{start:0,end:0,label:""}]),o}function $f(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],o=r/e.length;o<=0&&(o=1);var a=o/ad,u=void 0;if(n){var h=Math.max.apply(Math,Bf(e.map(function(d){return d.length})));u=Math.ceil(h/a)}return e.map(function(d,c){return(d+="").length>a&&(n?c%u!=0&&(d=""):d=a-3>0?d.slice(0,a-3)+" ...":d.slice(0,a)+".."),d})}function Ps(r){if(Array.isArray(r)){for(var e=0,n=Array(r.length);e<r.length;e++)n[e]=r[e];return n}return Array.from(r)}function Hf(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Ff(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?r:e}function Uf(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}function jf(r){if(Array.isArray(r)){for(var e=0,n=Array(r.length);e<r.length;e++)n[e]=r[e];return n}return Array.from(r)}function Wf(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Gf(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?r:e}function qf(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}function Vf(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Yf(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"line",e=arguments[1],n=arguments[2];return r==="axis-mixed"?(n.type="line",new pr(e,n)):Os[r]?new Os[r](e,n):void console.error("Undefined chart type: "+r)}var Xf='.chart-container{position:relative;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif}.chart-container .axis,.chart-container .chart-label{fill:#555b51}.chart-container .axis line,.chart-container .chart-label line{stroke:#dadada}.chart-container .dataset-units circle{stroke:#fff;stroke-width:2}.chart-container .dataset-units path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container .dataset-path{stroke-width:2px}.chart-container .path-group path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container line.dashed{stroke-dasharray:5,3}.chart-container .axis-line .specific-value{text-anchor:start}.chart-container .axis-line .y-line{text-anchor:end}.chart-container .axis-line .x-line{text-anchor:middle}.chart-container .legend-dataset-text{fill:#6c7680;font-weight:600}.graph-svg-tip{position:absolute;z-index:99999;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.8);border-radius:3px}.graph-svg-tip ol,.graph-svg-tip ul{padding-left:0;display:-webkit-box;display:-ms-flexbox;display:flex}.graph-svg-tip ul.data-point-list li{min-width:90px;-webkit-box-flex:1;-ms-flex:1;flex:1;font-weight:600}.graph-svg-tip strong{color:#dfe2e5;font-weight:600}.graph-svg-tip .svg-pointer{position:absolute;height:5px;margin:0 0 0 -5px;content:" ";border:5px solid transparent;border-top-color:rgba(0,0,0,.8)}.graph-svg-tip.comparison{padding:0;text-align:left;pointer-events:none}.graph-svg-tip.comparison .title{display:block;padding:10px;margin:0;font-weight:600;line-height:1;pointer-events:none}.graph-svg-tip.comparison ul{margin:0;white-space:nowrap;list-style:none}.graph-svg-tip.comparison li{display:inline-block;padding:5px 10px}';kc(Xf);var Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};he.create=function(r,e){var n=document.createElement(r);for(var o in e){var a=e[o];if(o==="inside")he(a).appendChild(n);else if(o==="around"){var u=he(a);u.parentNode.insertBefore(n,u),n.appendChild(u)}else o==="styles"?(a===void 0?"undefined":Kf(a))==="object"&&Object.keys(a).map(function(h){n.style[h]=a[h]}):o in n?n[o]=a:n.setAttribute(o,a)}return n};var Jf={margins:{top:10,bottom:10,left:20,right:20},paddings:{top:20,bottom:40,left:30,right:10},baseHeight:240,titleHeight:20,legendHeight:30,titleFontSize:12},Qf=700,td=400,ed=100,id=.5,nd=0,rd=4,Ls=4,od=20,wa=2,rr=5,He=10,sd=2,ad=7,ld=5,ui=["light-blue","blue","violet","red","orange","yellow","green","light-green","purple","magenta","light-grey","dark-grey"],ud=["#ebedf0","#c6e48b","#7bc96f","#239a3b","#196127"],hd={bar:ui,line:ui,pie:ui,percentage:ui,heatmap:ud,donut:ui},Ts=Math.PI/180,xa=360,cd=function(){function r(e,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,o){return n&&r(e.prototype,n),o&&r(e,o),e}}(),fd=function(){function r(e){var n=e.parent,o=n===void 0?null:n,a=e.colors,u=a===void 0?[]:a;Oc(this,r),this.parent=o,this.colors=u,this.titleName="",this.titleValue="",this.listValues=[],this.titleValueFirst=0,this.x=0,this.y=0,this.top=0,this.left=0,this.setup()}return cd(r,[{key:"setup",value:function(){this.makeTooltip()}},{key:"refresh",value:function(){this.fill(),this.calcPosition()}},{key:"makeTooltip",value:function(){var e=this;this.container=he.create("div",{inside:this.parent,className:"graph-svg-tip comparison",innerHTML:`<span class="title"></span>
				<ul class="data-point-list"></ul>
				<div class="svg-pointer"></div>`}),this.hideTip(),this.title=this.container.querySelector(".title"),this.dataPointList=this.container.querySelector(".data-point-list"),this.parent.addEventListener("mouseleave",function(){e.hideTip()})}},{key:"fill",value:function(){var e=this,n=void 0;this.index&&this.container.setAttribute("data-point-index",this.index),n=this.titleValueFirst?"<strong>"+this.titleValue+"</strong>"+this.titleName:this.titleName+"<strong>"+this.titleValue+"</strong>",this.title.innerHTML=n,this.dataPointList.innerHTML="",this.listValues.map(function(o,a){var u=e.colors[a]||"black",h=o.formatted===0||o.formatted?o.formatted:o.value,d=he.create("li",{styles:{"border-top":"3px solid "+u},innerHTML:'<strong style="display: block;">'+(h===0||h?h:"")+`</strong>
					`+(o.title?o.title:"")});e.dataPointList.appendChild(d)})}},{key:"calcPosition",value:function(){var e=this.container.offsetWidth;this.top=this.y-this.container.offsetHeight-ld,this.left=this.x-e/2;var n=this.parent.offsetWidth-e,o=this.container.querySelector(".svg-pointer");if(this.left<0)o.style.left="calc(50% - "+-1*this.left+"px)",this.left=0;else if(this.left>n){var a="calc(50% + "+(this.left-n)+"px)";o.style.left=a,this.left=n}else o.style.left="50%"}},{key:"setValues",value:function(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;this.titleName=o.name,this.titleValue=o.value,this.listValues=a,this.x=e,this.y=n,this.titleValueFirst=o.valueFirst||0,this.index=u,this.refresh()}},{key:"hideTip",value:function(){this.container.style.top="0px",this.container.style.left="0px",this.container.style.opacity="0"}},{key:"showTip",value:function(){this.container.style.top=this.top+"px",this.container.style.left=this.left+"px",this.container.style.opacity="1"}}]),r}(),dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},pd={"light-blue":"#7cd6fd",blue:"#5e64ff",violet:"#743ee2",red:"#ff5858",orange:"#ffa00a",yellow:"#feef72",green:"#28a745","light-green":"#98d85b",purple:"#b554ff",magenta:"#ffa3ef",black:"#36114C",grey:"#bdd3e6","light-grey":"#f0f4f7","dark-grey":"#b8c2cc"},Pa=function(r){return/rgb[a]{0,1}\([\d, ]+\)/gim.test(r)?/\D+(\d*)\D+(\d*)\D+(\d*)/gim.exec(r).map(function(e,n){return n!==0?Number(e).toString(16):"#"}).reduce(function(e,n){return""+e+n}):pd[r]||r},md=function(){function r(e,n){var o=[],a=!0,u=!1,h=void 0;try{for(var d,c=e[Symbol.iterator]();!(a=(d=c.next()).done)&&(o.push(d.value),!n||o.length!==n);a=!0);}catch(p){u=!0,h=p}finally{try{!a&&c.return&&c.return()}finally{if(u)throw h}}return o}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},je=6,fe=4,La=15,Ot=10,qe="#dadada",Ar="#555b51",gd={bar:function(r){var e=void 0;r.nodeName!=="rect"&&(e=r.getAttribute("transform"),r=r.childNodes[0]);var n=r.cloneNode();return n.style.fill="#000000",n.style.opacity="0.4",e&&n.setAttribute("transform",e),n},dot:function(r){var e=void 0;r.nodeName!=="circle"&&(e=r.getAttribute("transform"),r=r.childNodes[0]);var n=r.cloneNode(),o=r.getAttribute("r"),a=r.getAttribute("fill");return n.setAttribute("r",parseInt(o)+Ls),n.setAttribute("fill",a),n.style.opacity="0.6",e&&n.setAttribute("transform",e),n},heat_square:function(r){var e=void 0;r.nodeName!=="circle"&&(e=r.getAttribute("transform"),r=r.childNodes[0]);var n=r.cloneNode(),o=r.getAttribute("r"),a=r.getAttribute("fill");return n.setAttribute("r",parseInt(o)+Ls),n.setAttribute("fill",a),n.style.opacity="0.6",e&&n.setAttribute("transform",e),n}},vd={bar:function(r,e){var n=void 0;r.nodeName!=="rect"&&(n=r.getAttribute("transform"),r=r.childNodes[0]);var o=["x","y","width","height"];Object.values(r.attributes).filter(function(a){return o.includes(a.name)&&a.specified}).map(function(a){e.setAttribute(a.name,a.nodeValue)}),n&&e.setAttribute("transform",n)},dot:function(r,e){var n=void 0;r.nodeName!=="circle"&&(n=r.getAttribute("transform"),r=r.childNodes[0]);var o=["cx","cy"];Object.values(r.attributes).filter(function(a){return o.includes(a.name)&&a.specified}).map(function(a){e.setAttribute(a.name,a.nodeValue)}),n&&e.setAttribute("transform",n)},heat_square:function(r,e){var n=void 0;r.nodeName!=="circle"&&(n=r.getAttribute("transform"),r=r.childNodes[0]);var o=["cx","cy"];Object.values(r.attributes).filter(function(a){return o.includes(a.name)&&a.specified}).map(function(a){e.setAttribute(a.name,a.nodeValue)}),n&&e.setAttribute("transform",n)}},yd=function(){function r(e,n){var o=[],a=!0,u=!1,h=void 0;try{for(var d,c=e[Symbol.iterator]();!(a=(d=c.next()).done)&&(o.push(d.value),!n||o.length!==n);a=!0);}catch(p){u=!0,h=p}finally{try{!a&&c.return&&c.return()}finally{if(u)throw h}}return o}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),vi=350,ks=350,Ge=vi,bd=250,de="easein",wd=function(){function r(e,n){var o=[],a=!0,u=!1,h=void 0;try{for(var d,c=e[Symbol.iterator]();!(a=(d=c.next()).done)&&(o.push(d.value),!n||o.length!==n);a=!0);}catch(p){u=!0,h=p}finally{try{!a&&c.return&&c.return()}finally{if(u)throw h}}return o}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),xd={ease:"0.25 0.1 0.25 1",linear:"0 0 1 1",easein:"0.1 0.8 0.2 1",easeout:"0 0 0.58 1",easeinout:"0.42 0 0.58 1"},Pd=".chart-container{position:relative;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif}.chart-container .axis,.chart-container .chart-label{fill:#555b51}.chart-container .axis line,.chart-container .chart-label line{stroke:#dadada}.chart-container .dataset-units circle{stroke:#fff;stroke-width:2}.chart-container .dataset-units path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container .dataset-path{stroke-width:2px}.chart-container .path-group path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container line.dashed{stroke-dasharray:5,3}.chart-container .axis-line .specific-value{text-anchor:start}.chart-container .axis-line .y-line{text-anchor:end}.chart-container .axis-line .x-line{text-anchor:middle}.chart-container .legend-dataset-text{fill:#6c7680;font-weight:600}.graph-svg-tip{position:absolute;z-index:99999;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.8);border-radius:3px}.graph-svg-tip ul{padding-left:0;display:flex}.graph-svg-tip ol{padding-left:0;display:flex}.graph-svg-tip ul.data-point-list li{min-width:90px;flex:1;font-weight:600}.graph-svg-tip strong{color:#dfe2e5;font-weight:600}.graph-svg-tip .svg-pointer{position:absolute;height:5px;margin:0 0 0 -5px;content:' ';border:5px solid transparent;border-top-color:rgba(0,0,0,.8)}.graph-svg-tip.comparison{padding:0;text-align:left;pointer-events:none}.graph-svg-tip.comparison .title{display:block;padding:10px;margin:0;font-weight:600;line-height:1;pointer-events:none}.graph-svg-tip.comparison ul{margin:0;white-space:nowrap;list-style:none}.graph-svg-tip.comparison li{display:inline-block;padding:5px 10px}",Ld=function(){function r(e,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,o){return n&&r(e.prototype,n),o&&r(e,o),e}}(),Er=function(){function r(e,n){if(cf(this,r),n=da(n),this.parent=typeof e=="string"?document.querySelector(e):e,!(this.parent instanceof HTMLElement))throw new Error("No `parent` element to render on was provided.");this.rawChartArgs=n,this.title=n.title||"",this.type=n.type||"",this.realData=this.prepareData(n.data),this.data=this.prepareFirstData(this.realData),this.colors=this.validateColors(n.colors,this.type),this.config={showTooltip:1,showLegend:1,isNavigable:n.isNavigable||0,animate:n.animate!==void 0?n.animate:1,truncateLegends:n.truncateLegends||1},this.measures=JSON.parse(JSON.stringify(Jf));var o=this.measures;this.setMeasures(n),this.title.length||(o.titleHeight=0),this.config.showLegend||(o.legendHeight=0),this.argHeight=n.height||o.baseHeight,this.state={},this.options={},this.initTimeout=Qf,this.config.isNavigable&&(this.overlays=[]),this.configure(n)}return Ld(r,[{key:"prepareData",value:function(e){return e}},{key:"prepareFirstData",value:function(e){return e}},{key:"validateColors",value:function(e,n){var o=[];return(e=(e||[]).concat(hd[n])).forEach(function(a){var u=Pa(a);Nc(u)?o.push(u):console.warn('"'+a+'" is not a valid color.')}),o}},{key:"setMeasures",value:function(){}},{key:"configure",value:function(){var e=this,n=this.argHeight;this.baseHeight=n,this.height=n-ha(this.measures),this.boundDrawFn=function(){return e.draw(!0)},ResizeObserver&&(this.resizeObserver=new ResizeObserver(this.boundDrawFn),this.resizeObserver.observe(this.parent)),window.addEventListener("resize",this.boundDrawFn),window.addEventListener("orientationchange",this.boundDrawFn)}},{key:"destroy",value:function(){this.resizeObserver&&this.resizeObserver.disconnect(),window.removeEventListener("resize",this.boundDrawFn),window.removeEventListener("orientationchange",this.boundDrawFn)}},{key:"setup",value:function(){this.makeContainer(),this.updateWidth(),this.makeTooltip(),this.draw(!1,!0)}},{key:"makeContainer",value:function(){this.parent.innerHTML="";var e={inside:this.parent,className:"chart-container"};this.independentWidth&&(e.styles={width:this.independentWidth+"px"}),this.container=he.create("div",e)}},{key:"makeTooltip",value:function(){this.tip=new fd({parent:this.container,colors:this.colors}),this.bindTooltip()}},{key:"bindTooltip",value:function(){}},{key:"draw",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0&&arguments[0],o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];n&&Sc(this.parent)||(this.updateWidth(),this.calc(n),this.makeChartArea(),this.setupComponents(),this.components.forEach(function(a){return a.setup(e.drawArea)}),this.render(this.components,!1),o&&(this.data=this.realData,setTimeout(function(){e.update(e.data)},this.initTimeout)),this.renderLegend(),this.setupNavigation(o))}},{key:"calc",value:function(){}},{key:"updateWidth",value:function(){this.baseWidth=Ac(this.parent),this.width=this.baseWidth-rn(this.measures)}},{key:"makeChartArea",value:function(){this.svg&&this.container.removeChild(this.svg);var e=this.measures;this.svg=Ic(this.container,"frappe-chart chart",this.baseWidth,this.baseHeight),this.svgDefs=Bc(this.svg),this.title.length&&(this.titleEL=pi("title",e.margins.left,e.margins.top,this.title,{fontSize:e.titleFontSize,fill:"#666666",dy:e.titleFontSize}));var n=nn(e);this.drawArea=fr(this.type+"-chart chart-draw-area","translate("+Ji(e)+", "+n+")"),this.config.showLegend&&(n+=this.height+e.paddings.bottom,this.legendArea=fr("chart-legend","translate("+Ji(e)+", "+n+")")),this.title.length&&this.svg.appendChild(this.titleEL),this.svg.appendChild(this.drawArea),this.config.showLegend&&this.svg.appendChild(this.legendArea),this.updateTipOffset(Ji(e),nn(e))}},{key:"updateTipOffset",value:function(e,n){this.tip.offset={x:e,y:n}}},{key:"setupComponents",value:function(){this.components=new Map}},{key:"update",value:function(e){e||console.error("No data to update."),this.data=this.prepareData(e),this.calc(),this.render(this.components,this.config.animate),this.renderLegend()}},{key:"render",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.components,o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.config.isNavigable&&this.overlays.map(function(u){return u.parentNode.removeChild(u)});var a=[];n.forEach(function(u){a=a.concat(u.update(o))}),a.length>0?(lf(this.container,this.svg,a),setTimeout(function(){n.forEach(function(u){return u.make()}),e.updateNav()},td)):(n.forEach(function(u){return u.make()}),this.updateNav())}},{key:"updateNav",value:function(){this.config.isNavigable&&(this.makeOverlay(),this.bindUnits())}},{key:"renderLegend",value:function(){}},{key:"setupNavigation",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.config.isNavigable&&n&&(this.bindOverlay(),this.keyActions={13:this.onEnterKey.bind(this),37:this.onLeftArrow.bind(this),38:this.onUpArrow.bind(this),39:this.onRightArrow.bind(this),40:this.onDownArrow.bind(this)},document.addEventListener("keydown",function(o){Cc(e.container)&&(o=o||window.event,e.keyActions[o.keyCode]&&e.keyActions[o.keyCode]())}))}},{key:"makeOverlay",value:function(){}},{key:"updateOverlay",value:function(){}},{key:"bindOverlay",value:function(){}},{key:"bindUnits",value:function(){}},{key:"onLeftArrow",value:function(){}},{key:"onRightArrow",value:function(){}},{key:"onUpArrow",value:function(){}},{key:"onDownArrow",value:function(){}},{key:"onEnterKey",value:function(){}},{key:"addDataPoint",value:function(){}},{key:"removeDataPoint",value:function(){}},{key:"getDataPoint",value:function(){}},{key:"setCurrentDataPoint",value:function(){}},{key:"updateDataset",value:function(){}},{key:"export",value:function(){var e=hf(this.svg);uf(this.title||"Chart",[e])}}]),r}(),Td=function(){function r(e,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,o){return n&&r(e.prototype,n),o&&r(e,o),e}}(),kd=function r(e,n,o){e===null&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,n);if(a===void 0){var u=Object.getPrototypeOf(e);return u===null?void 0:r(u,n,o)}if("value"in a)return a.value;var h=a.get;if(h!==void 0)return h.call(o)},Or=function(r){function e(n,o){return ff(this,e),df(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,o))}return pf(e,r),Td(e,[{key:"configure",value:function(n){kd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,n),this.config.formatTooltipY=(n.tooltipOptions||{}).formatTooltipY,this.config.maxSlices=n.maxSlices||20,this.config.maxLegendPoints=n.maxLegendPoints||20}},{key:"calc",value:function(){var n=this,o=this.state,a=this.config.maxSlices;o.sliceTotals=[];var u=this.data.labels.map(function(c,p){var _=0;return n.data.datasets.map(function(g){_+=g.values[p]}),[_,c]}).filter(function(c){return c[0]>=0}),h=u;if(u.length>a){u.sort(function(c,p){return p[0]-c[0]}),h=u.slice(0,a-1);var d=0;u.slice(a-1).map(function(c){d+=c[0]}),h.push([d,"Rest"]),this.colors[a-1]="grey"}o.labels=[],h.map(function(c){o.sliceTotals.push(Mc(c[0])),o.labels.push(c[1])}),o.grandTotal=o.sliceTotals.reduce(function(c,p){return c+p},0),this.center={x:this.width/2,y:this.height/2}}},{key:"renderLegend",value:function(){var n=this,o=this.state;this.legendArea.textContent="",this.legendTotals=o.sliceTotals.slice(0,this.config.maxLegendPoints);var a=0,u=0;this.legendTotals.map(function(h,d){var c=150,p=Math.floor((n.width-rn(n.measures))/c);n.legendTotals.length<p&&(c=n.width/n.legendTotals.length),a>p&&(a=0,u+=20);var _=c*a+5,g=n.config.truncateLegends?Sr(o.labels[d],c/10):o.labels[d],y=n.config.formatTooltipY?n.config.formatTooltipY(h):h,w=jc(_,u,5,n.colors[d],g+": "+y,!1);n.legendArea.appendChild(w),a++})}}]),e}(Er),Ss=12,fi=7,Ta=1e3,Sd=86400,Cd=["January","February","March","April","May","June","July","August","September","October","November","December"],Ad=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Zt=function(){function r(e,n){var o=[],a=!0,u=!1,h=void 0;try{for(var d,c=e[Symbol.iterator]();!(a=(d=c.next()).done)&&(o.push(d.value),!n||o.length!==n);a=!0);}catch(p){u=!0,h=p}finally{try{!a&&c.return&&c.return()}finally{if(u)throw h}}return o}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ed=function(){function r(e,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,o){return n&&r(e.prototype,n),o&&r(e,o),e}}(),Od=function(){function r(e){var n=e.layerClass,o=n===void 0?"":n,a=e.layerTransform,u=a===void 0?"":a,h=e.constants,d=e.getData,c=e.makeElements,p=e.animateElements;gf(this,r),this.layerTransform=u,this.constants=h,this.makeElements=c,this.getData=d,this.animateElements=p,this.store=[],this.labels=[],this.layerClass=o,this.layerClass=typeof this.layerClass=="function"?this.layerClass():this.layerClass,this.refresh()}return Ed(r,[{key:"refresh",value:function(e){this.data=e||this.getData()}},{key:"setup",value:function(e){this.layer=fr(this.layerClass,this.layerTransform,e)}},{key:"make",value:function(){this.render(this.data),this.oldData=this.data}},{key:"render",value:function(e){var n=this;this.store=this.makeElements(e),this.layer.textContent="",this.store.forEach(function(o){n.layer.appendChild(o)}),this.labels.forEach(function(o){n.layer.appendChild(o)})}},{key:"update",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.refresh();var n=[];return e&&(n=this.animateElements(this.data)||[]),n}}]),r}(),Cs={donutSlices:{layerClass:"donut-slices",makeElements:function(r){return r.sliceStrings.map(function(e,n){var o=on(e,"donut-path",r.colors[n],"none",r.strokeWidth);return o.style.transition="transform .3s;",o})},animateElements:function(r){return this.store.map(function(e,n){return bs(e,r.sliceStrings[n])})}},pieSlices:{layerClass:"pie-slices",makeElements:function(r){return r.sliceStrings.map(function(e,n){var o=on(e,"pie-path","none",r.colors[n]);return o.style.transition="transform .3s;",o})},animateElements:function(r){return this.store.map(function(e,n){return bs(e,r.sliceStrings[n])})}},percentageBars:{layerClass:"percentage-bars",makeElements:function(r){var e=this;return r.xPositions.map(function(n,o){return Fc(n,0,r.widths[o],e.constants.barHeight,e.constants.barDepth,r.colors[o])})},animateElements:function(r){if(r)return[]}},yAxis:{layerClass:"y axis",makeElements:function(r){var e=this;return r.positions.map(function(n,o){return Gc(n,r.labels[o],e.constants.width,{mode:e.constants.mode,pos:e.constants.pos,shortenNumbers:e.constants.shortenNumbers})})},animateElements:function(r){var e=r.positions,n=r.labels,o=this.oldData.positions,a=this.oldData.labels,u=Rt(o,e),h=Zt(u,2);o=h[0],e=h[1];var d=Rt(a,n),c=Zt(d,2);return a=c[0],n=c[1],this.render({positions:o,labels:n}),this.store.map(function(p,_){return ys(p,e[_],o[_])})}},xAxis:{layerClass:"x axis",makeElements:function(r){var e=this;return r.positions.map(function(n,o){return qc(n,r.calcLabels[o],e.constants.height,{mode:e.constants.mode,pos:e.constants.pos})})},animateElements:function(r){var e=r.positions,n=r.calcLabels,o=this.oldData.positions,a=this.oldData.calcLabels,u=Rt(o,e),h=Zt(u,2);o=h[0],e=h[1];var d=Rt(a,n),c=Zt(d,2);return a=c[0],n=c[1],this.render({positions:o,calcLabels:n}),this.store.map(function(p,_){return Qc(p,e[_],o[_])})}},yMarkers:{layerClass:"y-markers",makeElements:function(r){var e=this;return r.map(function(n){return Vc(n.position,n.label,e.constants.width,{labelPos:n.options.labelPos,mode:"span",lineType:"dashed"})})},animateElements:function(r){var e=Rt(this.oldData,r),n=Zt(e,2);this.oldData=n[0];var o=(r=n[1]).map(function(d){return d.position}),a=r.map(function(d){return d.label}),u=r.map(function(d){return d.options}),h=this.oldData.map(function(d){return d.position});return this.render(h.map(function(d,c){return{position:h[c],label:a[c],options:u[c]}})),this.store.map(function(d,c){return ys(d,o[c],h[c])})}},yRegions:{layerClass:"y-regions",makeElements:function(r){var e=this;return r.map(function(n){return Yc(n.startPos,n.endPos,e.constants.width,n.label,{labelPos:n.options.labelPos})})},animateElements:function(r){var e=Rt(this.oldData,r),n=Zt(e,2);this.oldData=n[0];var o=(r=n[1]).map(function(_){return _.endPos}),a=r.map(function(_){return _.label}),u=r.map(function(_){return _.startPos}),h=r.map(function(_){return _.options}),d=this.oldData.map(function(_){return _.endPos}),c=this.oldData.map(function(_){return _.startPos});this.render(d.map(function(_,g){return{startPos:c[g],endPos:d[g],label:a[g],options:h[g]}}));var p=[];return this.store.map(function(_,g){p=p.concat(tf(_,u[g],o[g],d[g]))}),p}},heatDomain:{layerClass:function(){return"heat-domain domain-"+this.constants.index},makeElements:function(r){var e=this,n=this.constants,o=n.index,a=n.colWidth,u=n.rowHeight,h=n.squareSize,d=n.radius,c=n.xTranslate,p=0;return this.serializedSubDomains=[],r.cols.map(function(_,g){g===1&&e.labels.push(pi("domain-name",c,-12,va(o,!0).toUpperCase(),{fontSize:9})),_.map(function(y,w){if(y.fill){var T={"data-date":y.yyyyMmDd,"data-value":y.dataValue,"data-day":w},A=_a("day",c,p,h,d,y.fill,T);e.serializedSubDomains.push(A)}p+=u}),p=0,c+=a}),this.serializedSubDomains},animateElements:function(r){if(r)return[]}},barGraph:{layerClass:function(){return"dataset-units dataset-bars dataset-"+this.constants.index},makeElements:function(r){var e=this.constants;return this.unitType="bar",this.units=r.yPositions.map(function(n,o){return Xc(r.xPositions[o],n,r.barWidth,e.color,r.labels[o],o,r.offsets[o],{zeroLine:r.zeroLine,barsWidth:r.barsWidth,minHeight:e.minHeight})}),this.units},animateElements:function(r){var e=r.xPositions,n=r.yPositions,o=r.offsets,a=r.labels,u=this.oldData.xPositions,h=this.oldData.yPositions,d=this.oldData.offsets,c=this.oldData.labels,p=Rt(u,e),_=Zt(p,2);u=_[0],e=_[1];var g=Rt(h,n),y=Zt(g,2);h=y[0],n=y[1];var w=Rt(d,o),T=Zt(w,2);d=T[0],o=T[1];var A=Rt(c,a),E=Zt(A,2);c=E[0],a=E[1],this.render({xPositions:u,yPositions:h,offsets:d,labels:a,zeroLine:this.oldData.zeroLine,barsWidth:this.oldData.barsWidth,barWidth:this.oldData.barWidth});var C=[];return this.store.map(function(M,z){C=C.concat(ef(M,e[z],n[z],r.barWidth,o[z],{zeroLine:r.zeroLine}))}),C}},lineGraph:{layerClass:function(){return"dataset-units dataset-line dataset-"+this.constants.index},makeElements:function(r){var e=this.constants;return this.unitType="dot",this.paths={},e.hideLine||(this.paths=Jc(r.xPositions,r.yPositions,e.color,{heatline:e.heatline,regionFill:e.regionFill,spline:e.spline},{svgDefs:e.svgDefs,zeroLine:r.zeroLine})),this.units=[],e.hideDots||(this.units=r.yPositions.map(function(n,o){return Kc(r.xPositions[o],n,r.radius,e.color,e.valuesOverPoints?r.values[o]:"",o)})),Object.values(this.paths).concat(this.units)},animateElements:function(r){var e=r.xPositions,n=r.yPositions,o=r.values,a=this.oldData.xPositions,u=this.oldData.yPositions,h=this.oldData.values,d=Rt(a,e),c=Zt(d,2);a=c[0],e=c[1];var p=Rt(u,n),_=Zt(p,2);u=_[0],n=_[1];var g=Rt(h,o),y=Zt(g,2);h=y[0],o=y[1],this.render({xPositions:a,yPositions:u,values:o,zeroLine:this.oldData.zeroLine,radius:this.oldData.radius});var w=[];return Object.keys(this.paths).length&&(w=w.concat(rf(this.paths,e,n,r.zeroLine,this.constants.spline))),this.units.length&&this.units.map(function(T,A){w=w.concat(nf(T,e[A],n[A]))}),w}}},Md=function(){function r(e,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,o){return n&&r(e.prototype,n),o&&r(e,o),e}}(),zd=function r(e,n,o){e===null&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,n);if(a===void 0){var u=Object.getPrototypeOf(e);return u===null?void 0:r(u,n,o)}if("value"in a)return a.value;var h=a.get;if(h!==void 0)return h.call(o)},Nd=function(r){function e(n,o){yf(this,e);var a=bf(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,o));return a.type="percentage",a.setup(),a}return wf(e,r),Md(e,[{key:"setMeasures",value:function(n){var o=this.measures;this.barOptions=n.barOptions||{};var a=this.barOptions;a.height=a.height||od,a.depth=a.depth||wa,o.paddings.right=30,o.legendHeight=60,o.baseHeight=8*(a.height+.5*a.depth)}},{key:"setupComponents",value:function(){var n=this.state,o=[["percentageBars",{barHeight:this.barOptions.height,barDepth:this.barOptions.depth},function(){return{xPositions:n.xPositions,widths:n.widths,colors:this.colors}}.bind(this)]];this.components=new Map(o.map(function(a){var u=Pi.apply(void 0,vf(a));return[a[0],u]}))}},{key:"calc",value:function(){var n=this;zd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"calc",this).call(this);var o=this.state;o.xPositions=[],o.widths=[];var a=0;o.sliceTotals.map(function(u){var h=n.width*u/o.grandTotal;o.widths.push(h),o.xPositions.push(a),a+=h})}},{key:"makeDataByIndex",value:function(){}},{key:"bindTooltip",value:function(){var n=this,o=this.state;this.container.addEventListener("mousemove",function(a){var u=n.components.get("percentageBars").store,h=a.target;if(u.includes(h)){var d=u.indexOf(h),c=gi(n.container),p=gi(h),_=p.left-c.left+parseInt(h.getAttribute("width"))/2,g=p.top-c.top,y=(n.formattedLabels&&n.formattedLabels.length>0?n.formattedLabels[d]:n.state.labels[d])+": ",w=o.sliceTotals[d]/o.grandTotal;n.tip.setValues(_,g,{name:y,value:(100*w).toFixed(1)+"%"}),n.tip.showTip()}})}}]),e}(Or),Dd=function(){function r(e,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,o){return n&&r(e.prototype,n),o&&r(e,o),e}}(),As=function r(e,n,o){e===null&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,n);if(a===void 0){var u=Object.getPrototypeOf(e);return u===null?void 0:r(u,n,o)}if("value"in a)return a.value;var h=a.get;if(h!==void 0)return h.call(o)},Id=function(r){function e(n,o){Pf(this,e);var a=Lf(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,o));return a.type="pie",a.initTimeout=0,a.init=1,a.setup(),a}return Tf(e,r),Dd(e,[{key:"configure",value:function(n){As(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,n),this.mouseMove=this.mouseMove.bind(this),this.mouseLeave=this.mouseLeave.bind(this),this.hoverRadio=n.hoverRadio||.1,this.config.startAngle=n.startAngle||0,this.clockWise=n.clockWise||!1}},{key:"calc",value:function(){var n=this;As(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"calc",this).call(this);var o=this.state;this.radius=this.height>this.width?this.center.x:this.center.y;var a=this.radius,u=this.clockWise,h=o.slicesProperties||[];o.sliceStrings=[],o.slicesProperties=[];var d=180-this.config.startAngle;o.sliceTotals.map(function(c,p){var _=d,g=c/o.grandTotal*xa,y=g>180?1:0,w=u?-g:g,T=d+=w,A=Ue(_,a),E=Ue(T,a),C=n.init&&h[p],M=void 0,z=void 0;n.init?(M=C?C.startPosition:A,z=C?C.endPosition:A):(M=A,z=E);var D=g===360?Zc(M,z,n.center,n.radius,u,y):Rc(M,z,n.center,n.radius,u,y);o.sliceStrings.push(D),o.slicesProperties.push({startPosition:A,endPosition:E,value:c,total:o.grandTotal,startAngle:_,endAngle:T,angle:w})}),this.init=0}},{key:"setupComponents",value:function(){var n=this.state,o=[["pieSlices",{},function(){return{sliceStrings:n.sliceStrings,colors:this.colors}}.bind(this)]];this.components=new Map(o.map(function(a){var u=Pi.apply(void 0,xf(a));return[a[0],u]}))}},{key:"calTranslateByAngle",value:function(n){var o=this.radius,a=this.hoverRadio,u=Ue(n.startAngle+n.angle/2,o);return"translate3d("+u.x*a+"px,"+u.y*a+"px,0)"}},{key:"hoverSlice",value:function(n,o,a,u){if(n){var h=this.colors[o];if(a){sn(n,this.calTranslateByAngle(this.state.slicesProperties[o])),n.style.fill=Cr(h,50);var d=gi(this.svg),c=u.pageX-d.left+10,p=u.pageY-d.top-10,_=(this.formatted_labels&&this.formatted_labels.length>0?this.formatted_labels[o]:this.state.labels[o])+": ",g=(100*this.state.sliceTotals[o]/this.state.grandTotal).toFixed(1);this.tip.setValues(c,p,{name:_,value:g+"%"}),this.tip.showTip()}else sn(n,"translate3d(0,0,0)"),this.tip.hideTip(),n.style.fill=h}}},{key:"bindTooltip",value:function(){this.container.addEventListener("mousemove",this.mouseMove),this.container.addEventListener("mouseleave",this.mouseLeave)}},{key:"mouseMove",value:function(n){var o=n.target,a=this.components.get("pieSlices").store,u=this.curActiveSliceIndex,h=this.curActiveSlice;if(a.includes(o)){var d=a.indexOf(o);this.hoverSlice(h,u,!1),this.curActiveSlice=o,this.curActiveSliceIndex=d,this.hoverSlice(o,d,!0,n)}else this.mouseLeave()}},{key:"mouseLeave",value:function(){this.hoverSlice(this.curActiveSlice,this.curActiveSliceIndex,!1)}}]),e}(Or),Bd=function(){function r(e,n){var o=[],a=!0,u=!1,h=void 0;try{for(var d,c=e[Symbol.iterator]();!(a=(d=c.next()).done)&&(o.push(d.value),!n||o.length!==n);a=!0);}catch(p){u=!0,h=p}finally{try{!a&&c.return&&c.return()}finally{if(u)throw h}}return o}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Rd=function(){function r(e,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,o){return n&&r(e.prototype,n),o&&r(e,o),e}}(),Wt=He+sd,Ze=Wt,Zd=function(r){function e(n,o){Nf(this,e);var a=Df(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,o));a.type="heatmap",a.countLabel=o.countLabel||"";var u=["Sunday","Monday"],h=u.includes(o.startSubDomain)?o.startSubDomain:"Sunday";return a.startSubDomainIndex=u.indexOf(h),a.setup(),a}return If(e,r),Rd(e,[{key:"setMeasures",value:function(n){var o=this.measures;this.discreteDomains=n.discreteDomains===0?0:1,o.paddings.top=3*Ze,o.paddings.bottom=0,o.legendHeight=2*Ze,o.baseHeight=Ze*fi+ha(o);var a=this.data,u=this.discreteDomains?Ss:0;this.independentWidth=(nr(a.start,a.end)+u)*Wt+rn(o)}},{key:"updateWidth",value:function(){var n=this.discreteDomains?Ss:0,o=this.state.noOfWeeks?this.state.noOfWeeks:52;this.baseWidth=(o+n)*Wt+rn(this.measures)}},{key:"prepareData",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.data;if(n.start&&n.end&&n.start>n.end)throw new Error("Start date cannot be greater than end date.");if(n.start||(n.start=new Date,n.start.setFullYear(n.start.getFullYear()-1)),n.end||(n.end=new Date),n.dataPoints=n.dataPoints||{},parseInt(Object.keys(n.dataPoints)[0])>1e5){var o={};Object.keys(n.dataPoints).forEach(function(a){var u=new Date(a*Ta);o[ir(u)]=n.dataPoints[a]}),n.dataPoints=o}return n}},{key:"calc",value:function(){var n=this.state;n.start=xe(this.data.start),n.end=xe(this.data.end),n.firstWeekStart=xe(n.start),n.noOfWeeks=nr(n.start,n.end),n.distribution=Of(Object.values(this.data.dataPoints),rr),n.domainConfigs=this.getDomains()}},{key:"setupComponents",value:function(){var n=this,o=this.state,a=this.discreteDomains?0:1,u=o.domainConfigs.map(function(d,c){return["heatDomain",{index:d.index,colWidth:Wt,rowHeight:Ze,squareSize:He,radius:n.rawChartArgs.radius||0,xTranslate:o.domainConfigs.filter(function(p,_){return _<c}).map(function(p){return p.cols.length-a}).reduce(function(p,_){return p+_},0)*Wt},function(){return o.domainConfigs[c]}.bind(n)]});this.components=new Map(u.map(function(d,c){var p=Pi.apply(void 0,zf(d));return[d[0]+"-"+c,p]}));var h=0;Ad.forEach(function(d,c){if([1,3,5].includes(c)){var p=pi("subdomain-name",-Wt/2,h,d,{fontSize:He,dy:8,textAnchor:"end"});n.drawArea.appendChild(p)}h+=Ze})}},{key:"update",value:function(n){n||console.error("No data to update."),this.data=this.prepareData(n),this.draw(),this.bindTooltip()}},{key:"bindTooltip",value:function(){var n=this;this.container.addEventListener("mousemove",function(o){n.components.forEach(function(a){var u=a.store,h=o.target;if(u.includes(h)){var d=h.getAttribute("data-value"),c=h.getAttribute("data-date").split("-"),p=va(parseInt(c[1])-1,!0),_=n.container.getBoundingClientRect(),g=h.getBoundingClientRect(),y=parseInt(o.target.getAttribute("width")),w=g.left-_.left+y/2,T=g.top-_.top,A=d+" "+n.countLabel,E=" on "+p+" "+c[0]+", "+c[2];n.tip.setValues(w,T,{name:E,value:A,valueFirst:1},[]),n.tip.showTip()}})})}},{key:"renderLegend",value:function(){var n=this;this.legendArea.textContent="";var o=0,a=Ze,u=this.rawChartArgs.radius||0,h=pi("subdomain-name",o,a,"Less",{fontSize:He+1,dy:9});o=2*Wt+Wt/2,this.legendArea.appendChild(h),this.colors.slice(0,rr).map(function(c,p){var _=_a("heatmap-legend-unit",o+(Wt+3)*p,a,He,u,c);n.legendArea.appendChild(_)});var d=pi("subdomain-name",o+rr*(Wt+3)+Wt/4,a,"More",{fontSize:He+1,dy:9});this.legendArea.appendChild(d)}},{key:"getDomains",value:function(){for(var n=this.state,o=[n.start.getMonth(),n.start.getFullYear()],a=o[0],u=o[1],h=[n.end.getMonth(),n.end.getFullYear()],d=h[0]-a+1+12*(h[1]-u),c=[],p=xe(n.start),_=0;_<d;_++){var g=n.end;if(!_f(p,n.end)){var y=[p.getMonth(),p.getFullYear()];g=xs(y[0],y[1])}c.push(this.getDomainConfig(p,g)),$e(g,1),p=g}return c}},{key:"getDomainConfig",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=[n.getMonth(),n.getFullYear()],u=a[0],h=a[1],d=ya(n),c={index:u,cols:[]};$e(o=xe(o)||xs(u,h),1);for(var p=nr(d,o),_=[],g=void 0,y=0;y<p;y++)g=this.getCol(d,u),_.push(g),$e(d=new Date(g[fi-1].yyyyMmDd),1);return g[fi-1].dataValue!==void 0&&($e(d,1),_.push(this.getCol(d,u,!0))),c.cols=_,c}},{key:"getCol",value:function(n,o){for(var a=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=this.state,h=xe(n),d=[],c=0;c<fi;c++,$e(h,1)){var p={},_=h>=u.start&&h<=u.end;a||h.getMonth()!==o||!_?p.yyyyMmDd=ir(h):p=this.getSubDomainConfig(h),d.push(p)}return d}},{key:"getSubDomainConfig",value:function(n){var o=ir(n),a=this.data.dataPoints[o];return{yyyyMmDd:o,dataValue:a||0,fill:this.colors[Mf(a,this.state.distribution)]}}}]),e}(Er),$d=function(){function r(e,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,o){return n&&r(e.prototype,n),o&&r(e,o),e}}(),or=function r(e,n,o){e===null&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,n);if(a===void 0){var u=Object.getPrototypeOf(e);return u===null?void 0:r(u,n,o)}if("value"in a)return a.value;var h=a.get;if(h!==void 0)return h.call(o)},pr=function(r){function e(n,o){Hf(this,e);var a=Ff(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,o));return a.barOptions=o.barOptions||{},a.lineOptions=o.lineOptions||{},a.type=o.type||"line",a.init=1,a.setup(),a}return Uf(e,r),$d(e,[{key:"setMeasures",value:function(){this.data.datasets.length<=1&&(this.config.showLegend=0,this.measures.paddings.bottom=30)}},{key:"configure",value:function(n){or(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,n),n.axisOptions=n.axisOptions||{},n.tooltipOptions=n.tooltipOptions||{},this.config.xAxisMode=n.axisOptions.xAxisMode||"span",this.config.yAxisMode=n.axisOptions.yAxisMode||"span",this.config.xIsSeries=n.axisOptions.xIsSeries||0,this.config.shortenYAxisNumbers=n.axisOptions.shortenYAxisNumbers||0,this.config.formatTooltipX=n.tooltipOptions.formatTooltipX,this.config.formatTooltipY=n.tooltipOptions.formatTooltipY,this.config.valuesOverPoints=n.valuesOverPoints}},{key:"prepareData",value:function(){return Rf(arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.data,this.type)}},{key:"prepareFirstData",value:function(){return Zf(arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.data)}},{key:"calc",value:function(){var n=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.calcXPositions(),n||this.calcYAxisParameters(this.getAllYValues(),this.type==="line"),this.makeDataByIndex()}},{key:"calcXPositions",value:function(){var n=this.state,o=this.data.labels;n.datasetLength=o.length,n.unitWidth=this.width/n.datasetLength,n.xOffset=n.unitWidth/2,n.xAxis={labels:o,positions:o.map(function(a,u){return ca(n.xOffset+u*n.unitWidth)})}}},{key:"calcYAxisParameters",value:function(n){var o=Sf(n,arguments.length>1&&arguments[1]!==void 0?arguments[1]:"false"),a=this.height/Af(o),u=ba(o)*a,h=this.height-Cf(o)*u;this.state.yAxis={labels:o,positions:o.map(function(d){return h-d*a}),scaleMultiplier:a,zeroLine:h},this.calcDatasetPoints(),this.calcYExtremes(),this.calcYRegions()}},{key:"calcDatasetPoints",value:function(){var n=this.state,o=function(a){return a.map(function(u){return qi(u,n.yAxis)})};n.datasets=this.data.datasets.map(function(a,u){var h=a.values,d=a.cumulativeYs||[];return{name:a.name&&a.name.replace(/<|>|&/g,function(c){return c=="&"?"&amp;":c=="<"?"&lt;":"&gt;"}),index:u,chartType:a.chartType,values:h,yPositions:o(h),cumulativeYs:d,cumulativeYPos:o(d)}})}},{key:"calcYExtremes",value:function(){var n=this.state;if(this.barOptions.stacked)return void(n.yExtremes=n.datasets[n.datasets.length-1].cumulativeYPos);n.yExtremes=new Array(n.datasetLength).fill(9999),n.datasets.map(function(o){o.yPositions.map(function(a,u){a<n.yExtremes[u]&&(n.yExtremes[u]=a)})})}},{key:"calcYRegions",value:function(){var n=this.state;this.data.yMarkers&&(this.state.yMarkers=this.data.yMarkers.map(function(o){return o.position=qi(o.value,n.yAxis),o.options||(o.options={}),o})),this.data.yRegions&&(this.state.yRegions=this.data.yRegions.map(function(o){return o.startPos=qi(o.start,n.yAxis),o.endPos=qi(o.end,n.yAxis),o.options||(o.options={}),o}))}},{key:"getAllYValues",value:function(){var n,o=this,a="values";if(this.barOptions.stacked){a="cumulativeYs";var u=new Array(this.state.datasetLength).fill(0);this.data.datasets.map(function(d,c){var p=o.data.datasets[c].values;d[a]=u=u.map(function(_,g){return _+p[g]})})}var h=this.data.datasets.map(function(d){return d[a]});return this.data.yMarkers&&h.push(this.data.yMarkers.map(function(d){return d.value})),this.data.yRegions&&this.data.yRegions.map(function(d){h.push([d.end,d.start])}),(n=[]).concat.apply(n,Ps(h))}},{key:"setupComponents",value:function(){var n=this,o=[["yAxis",{mode:this.config.yAxisMode,width:this.width,shortenNumbers:this.config.shortenYAxisNumbers},function(){return this.state.yAxis}.bind(this)],["xAxis",{mode:this.config.xAxisMode,height:this.height},function(){var _=this.state;return _.xAxis.calcLabels=$f(this.width,_.xAxis.labels,this.config.xIsSeries),_.xAxis}.bind(this)],["yRegions",{width:this.width,pos:"right"},function(){return this.state.yRegions}.bind(this)]],a=this.state.datasets.filter(function(_){return _.chartType==="bar"}),u=this.state.datasets.filter(function(_){return _.chartType==="line"}),h=a.map(function(_){var g=_.index;return["barGraph-"+_.index,{index:g,color:n.colors[g],stacked:n.barOptions.stacked,valuesOverPoints:n.config.valuesOverPoints,minHeight:n.height*nd},function(){var y=this.state,w=y.datasets[g],T=this.barOptions.stacked,A=this.barOptions.spaceRatio||id,E=y.unitWidth*(1-A),C=E/(T?1:a.length),M=y.xAxis.positions.map(function(N){return N-E/2});T||(M=M.map(function(N){return N+C*g}));var z=new Array(y.datasetLength).fill("");this.config.valuesOverPoints&&(z=T&&w.index===y.datasets.length-1?w.cumulativeYs:w.values);var D=new Array(y.datasetLength).fill(0);return T&&(D=w.yPositions.map(function(N,B){return N-w.cumulativeYPos[B]})),{xPositions:M,yPositions:w.yPositions,offsets:D,labels:z,zeroLine:y.yAxis.zeroLine,barsWidth:E,barWidth:C}}.bind(n)]}),d=u.map(function(_){var g=_.index;return["lineGraph-"+_.index,{index:g,color:n.colors[g],svgDefs:n.svgDefs,heatline:n.lineOptions.heatline,regionFill:n.lineOptions.regionFill,spline:n.lineOptions.spline,hideDots:n.lineOptions.hideDots,hideLine:n.lineOptions.hideLine,valuesOverPoints:n.config.valuesOverPoints},function(){var y=this.state,w=y.datasets[g],T=y.yAxis.positions[0]<y.yAxis.zeroLine?y.yAxis.positions[0]:y.yAxis.zeroLine;return{xPositions:y.xAxis.positions,yPositions:w.yPositions,values:w.values,zeroLine:T,radius:this.lineOptions.dotSize||rd}}.bind(n)]}),c=[["yMarkers",{width:this.width,pos:"right"},function(){return this.state.yMarkers}.bind(this)]];o=o.concat(h,d,c);var p=["yMarkers","yRegions"];this.dataUnitComponents=[],this.components=new Map(o.filter(function(_){return!p.includes(_[0])||n.state[_[0]]}).map(function(_){var g=Pi.apply(void 0,Ps(_));return(_[0].includes("lineGraph")||_[0].includes("barGraph"))&&n.dataUnitComponents.push(g),[_[0],g]}))}},{key:"makeDataByIndex",value:function(){var n=this;this.dataByIndex={};var o=this.state,a=this.config.formatTooltipX,u=this.config.formatTooltipY;o.xAxis.labels.map(function(h,d){var c=n.state.datasets.map(function(p,_){var g=p.values[d];return{title:p.name,value:g,yPos:p.yPositions[d],color:n.colors[_],formatted:u?u(g):g}});n.dataByIndex[d]={label:h,formattedLabel:a?a(h):h,xPos:o.xAxis.positions[d],values:c,yExtreme:o.yExtremes[d]}})}},{key:"bindTooltip",value:function(){var n=this;this.container.addEventListener("mousemove",function(o){var a=n.measures,u=gi(n.container),h=o.pageX-u.left-Ji(a),d=o.pageY-u.top;d<n.height+nn(a)&&d>nn(a)?n.mapTooltipXPosition(h):n.tip.hideTip()})}},{key:"mapTooltipXPosition",value:function(n){var o=this.state;if(o.yExtremes){var a=Ef(n,o.xAxis.positions,!0);if(a>=0){var u=this.dataByIndex[a];this.tip.setValues(u.xPos+this.tip.offset.x,u.yExtreme+this.tip.offset.y,{name:u.formattedLabel,value:""},u.values,a),this.tip.showTip()}}}},{key:"renderLegend",value:function(){var n=this,o=this.data;o.datasets.length>1&&(this.legendArea.textContent="",o.datasets.map(function(a,u){var h=ed,d=Uc(h*u,"0",h,n.colors[u],a.name,n.config.truncateLegends);n.legendArea.appendChild(d)}))}},{key:"makeOverlay",value:function(){var n=this;if(this.init)return void(this.init=0);this.overlayGuides&&this.overlayGuides.forEach(function(o){var a=o.overlay;a.parentNode.removeChild(a)}),this.overlayGuides=this.dataUnitComponents.map(function(o){return{type:o.unitType,overlay:void 0,units:o.units}}),this.state.currentIndex===void 0&&(this.state.currentIndex=this.state.datasetLength-1),this.overlayGuides.map(function(o){var a=o.units[n.state.currentIndex];o.overlay=gd[o.type](a),n.drawArea.appendChild(o.overlay)})}},{key:"updateOverlayGuides",value:function(){this.overlayGuides&&this.overlayGuides.forEach(function(n){var o=n.overlay;o.parentNode.removeChild(o)})}},{key:"bindOverlay",value:function(){var n=this;this.parent.addEventListener("data-select",function(){n.updateOverlay()})}},{key:"bindUnits",value:function(){var n=this;this.dataUnitComponents.map(function(o){o.units.map(function(a){a.addEventListener("click",function(){var u=a.getAttribute("data-point-index");n.setCurrentDataPoint(u)})})}),this.tip.container.addEventListener("click",function(){var o=n.tip.container.getAttribute("data-point-index");n.setCurrentDataPoint(o)})}},{key:"updateOverlay",value:function(){var n=this;this.overlayGuides.map(function(o){var a=o.units[n.state.currentIndex];vd[o.type](a,o.overlay)})}},{key:"onLeftArrow",value:function(){this.setCurrentDataPoint(this.state.currentIndex-1)}},{key:"onRightArrow",value:function(){this.setCurrentDataPoint(this.state.currentIndex+1)}},{key:"getDataPoint",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.state.currentIndex,o=this.state;return{index:n,label:o.xAxis.labels[n],values:o.datasets.map(function(a){return a.values[n]})}}},{key:"setCurrentDataPoint",value:function(n){var o=this.state;(n=parseInt(n))<0&&(n=0),n>=o.xAxis.labels.length&&(n=o.xAxis.labels.length-1),n!==o.currentIndex&&(o.currentIndex=n,Ec(this.parent,"data-select",this.getDataPoint()))}},{key:"addDataPoint",value:function(n,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.state.datasetLength;or(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addDataPoint",this).call(this,n,o,a),this.data.labels.splice(a,0,n),this.data.datasets.map(function(u,h){u.values.splice(a,0,o[h])}),this.update(this.data)}},{key:"removeDataPoint",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.state.datasetLength-1;this.data.labels.length<=1||(or(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeDataPoint",this).call(this,n),this.data.labels.splice(n,1),this.data.datasets.map(function(o){o.values.splice(n,1)}),this.update(this.data))}},{key:"updateDataset",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.data.datasets[o].values=n,this.update(this.data)}},{key:"updateDatasets",value:function(n){this.data.datasets.map(function(o,a){n[a]&&(o.values=n[a])}),this.update(this.data)}}]),e}(Er),Hd=function(){function r(e,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,o){return n&&r(e.prototype,n),o&&r(e,o),e}}(),Es=function r(e,n,o){e===null&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,n);if(a===void 0){var u=Object.getPrototypeOf(e);return u===null?void 0:r(u,n,o)}if("value"in a)return a.value;var h=a.get;if(h!==void 0)return h.call(o)},Fd=function(r){function e(n,o){Wf(this,e);var a=Gf(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,o));return a.type="donut",a.initTimeout=0,a.init=1,a.setup(),a}return qf(e,r),Hd(e,[{key:"configure",value:function(n){Es(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,n),this.mouseMove=this.mouseMove.bind(this),this.mouseLeave=this.mouseLeave.bind(this),this.hoverRadio=n.hoverRadio||.1,this.config.startAngle=n.startAngle||0,this.clockWise=n.clockWise||!1,this.strokeWidth=n.strokeWidth||30}},{key:"calc",value:function(){var n=this;Es(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"calc",this).call(this);var o=this.state;this.radius=this.height>this.width?this.center.x-this.strokeWidth/2:this.center.y-this.strokeWidth/2;var a=this.radius,u=this.clockWise,h=o.slicesProperties||[];o.sliceStrings=[],o.slicesProperties=[];var d=180-this.config.startAngle;o.sliceTotals.map(function(c,p){var _=d,g=c/o.grandTotal*xa,y=g>180?1:0,w=u?-g:g,T=d+=w,A=Ue(_,a),E=Ue(T,a),C=n.init&&h[p],M=void 0,z=void 0;n.init?(M=C?C.startPosition:A,z=C?C.endPosition:A):(M=A,z=E);var D=g===360?Hc(M,z,n.center,n.radius,n.clockWise,y):$c(M,z,n.center,n.radius,n.clockWise,y);o.sliceStrings.push(D),o.slicesProperties.push({startPosition:A,endPosition:E,value:c,total:o.grandTotal,startAngle:_,endAngle:T,angle:w})}),this.init=0}},{key:"setupComponents",value:function(){var n=this.state,o=[["donutSlices",{},function(){return{sliceStrings:n.sliceStrings,colors:this.colors,strokeWidth:this.strokeWidth}}.bind(this)]];this.components=new Map(o.map(function(a){var u=Pi.apply(void 0,jf(a));return[a[0],u]}))}},{key:"calTranslateByAngle",value:function(n){var o=this.radius,a=this.hoverRadio,u=Ue(n.startAngle+n.angle/2,o);return"translate3d("+u.x*a+"px,"+u.y*a+"px,0)"}},{key:"hoverSlice",value:function(n,o,a,u){if(n){var h=this.colors[o];if(a){sn(n,this.calTranslateByAngle(this.state.slicesProperties[o])),n.style.stroke=Cr(h,50);var d=gi(this.svg),c=u.pageX-d.left+10,p=u.pageY-d.top-10,_=(this.formatted_labels&&this.formatted_labels.length>0?this.formatted_labels[o]:this.state.labels[o])+": ",g=(100*this.state.sliceTotals[o]/this.state.grandTotal).toFixed(1);this.tip.setValues(c,p,{name:_,value:g+"%"}),this.tip.showTip()}else sn(n,"translate3d(0,0,0)"),this.tip.hideTip(),n.style.stroke=h}}},{key:"bindTooltip",value:function(){this.container.addEventListener("mousemove",this.mouseMove),this.container.addEventListener("mouseleave",this.mouseLeave)}},{key:"mouseMove",value:function(n){var o=n.target,a=this.components.get("donutSlices").store,u=this.curActiveSliceIndex,h=this.curActiveSlice;if(a.includes(o)){var d=a.indexOf(o);this.hoverSlice(h,u,!1),this.curActiveSlice=o,this.curActiveSliceIndex=d,this.hoverSlice(o,d,!0,n)}else this.mouseLeave()}},{key:"mouseLeave",value:function(){this.hoverSlice(this.curActiveSlice,this.curActiveSliceIndex,!1)}}]),e}(Or),Os={bar:pr,line:pr,percentage:Nd,heatmap:Zd,pie:Id,donut:Fd},Ud=function r(e,n){return Vf(this,r),Yf(n.type,e,n)};function jd(r){let e,n,o;return{c(){e=k("div")},m(a,u){H(a,e,u),r[18](e),n||(o=Tt(e,"data-select",r[17]),n=!0)},p:j,i:j,o:j,d(a){a&&$(e),r[18](null),n=!1,o()}}}function Wd(r,e,n){let{data:o={labels:[],datasets:[{values:[]}],yMarkers:{},yRegions:[]}}=e,{title:a=""}=e,{type:u="line"}=e,{height:h=300}=e,{animate:d=!0}=e,{axisOptions:c={}}=e,{barOptions:p={}}=e,{lineOptions:_={}}=e,{tooltipOptions:g={}}=e,{colors:y=[]}=e,{valuesOverPoints:w=0}=e,{isNavigable:T=!1}=e,{maxSlices:A=3}=e,E=null,C;function M(R){return function(...st){if(E)return R(...st)}}const z=M((R,Mt,st)=>E.addDataPoint(R,Mt,st)),D=M(R=>E.removeDataPoint(R)),N=M(()=>E.export()),B=M(R=>E.update(R));pe(()=>{E=new Ud(C,{data:o,title:a,type:u,height:h,animate:d,colors:y,axisOptions:c,barOptions:p,lineOptions:_,tooltipOptions:g,valuesOverPoints:w,isNavigable:T,maxSlices:A})}),$s(()=>{E=null});function W(R){sr.call(this,r,R)}function J(R){ce[R?"unshift":"push"](()=>{C=R,n(0,C)})}return r.$$set=R=>{"data"in R&&n(1,o=R.data),"title"in R&&n(2,a=R.title),"type"in R&&n(3,u=R.type),"height"in R&&n(4,h=R.height),"animate"in R&&n(5,d=R.animate),"axisOptions"in R&&n(6,c=R.axisOptions),"barOptions"in R&&n(7,p=R.barOptions),"lineOptions"in R&&n(8,_=R.lineOptions),"tooltipOptions"in R&&n(9,g=R.tooltipOptions),"colors"in R&&n(10,y=R.colors),"valuesOverPoints"in R&&n(11,w=R.valuesOverPoints),"isNavigable"in R&&n(12,T=R.isNavigable),"maxSlices"in R&&n(13,A=R.maxSlices)},r.$$.update=()=>{r.$$.dirty&2&&B(o)},[C,o,a,u,h,d,c,p,_,g,y,w,T,A,z,D,N,W,J]}class Ms extends Pt{constructor(e){super(),xt(this,e,Wd,jd,bt,{data:1,title:2,type:3,height:4,animate:5,axisOptions:6,barOptions:7,lineOptions:8,tooltipOptions:9,colors:10,valuesOverPoints:11,isNavigable:12,maxSlices:13,addDataPoint:14,removeDataPoint:15,exportChart:16})}get addDataPoint(){return this.$$.ctx[14]}get removeDataPoint(){return this.$$.ctx[15]}get exportChart(){return this.$$.ctx[16]}}function zs(r){let e,n,o,a,u,h,d;return{c(){e=k("button"),e.textContent="See Charts as Pies",n=I(),o=k("button"),o.textContent="See Charts as Bars",a=I(),u=k("button"),u.textContent="See Charts as Lines"},m(c,p){H(c,e,p),H(c,n,p),H(c,o,p),H(c,a,p),H(c,u,p),h||(d=[Tt(e,"click",r[3]),Tt(o,"click",r[4]),Tt(u,"click",r[5])],h=!0)},p:j,d(c){c&&$(e),c&&$(n),c&&$(o),c&&$(a),c&&$(u),h=!1,Ft(d)}}}function Ns(r){let e,n,o,a,u,h,d,c,p,_,g;return u=new Ms({props:{data:r[1],type:r[0]}}),_=new Ms({props:{data:r[2],type:r[0]}}),{c(){e=k("div"),n=k("div"),o=k("h1"),o.textContent="By School Type",a=I(),ct(u.$$.fragment),h=I(),d=k("div"),c=k("h1"),c.textContent="By School/Campus Of Paris-Saclay",p=I(),ct(_.$$.fragment),x(o,"class","title is-4"),x(n,"class","column has-text-centered"),x(c,"class","title is-4"),x(d,"class","column has-text-centered"),x(e,"class","columns")},m(y,w){H(y,e,w),b(e,n),b(n,o),b(n,a),ut(u,n,null),b(e,h),b(e,d),b(d,c),b(d,p),ut(_,d,null),g=!0},p(y,w){const T={};w&2&&(T.data=y[1]),w&1&&(T.type=y[0]),u.$set(T);const A={};w&4&&(A.data=y[2]),w&1&&(A.type=y[0]),_.$set(A)},i(y){g||(tt(u.$$.fragment,y),tt(_.$$.fragment,y),g=!0)},o(y){it(u.$$.fragment,y),it(_.$$.fragment,y),g=!1},d(y){y&&$(e),ht(u),ht(_)}}}function Gd(r){let e,n,o,a,u,h,d,c,p,_;o=new ke({props:{subTitle:"Analytics",title:"Schools of University of Paris-Saclay"}}),h=new fn({});let g=r[0]==""&&zs(r),y=r[0]&&Ns(r);return{c(){e=k("div"),n=k("div"),ct(o.$$.fragment),a=I(),u=k("div"),ct(h.$$.fragment),d=I(),g&&g.c(),c=I(),y&&y.c(),p=Le(),x(n,"class","column is-two-thirds"),x(u,"class","column"),x(e,"class","columns is-vcentered")},m(w,T){H(w,e,T),b(e,n),ut(o,n,null),b(e,a),b(e,u),ut(h,u,null),H(w,d,T),g&&g.m(w,T),H(w,c,T),y&&y.m(w,T),H(w,p,T),_=!0},p(w,[T]){w[0]==""?g?g.p(w,T):(g=zs(w),g.c(),g.m(c.parentNode,c)):g&&(g.d(1),g=null),w[0]?y?(y.p(w,T),T&1&&tt(y,1)):(y=Ns(w),y.c(),tt(y,1),y.m(p.parentNode,p)):y&&(yi(),it(y,1,1,()=>{y=null}),bi())},i(w){_||(tt(o.$$.fragment,w),tt(h.$$.fragment,w),tt(y),_=!0)},o(w){it(o.$$.fragment,w),it(h.$$.fragment,w),it(y),_=!1},d(w){w&&$(e),ht(o),ht(h),w&&$(d),g&&g.d(w),w&&$(c),y&&y.d(w),w&&$(p)}}}function qd(r,e,n){const o=Kt("DonationService");let a="",u={labels:["Engineering School","Faculty"],datasets:[{values:[0,0]}]},h={labels:[],datasets:[{values:[]}]};pe(async()=>{let _=await o.getDonations();_.forEach(y=>{y.method=="Engineering School"?n(1,u.datasets[0].values[0]+=y.amount,u):y.method=="Faculty"&&n(1,u.datasets[0].values[1]+=y.amount,u)});let g=await o.getCandidates();n(2,h.labels=[],h),g.forEach(y=>{h.labels.push(`${y.lastName}, ${y.firstName}`),h.datasets[0].values.push(0)}),g.forEach((y,w)=>{_.forEach(T=>{T.candidate._id==y._id&&n(2,h.datasets[0].values[w]+=T.amount,h)})})});function d(){n(0,a="pie")}function c(){n(0,a="bar")}function p(){n(0,a="bar")}return[a,u,h,d,c,p]}class Vd extends Pt{constructor(e){super(),xt(this,e,qd,Gd,bt,{})}}function Yd(r){let e,n,o;return n=new Nh({props:{routes:r[0]}}),{c(){e=k("div"),ct(n.$$.fragment),x(e,"class","container")},m(a,u){H(a,e,u),ut(n,e,null),o=!0},p:j,i(a){o||(tt(n.$$.fragment,a),o=!0)},o(a){it(n.$$.fragment,a),o=!1},d(a){a&&$(e),ht(n)}}}function Xd(r){return su("DonationService",new wh("https://webbackendpaul.herokuapp.com")),[{"/":rs,"/login":Zh,"/signup":jh,"/donate":mc,"/report":ec,"/map":Tc,"/charts":Vd,"/logout":rs}]}class Kd extends Pt{constructor(e){super(),xt(this,e,Xd,Yd,bt,{})}}new Kd({target:document.body});
